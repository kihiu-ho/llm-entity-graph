/*! For license information please see base.mjs.LICENSE.txt */
import*as e from"@neo4j-nvl/layout-workers";import*as t from"@segment/analytics-next";var r={7991:(e,t)=>{t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=16383,u=0,c=n-o;u<c;u+=a)i.push(s(e,u,u+a>c?c:u+a));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function s(e,t,n){for(var o,i,a=[],u=t;u<n;u+=3)o=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1048:(e,t,r)=>{const n=r(7991),o=r(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function u(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|v(e,t);let n=u(r);const o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);const o=function(e){if(s.isBuffer(e)){const t=0|p(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),u(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,s.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(o)return n?-1:H(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,o){let i,a=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let n=-1;for(i=r;i<u;i++)if(c(e,i)===c(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===s)return n*a}else-1!==n&&(i-=i-n),n=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){let r=!0;for(let n=0;n<s;n++)if(c(e,i+n)!==c(t,n)){r=!1;break}if(r)return i}return-1}function _(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let a;for(n>i/2&&(n=i/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(K(n))return a;e[r+a]=n}return a}function w(e,t,r,n){return X(H(t,e.length-r),e,r,n)}function O(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return X(Y(t),e,r,n)}function E(e,t,r,n){return X(function(e,t){let r,n,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=r){let r,n,u,s;switch(a){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(s=(31&t)<<6|63&r,s>127&&(i=s));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(s=(15&t)<<12|(63&r)<<6|63&n,s>2047&&(s<55296||s>57343)&&(i=s));break;case 4:r=e[o+1],n=e[o+2],u=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(s=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&u,s>65535&&s<1114112&&(i=s))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=a}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},s.allocUnsafe=function(e){return f(e)},s.allocUnsafeSlow=function(e){return f(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(Z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=s.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))o+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,o){if(Z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const u=Math.min(i,a),c=this.slice(n,o),l=e.slice(t,r);for(let e=0;e<u;++e)if(c[e]!==l[e]){i=c[e],a=l[e];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function C(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function j(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function A(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=t;n<r;++n)o+=$[e[n]];return o}function k(e,t,r){const n=e.slice(t,r);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,o){V(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function N(e,t,r,n,o){V(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),s.prototype.readBigUInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=Q((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let o=0,i=1,a=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let o=r-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Q((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=Q((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=s.isBuffer(e)?e:s.from(e,n),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%a]}return this};const F={};function B(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||G(t,e.length-(r+1))}(n,o,i)}function W(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=z(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const $=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},6931:e=>{e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3269:(e,t,r)=>{var n=r(6931),o=r(9975),i=Object.hasOwnProperty,a=Object.create(null);for(var u in n)i.call(n,u)&&(a[n[u]]=u);var s=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function l(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),r="hsl";break;case"hwb":t=s.get.hwb(e),r="hwb";break;default:t=s.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,r,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],r=0;r<3;r++){var u=2*r;a[r]=parseInt(t.slice(u,u+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],r=0;r<3;r++)a[r]=parseInt(t[r]+t[r],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(t[r+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(n,t[1])?((a=n[t[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(r=0;r<3;r++)a[r]=c(a[r],0,255);return a[3]=c(a[3],0,1),a},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},s.to.hex=function(){var e=o(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},s.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return a[e.slice(0,3)]}},9792:(e,t,r)=>{var n=r(7045),o=r(4360),i=r(6804);e.exports=function(e,t){if(!t)return e;var r=Object.keys(t);if(0===r.length)return e;for(var a=n(e),u=r.length-1;u>=0;u--){var s=r[u],c=String(t[s]);c&&(c=" "+c),i(a,{type:"preprocessor",data:"#define "+s+c})}return o(a)}},6804:e=>{e.exports=function(e,o){Array.isArray(o)||(o=[o]);var i=function(e){for(var t=-1,r=0;r<e.length;r++){var o=e[r];if("preprocessor"===o.type)/^#(extension|version)/.test(o.data)&&(t=Math.max(t,r));else if("keyword"===o.type&&"precision"===o.data){var i=n(e,r);if(-1===i)throw new Error("precision statement not followed by any semicolons!");t=Math.max(t,i)}}return t+1}(e),a=i>0?e[i-1]:null;a&&r.test(a.data)&&e.splice(i++,0,t),e.splice.apply(e,[i,0].concat(o));var u=i+o.length;return e[u]&&/[^\r\n]$/.test(e[u].data)&&e.splice(u,0,t),e};var t={data:"\n",type:"whitespace"},r=/[^\r\n]$/;function n(e,t){for(var r=t;r<e.length;r++)if("operator"===e[r].type&&";"===e[r].data)return r;return-1}},4360:e=>{e.exports=function(e){for(var t=[],r=0;r<e.length;r++)"eof"!==e[r].type&&t.push(e[r].data);return t.join("")}},3206:(e,t,r)=>{e.exports=function(e){var t,r,S,E=0,P=0,T=s,x=[],C=[],j=1,A=0,k=0,R=!1,I=!1,M="",N=i,D=n;"300 es"===(e=e||{}).version&&(N=u,D=a);var L={},U={};for(E=0;E<N.length;E++)L[N[E]]=!0;for(E=0;E<D.length;E++)U[D[E]]=!0;return function(e){return C=[],null!==e?function(e){var r;for(E=0,e.toString&&(e=e.toString()),M+=e.replace(/\r\n/g,"\n"),S=M.length;t=M[E],E<S;){switch(r=E,T){case l:E=W();break;case f:case h:E=V();break;case d:E=G();break;case p:E=Y();break;case w:E=H();break;case v:E=X();break;case c:E=Z();break;case g:E=z();break;case s:E=B()}r!==E&&("\n"===M[r]?(A=0,++j):++A)}return P+=E,M=M.slice(E),C}(e):(x.length&&F(x.join("")),T=_,F("(eof)"),C)};function F(e){e.length&&C.push({type:O[T],data:e,position:k,line:j,column:A})}function B(){return x=x.length?[]:x,"/"===r&&"*"===t?(k=P+E-1,T=l,r=t,E+1):"/"===r&&"/"===t?(k=P+E-1,T=f,r=t,E+1):"#"===t?(T=h,k=P+E,E):/\s/.test(t)?(T=g,k=P+E,E):(R=/\d/.test(t),I=/[^\w_]/.test(t),k=P+E,T=R?p:I?d:c,E)}function z(){return/[^\s]/g.test(t)?(F(x.join("")),T=s,E):(x.push(t),r=t,E+1)}function V(){return"\r"!==t&&"\n"!==t||"\\"===r?(x.push(t),r=t,E+1):(F(x.join("")),T=s,E)}function W(){return"/"===t&&"*"===r?(x.push(t),F(x.join("")),T=s,E+1):(x.push(t),r=t,E+1)}function G(){if("."===r&&/\d/.test(t))return T=v,E;if("/"===r&&"*"===t)return T=l,E;if("/"===r&&"/"===t)return T=f,E;if("."===t&&x.length){for(;q(x););return T=v,E}if(";"===t||")"===t||"("===t){if(x.length)for(;q(x););return F(t),T=s,E+1}var e=2===x.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;q(x););return T=s,E}return x.push(t),r=t,E+1}function q(e){for(var t,r,n=0;;){if(t=o.indexOf(e.slice(0,e.length+n).join("")),r=o[t],-1===t){if(n--+e.length>0)continue;r=e.slice(0,1).join("")}return F(r),k+=r.length,(x=x.slice(r.length)).length}}function H(){return/[^a-fA-F0-9]/.test(t)?(F(x.join("")),T=s,E):(x.push(t),r=t,E+1)}function Y(){return"."===t||/[eE]/.test(t)?(x.push(t),T=v,r=t,E+1):"x"===t&&1===x.length&&"0"===x[0]?(T=w,x.push(t),r=t,E+1):/[^\d]/.test(t)?(F(x.join("")),T=s,E):(x.push(t),r=t,E+1)}function X(){return"f"===t&&(x.push(t),r=t,E+=1),/[eE]/.test(t)?(x.push(t),r=t,E+1):("-"!==t&&"+"!==t||!/[eE]/.test(r))&&/[^\d]/.test(t)?(F(x.join("")),T=s,E):(x.push(t),r=t,E+1)}function Z(){if(/[^\d\w_]/.test(t)){var e=x.join("");return T=U[e]?m:L[e]?b:y,F(x.join("")),T=s,E}return x.push(t),r=t,E+1}};var n=r(4704),o=r(2063),i=r(7192),a=r(8784),u=r(5592),s=999,c=9999,l=0,f=1,h=2,d=3,p=4,v=5,y=6,b=7,m=8,g=9,_=10,w=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},5592:(e,t,r)=>{var n=r(7192);n=n.slice().filter((function(e){return!/^(gl\_|texture)/.test(e)})),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},7192:e=>{e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},8784:(e,t,r)=>{var n=r(4704);e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},4704:e=>{e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},2063:e=>{e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7045:(e,t,r)=>{var n=r(3206);e.exports=function(e,t){var r=n(t),o=[];return(o=o.concat(r(e))).concat(r(null))}},9318:(e,t)=>{t.read=function(e,t,r,n,o){var i,a,u=8*o-n-1,s=(1<<u)-1,c=s>>1,l=-7,f=r?o-1:0,h=r?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=u;l>0;i=256*i+e[t+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+f>=1?h/s:h*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+d]=255&u,d+=p,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*v}},5250:function(e,t,r){var n;e=r.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=32,c=128,l=1/0,f=9007199254740991,h=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],v="[object Arguments]",y="[object Array]",b="[object Boolean]",m="[object Date]",g="[object Error]",_="[object Function]",w="[object GeneratorFunction]",O="[object Map]",S="[object Number]",E="[object Object]",P="[object Promise]",T="[object RegExp]",x="[object Set]",C="[object String]",j="[object Symbol]",A="[object WeakMap]",k="[object ArrayBuffer]",R="[object DataView]",I="[object Float32Array]",M="[object Float64Array]",N="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,Y=RegExp(q.source),X=RegExp(H.source),Z=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Oe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+we+"]",je="["+xe+"]",Ae="["+Oe+"]",ke="\\d+",Re="["+Se+"]",Ie="["+Ee+"]",Me="[^"+we+xe+ke+Se+Ee+Pe+"]",Ne="\\ud83c[\\udffb-\\udfff]",De="[^"+we+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Pe+"]",Be="\\u200d",ze="(?:"+Ie+"|"+Me+")",Ve="(?:"+Fe+"|"+Me+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Ae+"|"+Ne+")?",He="["+Te+"]?",Ye=He+qe+"(?:"+Be+"(?:"+[De,Le,Ue].join("|")+")"+He+qe+")*",Xe="(?:"+[Re,Le,Ue].join("|")+")"+Ye,Ze="(?:"+[De+Ae+"?",Ae,Le,Ue,Ce].join("|")+")",Ke=RegExp("['’]","g"),$e=RegExp(Ae,"g"),Qe=RegExp(Ne+"(?="+Ne+")|"+Ze+Ye,"g"),Je=RegExp([Fe+"?"+Ie+"+"+We+"(?="+[je,Fe,"$"].join("|")+")",Ve+"+"+Ge+"(?="+[je,Fe+ze,"$"].join("|")+")",Fe+"?"+ze+"+"+We,Fe+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,Xe].join("|"),"g"),et=RegExp("["+Be+we+Oe+Te+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,ot={};ot[I]=ot[M]=ot[N]=ot[D]=ot[L]=ot[U]=ot[F]=ot[B]=ot[z]=!0,ot[v]=ot[y]=ot[k]=ot[b]=ot[R]=ot[m]=ot[g]=ot[_]=ot[O]=ot[S]=ot[E]=ot[T]=ot[x]=ot[C]=ot[A]=!1;var it={};it[v]=it[y]=it[k]=it[R]=it[b]=it[m]=it[I]=it[M]=it[N]=it[D]=it[L]=it[O]=it[S]=it[E]=it[T]=it[x]=it[C]=it[j]=it[U]=it[F]=it[B]=it[z]=!0,it[g]=it[_]=it[A]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,st=parseInt,ct="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ht,vt=pt&&ct.process,yt=function(){try{return dt&&dt.require&&dt.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),bt=yt&&yt.isArrayBuffer,mt=yt&&yt.isDate,gt=yt&&yt.isMap,_t=yt&&yt.isRegExp,wt=yt&&yt.isSet,Ot=yt&&yt.isTypedArray;function St(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Et(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(n,a,r(a),e)}return n}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Tt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function xt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Ct(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}function jt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function At(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function kt(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function Rt(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function It(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function Mt(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function Nt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Dt=Wt("length");function Lt(e,t,r){var n;return r(e,(function(e,r,o){if(t(e,r,o))return n=r,!1})),n}function Ut(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ft(e,t,r){return t==t?function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):Ut(e,zt,r)}function Bt(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function zt(e){return e!=e}function Vt(e,t){var r=null==e?0:e.length;return r?Ht(e,t)/r:h}function Wt(e){return function(t){return null==t?o:t[e]}}function Gt(e){return function(t){return null==e?o:e[t]}}function qt(e,t,r,n,o){return o(e,(function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)})),r}function Ht(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==o&&(r=r===o?a:r+a)}return r}function Yt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Xt(e){return e?e.slice(0,fr(e)+1).replace(ne,""):e}function Zt(e){return function(t){return e(t)}}function Kt(e,t){return kt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function Qt(e,t){for(var r=-1,n=e.length;++r<n&&Ft(t,e[r],0)>-1;);return r}function Jt(e,t){for(var r=e.length;r--&&Ft(t,e[r],0)>-1;);return r}var er=Gt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tr=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+at[e]}function nr(e){return et.test(e)}function or(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ir(e,t){return function(r){return e(t(r))}}function ar(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&a!==u||(e[r]=u,i[o++]=r)}return i}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function sr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function cr(e){return nr(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Dt(e)}function lr(e){return nr(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function fr(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var hr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),dr=function e(t){var r,n=(t=null==t?ft:dr.defaults(ft.Object(),t,dr.pick(ft,rt))).Array,oe=t.Date,we=t.Error,Oe=t.Function,Se=t.Math,Ee=t.Object,Pe=t.RegExp,Te=t.String,xe=t.TypeError,Ce=n.prototype,je=Oe.prototype,Ae=Ee.prototype,ke=t["__core-js_shared__"],Re=je.toString,Ie=Ae.hasOwnProperty,Me=0,Ne=(r=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",De=Ae.toString,Le=Re.call(Ee),Ue=ft._,Fe=Pe("^"+Re.call(Ie).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=pt?t.Buffer:o,ze=t.Symbol,Ve=t.Uint8Array,We=Be?Be.allocUnsafe:o,Ge=ir(Ee.getPrototypeOf,Ee),qe=Ee.create,He=Ae.propertyIsEnumerable,Ye=Ce.splice,Xe=ze?ze.isConcatSpreadable:o,Ze=ze?ze.iterator:o,Qe=ze?ze.toStringTag:o,et=function(){try{var e=ci(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ct=oe&&oe.now!==ft.Date.now&&oe.now,lt=t.setTimeout!==ft.setTimeout&&t.setTimeout,ht=Se.ceil,dt=Se.floor,vt=Ee.getOwnPropertySymbols,yt=Be?Be.isBuffer:o,Dt=t.isFinite,Gt=Ce.join,pr=ir(Ee.keys,Ee),vr=Se.max,yr=Se.min,br=oe.now,mr=t.parseInt,gr=Se.random,_r=Ce.reverse,wr=ci(t,"DataView"),Or=ci(t,"Map"),Sr=ci(t,"Promise"),Er=ci(t,"Set"),Pr=ci(t,"WeakMap"),Tr=ci(Ee,"create"),xr=Pr&&new Pr,Cr={},jr=Li(wr),Ar=Li(Or),kr=Li(Sr),Rr=Li(Er),Ir=Li(Pr),Mr=ze?ze.prototype:o,Nr=Mr?Mr.valueOf:o,Dr=Mr?Mr.toString:o;function Lr(e){if(eu(e)&&!Wa(e)&&!(e instanceof zr)){if(e instanceof Br)return e;if(Ie.call(e,"__wrapped__"))return Ui(e)}return new Br(e)}var Ur=function(){function e(){}return function(t){if(!Ja(t))return{};if(qe)return qe(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function Fr(){}function Br(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Gr;++t<r;)this.add(e[t])}function Hr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Yr(e,t){var r=Wa(e),n=!r&&Va(e),o=!r&&!n&&Ya(e),i=!r&&!n&&!o&&su(e),a=r||n||o||i,u=a?Yt(e.length,Te):[],s=u.length;for(var c in e)!t&&!Ie.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,s))||u.push(c);return u}function Xr(e){var t=e.length;return t?e[qn(0,t-1)]:o}function Zr(e,t){return Ri(xo(e),on(t,0,e.length))}function Kr(e){return Ri(xo(e))}function $r(e,t,r){(r!==o&&!Fa(e[t],r)||r===o&&!(t in e))&&rn(e,t,r)}function Qr(e,t,r){var n=e[t];Ie.call(e,t)&&Fa(n,r)&&(r!==o||t in e)||rn(e,t,r)}function Jr(e,t){for(var r=e.length;r--;)if(Fa(e[r][0],t))return r;return-1}function en(e,t,r,n){return ln(e,(function(e,o,i){t(n,e,r(e),i)})),n}function tn(e,t){return e&&Co(t,Au(t),e)}function rn(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var r=-1,i=t.length,a=n(i),u=null==e;++r<i;)a[r]=u?o:Pu(e,t[r]);return a}function on(e,t,r){return e==e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function an(e,t,r,n,i,a){var u,s=1&t,c=2&t,l=4&t;if(r&&(u=i?r(e,n,i,a):r(e)),u!==o)return u;if(!Ja(e))return e;var f=Wa(e);if(f){if(u=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!s)return xo(e,u)}else{var h=hi(e),d=h==_||h==w;if(Ya(e))return wo(e,s);if(h==E||h==v||d&&!i){if(u=c||d?{}:pi(e),!s)return c?function(e,t){return Co(e,fi(e),t)}(e,function(e,t){return e&&Co(t,ku(t),e)}(u,e)):function(e,t){return Co(e,li(e),t)}(e,tn(u,e))}else{if(!it[h])return i?e:{};u=function(e,t,r){var n,o=e.constructor;switch(t){case k:return Oo(e);case b:case m:return new o(+e);case R:return function(e,t){var r=t?Oo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case I:case M:case N:case D:case L:case U:case F:case B:case z:return So(e,r);case O:return new o;case S:case C:return new o(e);case T:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new o;case j:return n=e,Nr?Ee(Nr.call(n)):{}}}(e,h,s)}}a||(a=new Hr);var p=a.get(e);if(p)return p;a.set(e,u),iu(e)?e.forEach((function(n){u.add(an(n,t,r,n,e,a))})):tu(e)&&e.forEach((function(n,o){u.set(o,an(n,t,r,o,e,a))}));var y=f?o:(l?c?ri:ti:c?ku:Au)(e);return Pt(y||e,(function(n,o){y&&(n=e[o=n]),Qr(u,o,an(n,t,r,o,e,a))})),u}function un(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ee(e);n--;){var i=r[n],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function sn(e,t,r){if("function"!=typeof e)throw new xe(i);return Ci((function(){e.apply(o,r)}),t)}function cn(e,t,r,n){var o=-1,i=jt,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;r&&(t=kt(t,Zt(r))),n?(i=At,a=!1):t.length>=200&&(i=$t,a=!1,t=new qr(t));e:for(;++o<u;){var l=e[o],f=null==r?l:r(l);if(l=n||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else i(t,f,n)||s.push(l)}return s}Lr.templateSettings={escape:Z,evaluate:K,interpolate:$,variable:"",imports:{_:Lr}},Lr.prototype=Fr.prototype,Lr.prototype.constructor=Lr,Br.prototype=Ur(Fr.prototype),Br.prototype.constructor=Br,zr.prototype=Ur(Fr.prototype),zr.prototype.constructor=zr,Vr.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},Vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vr.prototype.get=function(e){var t=this.__data__;if(Tr){var r=t[e];return r===a?o:r}return Ie.call(t,e)?t[e]:o},Vr.prototype.has=function(e){var t=this.__data__;return Tr?t[e]!==o:Ie.call(t,e)},Vr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tr&&t===o?a:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=Jr(t,e);return!(r<0||(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,0))},Wr.prototype.get=function(e){var t=this.__data__,r=Jr(t,e);return r<0?o:t[r][1]},Wr.prototype.has=function(e){return Jr(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=Jr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Gr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Or||Wr),string:new Vr}},Gr.prototype.delete=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},Gr.prototype.get=function(e){return ui(this,e).get(e)},Gr.prototype.has=function(e){return ui(this,e).has(e)},Gr.prototype.set=function(e,t){var r=ui(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},qr.prototype.add=qr.prototype.push=function(e){return this.__data__.set(e,a),this},qr.prototype.has=function(e){return this.__data__.has(e)},Hr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Hr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Hr.prototype.get=function(e){return this.__data__.get(e)},Hr.prototype.has=function(e){return this.__data__.has(e)},Hr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Or||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gr(n)}return r.set(e,t),this.size=r.size,this};var ln=ko(mn),fn=ko(gn,!0);function hn(e,t){var r=!0;return ln(e,(function(e,n,o){return r=!!t(e,n,o)})),r}function dn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],u=t(a);if(null!=u&&(s===o?u==u&&!uu(u):r(u,s)))var s=u,c=a}return c}function pn(e,t){var r=[];return ln(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function vn(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=vi),o||(o=[]);++i<a;){var u=e[i];t>0&&r(u)?t>1?vn(u,t-1,r,n,o):Rt(o,u):n||(o[o.length]=u)}return o}var yn=Ro(),bn=Ro(!0);function mn(e,t){return e&&yn(e,t,Au)}function gn(e,t){return e&&bn(e,t,Au)}function _n(e,t){return Ct(t,(function(t){return Ka(e[t])}))}function wn(e,t){for(var r=0,n=(t=bo(t,e)).length;null!=e&&r<n;)e=e[Di(t[r++])];return r&&r==n?e:o}function On(e,t,r){var n=t(e);return Wa(e)?n:Rt(n,r(e))}function Sn(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Ee(e)?function(e){var t=Ie.call(e,Qe),r=e[Qe];try{e[Qe]=o;var n=!0}catch(e){}var i=De.call(e);return n&&(t?e[Qe]=r:delete e[Qe]),i}(e):function(e){return De.call(e)}(e)}function En(e,t){return e>t}function Pn(e,t){return null!=e&&Ie.call(e,t)}function Tn(e,t){return null!=e&&t in Ee(e)}function xn(e,t,r){for(var i=r?At:jt,a=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=kt(h,Zt(t))),l=yr(h.length,l),c[s]=!r&&(t||a>=120&&h.length>=120)?new qr(s&&h):o}h=e[0];var d=-1,p=c[0];e:for(;++d<a&&f.length<l;){var v=h[d],y=t?t(v):v;if(v=r||0!==v?v:0,!(p?$t(p,y):i(f,y,r))){for(s=u;--s;){var b=c[s];if(!(b?$t(b,y):i(e[s],y,r)))continue e}p&&p.push(y),f.push(v)}}return f}function Cn(e,t,r){var n=null==(e=Pi(e,t=bo(t,e)))?e:e[Di(Zi(t))];return null==n?o:St(n,e,r)}function jn(e){return eu(e)&&Sn(e)==v}function An(e,t,r,n,i){return e===t||(null==e||null==t||!eu(e)&&!eu(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var u=Wa(e),s=Wa(t),c=u?y:hi(e),l=s?y:hi(t),f=(c=c==v?E:c)==E,h=(l=l==v?E:l)==E,d=c==l;if(d&&Ya(e)){if(!Ya(t))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new Hr),u||su(e)?Jo(e,t,r,n,i,a):function(e,t,r,n,o,i,a){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case b:case m:case S:return Fa(+e,+t);case g:return e.name==t.name&&e.message==t.message;case T:case C:return e==t+"";case O:var u=or;case x:var s=1&n;if(u||(u=ur),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var l=Jo(u(e),u(t),n,o,i,a);return a.delete(e),l;case j:if(Nr)return Nr.call(e)==Nr.call(t)}return!1}(e,t,c,r,n,i,a);if(!(1&r)){var p=f&&Ie.call(e,"__wrapped__"),_=h&&Ie.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,P=_?t.value():t;return a||(a=new Hr),i(w,P,r,n,a)}}return!!d&&(a||(a=new Hr),function(e,t,r,n,i,a){var u=1&r,s=ti(e),c=s.length;if(c!=ti(t).length&&!u)return!1;for(var l=c;l--;){var f=s[l];if(!(u?f in t:Ie.call(t,f)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=u;++l<c;){var y=e[f=s[l]],b=t[f];if(n)var m=u?n(b,y,f,t,e,a):n(y,b,f,e,t,a);if(!(m===o?y===b||i(y,b,r,n,a):m)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var g=e.constructor,_=t.constructor;g==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,n,i,a))}(e,t,r,n,An,i))}function kn(e,t,r,n){var i=r.length,a=i,u=!n;if(null==e)return!a;for(e=Ee(e);i--;){var s=r[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=r[i])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===o&&!(c in e))return!1}else{var h=new Hr;if(n)var d=n(l,f,c,e,t,h);if(!(d===o?An(f,l,3,n,h):d))return!1}}return!0}function Rn(e){return!(!Ja(e)||(t=e,Ne&&Ne in t))&&(Ka(e)?Fe:ve).test(Li(e));var t}function In(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?Wa(e)?Un(e[0],e[1]):Ln(e):fs(e)}function Mn(e){if(!wi(e))return pr(e);var t=[];for(var r in Ee(e))Ie.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Nn(e,t){return e<t}function Dn(e,t){var r=-1,o=qa(e)?n(e.length):[];return ln(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function Ln(e){var t=si(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(r){return r===e||kn(r,e,t)}}function Un(e,t){return mi(e)&&Oi(t)?Si(Di(e),t):function(r){var n=Pu(r,e);return n===o&&n===t?Tu(r,e):An(t,n,3)}}function Fn(e,t,r,n,i){e!==t&&yn(t,(function(a,u){if(i||(i=new Hr),Ja(a))!function(e,t,r,n,i,a,u){var s=Ti(e,r),c=Ti(t,r),l=u.get(c);if(l)$r(e,r,l);else{var f=a?a(s,c,r+"",e,t,u):o,h=f===o;if(h){var d=Wa(c),p=!d&&Ya(c),v=!d&&!p&&su(c);f=c,d||p||v?Wa(s)?f=s:Ha(s)?f=xo(s):p?(h=!1,f=wo(c,!0)):v?(h=!1,f=So(c,!0)):f=[]:nu(c)||Va(c)?(f=s,Va(s)?f=yu(s):Ja(s)&&!Ka(s)||(f=pi(c))):h=!1}h&&(u.set(c,f),i(f,c,n,a,u),u.delete(c)),$r(e,r,f)}}(e,t,u,r,Fn,n,i);else{var s=n?n(Ti(e,u),a,u+"",e,t,i):o;s===o&&(s=a),$r(e,u,s)}}),ku)}function Bn(e,t){var r=e.length;if(r)return yi(t+=t<0?r:0,r)?e[t]:o}function zn(e,t,r){t=t.length?kt(t,(function(e){return Wa(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[rs];var n=-1;t=kt(t,Zt(ai()));var o=Dn(e,(function(e,r,o){var i=kt(t,(function(t){return t(e)}));return{criteria:i,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,a=o.length,u=r.length;++n<a;){var s=Eo(o[n],i[n]);if(s)return n>=u?s:s*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(o)}function Vn(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],u=wn(e,a);r(u,a)&&Kn(i,bo(a,e),u)}return i}function Wn(e,t,r,n){var o=n?Bt:Ft,i=-1,a=t.length,u=e;for(e===t&&(t=xo(t)),r&&(u=kt(e,Zt(r)));++i<a;)for(var s=0,c=t[i],l=r?r(c):c;(s=o(u,l,s,n))>-1;)u!==e&&Ye.call(u,s,1),Ye.call(e,s,1);return e}function Gn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;yi(o)?Ye.call(e,o,1):so(e,o)}}return e}function qn(e,t){return e+dt(gr()*(t-e+1))}function Hn(e,t){var r="";if(!e||t<1||t>f)return r;do{t%2&&(r+=e),(t=dt(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return ji(Ei(e,t,rs),e+"")}function Xn(e){return Xr(Fu(e))}function Zn(e,t){var r=Fu(e);return Ri(r,on(t,0,r.length))}function Kn(e,t,r,n){if(!Ja(e))return e;for(var i=-1,a=(t=bo(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var c=Di(t[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=u){var f=s[c];(l=n?n(f,c,s):o)===o&&(l=Ja(f)?f:yi(t[i+1])?[]:{})}Qr(s,c,l),s=s[c]}return e}var $n=xr?function(e,t){return xr.set(e,t),e}:rs,Qn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Ju(t),writable:!0})}:rs;function Jn(e){return Ri(Fu(e))}function eo(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++o<i;)a[o]=e[o+t];return a}function to(e,t){var r;return ln(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}function ro(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var i=n+o>>>1,a=e[i];null!==a&&!uu(a)&&(r?a<=t:a<t)?n=i+1:o=i}return o}return no(e,t,rs,r)}function no(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=r(t))!=t,s=null===t,c=uu(t),l=t===o;i<a;){var f=dt((i+a)/2),h=r(e[f]),d=h!==o,p=null===h,v=h==h,y=uu(h);if(u)var b=n||v;else b=l?v&&(n||d):s?v&&d&&(n||!p):c?v&&d&&!p&&(n||!y):!p&&!y&&(n?h<=t:h<t);b?i=f+1:a=f}return yr(a,4294967294)}function oo(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r],u=t?t(a):a;if(!r||!Fa(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function io(e){return"number"==typeof e?e:uu(e)?h:+e}function ao(e){if("string"==typeof e)return e;if(Wa(e))return kt(e,ao)+"";if(uu(e))return Dr?Dr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function uo(e,t,r){var n=-1,o=jt,i=e.length,a=!0,u=[],s=u;if(r)a=!1,o=At;else if(i>=200){var c=t?null:Yo(e);if(c)return ur(c);a=!1,o=$t,s=new qr}else s=t?[]:u;e:for(;++n<i;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else o(s,f,r)||(s!==u&&s.push(f),u.push(l))}return u}function so(e,t){return null==(e=Pi(e,t=bo(t,e)))||delete e[Di(Zi(t))]}function co(e,t,r,n){return Kn(e,t,r(wn(e,t)),n)}function lo(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?eo(e,n?0:i,n?i+1:o):eo(e,n?i+1:0,n?o:i)}function fo(e,t){var r=e;return r instanceof zr&&(r=r.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function ho(e,t,r){var o=e.length;if(o<2)return o?uo(e[0]):[];for(var i=-1,a=n(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=cn(a[i]||u,e[s],t,r));return uo(vn(a,1),t,r)}function po(e,t,r){for(var n=-1,i=e.length,a=t.length,u={};++n<i;){var s=n<a?t[n]:o;r(u,e[n],s)}return u}function vo(e){return Ha(e)?e:[]}function yo(e){return"function"==typeof e?e:rs}function bo(e,t){return Wa(e)?e:mi(e,t)?[e]:Ni(bu(e))}var mo=Yn;function go(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:eo(e,t,r)}var _o=at||function(e){return ft.clearTimeout(e)};function wo(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function Oo(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function So(e,t){var r=t?Oo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Eo(e,t){if(e!==t){var r=e!==o,n=null===e,i=e==e,a=uu(e),u=t!==o,s=null===t,c=t==t,l=uu(t);if(!s&&!l&&!a&&e>t||a&&u&&c&&!s&&!l||n&&u&&c||!r&&c||!i)return 1;if(!n&&!a&&!l&&e<t||l&&r&&i&&!n&&!a||s&&r&&i||!u&&i||!c)return-1}return 0}function Po(e,t,r,o){for(var i=-1,a=e.length,u=r.length,s=-1,c=t.length,l=vr(a-u,0),f=n(c+l),h=!o;++s<c;)f[s]=t[s];for(;++i<u;)(h||i<a)&&(f[r[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function To(e,t,r,o){for(var i=-1,a=e.length,u=-1,s=r.length,c=-1,l=t.length,f=vr(a-s,0),h=n(f+l),d=!o;++i<f;)h[i]=e[i];for(var p=i;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||i<a)&&(h[p+r[u]]=e[i++]);return h}function xo(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function Co(e,t,r,n){var i=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=n?n(r[s],e[s],s,r,e):o;c===o&&(c=e[s]),i?rn(r,s,c):Qr(r,s,c)}return r}function jo(e,t){return function(r,n){var o=Wa(r)?Et:en,i=t?t():{};return o(r,e,ai(n,2),i)}}function Ao(e){return Yn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,u=i>2?r[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&bi(r[0],r[1],u)&&(a=i<3?o:a,i=1),t=Ee(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}function ko(e,t){return function(r,n){if(null==r)return r;if(!qa(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Ee(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}function Ro(e){return function(t,r,n){for(var o=-1,i=Ee(t),a=n(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===r(i[s],s,i))break}return t}}function Io(e){return function(t){var r=nr(t=bu(t))?lr(t):o,n=r?r[0]:t.charAt(0),i=r?go(r,1).join(""):t.slice(1);return n[e]()+i}}function Mo(e){return function(t){return It(Ku(Vu(t).replace(Ke,"")),e,"")}}function No(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ur(e.prototype),n=e.apply(r,t);return Ja(n)?n:r}}function Do(e){return function(t,r,n){var i=Ee(t);if(!qa(t)){var a=ai(r,3);t=Au(t),r=function(e){return a(i[e],e,i)}}var u=e(t,r,n);return u>-1?i[a?t[u]:u]:o}}function Lo(e){return ei((function(t){var r=t.length,n=r,a=Br.prototype.thru;for(e&&t.reverse();n--;){var u=t[n];if("function"!=typeof u)throw new xe(i);if(a&&!s&&"wrapper"==oi(u))var s=new Br([],!0)}for(n=s?n:r;++n<r;){var c=oi(u=t[n]),l="wrapper"==c?ni(u):o;s=l&&gi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[oi(l[0])].apply(s,l[3]):1==u.length&&gi(u)?s[c]():s.thru(u)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Wa(n))return s.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}}))}function Uo(e,t,r,i,a,u,s,l,f,h){var d=t&c,p=1&t,v=2&t,y=24&t,b=512&t,m=v?o:No(e);return function c(){for(var g=arguments.length,_=n(g),w=g;w--;)_[w]=arguments[w];if(y)var O=ii(c),S=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,O);if(i&&(_=Po(_,i,a,y)),u&&(_=To(_,u,s,y)),g-=S,y&&g<h){var E=ar(_,O);return qo(e,t,Uo,c.placeholder,r,_,E,l,f,h-g)}var P=p?r:this,T=v?P[e]:e;return g=_.length,l?_=function(e,t){for(var r=e.length,n=yr(t.length,r),i=xo(e);n--;){var a=t[n];e[n]=yi(a,r)?i[a]:o}return e}(_,l):b&&g>1&&_.reverse(),d&&f<g&&(_.length=f),this&&this!==ft&&this instanceof c&&(T=m||No(T)),T.apply(P,_)}}function Fo(e,t){return function(r,n){return function(e,t,r,n){return mn(e,(function(e,o,i){t(n,r(e),o,i)})),n}(r,e,t(n),{})}}function Bo(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=ao(r),n=ao(n)):(r=io(r),n=io(n)),i=e(r,n)}return i}}function zo(e){return ei((function(t){return t=kt(t,Zt(ai())),Yn((function(r){var n=this;return e(t,(function(e){return St(e,n,r)}))}))}))}function Vo(e,t){var r=(t=t===o?" ":ao(t)).length;if(r<2)return r?Hn(t,e):t;var n=Hn(t,ht(e/cr(t)));return nr(t)?go(lr(n),0,e).join(""):n.slice(0,e)}function Wo(e){return function(t,r,i){return i&&"number"!=typeof i&&bi(t,r,i)&&(r=i=o),t=hu(t),r===o?(r=t,t=0):r=hu(r),function(e,t,r,o){for(var i=-1,a=vr(ht((t-e)/(r||1)),0),u=n(a);a--;)u[o?a:++i]=e,e+=r;return u}(t,r,i=i===o?t<r?1:-1:hu(i),e)}}function Go(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=vu(t),r=vu(r)),e(t,r)}}function qo(e,t,r,n,i,a,u,c,l,f){var h=8&t;t|=h?s:64,4&(t&=~(h?64:s))||(t&=-4);var d=[e,t,i,h?a:o,h?u:o,h?o:a,h?o:u,c,l,f],p=r.apply(o,d);return gi(e)&&xi(p,d),p.placeholder=n,Ai(p,e,t)}function Ho(e){var t=Se[e];return function(e,r){if(e=vu(e),(r=null==r?0:yr(du(r),292))&&Dt(e)){var n=(bu(e)+"e").split("e");return+((n=(bu(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Yo=Er&&1/ur(new Er([,-0]))[1]==l?function(e){return new Er(e)}:us;function Xo(e){return function(t){var r=hi(t);return r==O?or(t):r==x?sr(t):function(e,t){return kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zo(e,t,r,a,l,f,h,d){var p=2&t;if(!p&&"function"!=typeof e)throw new xe(i);var v=a?a.length:0;if(v||(t&=-97,a=l=o),h=h===o?h:vr(du(h),0),d=d===o?d:du(d),v-=l?l.length:0,64&t){var y=a,b=l;a=l=o}var m=p?o:ni(e),g=[e,t,r,a,l,y,b,f,h,d];if(m&&function(e,t){var r=e[1],n=t[1],o=r|n,i=o<131,a=n==c&&8==r||n==c&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!i&&!a)return e;1&n&&(e[2]=t[2],o|=1&r?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Po(l,s,t[4]):s,e[4]=l?ar(e[3],u):t[4]}(s=t[5])&&(l=e[5],e[5]=l?To(l,s,t[6]):s,e[6]=l?ar(e[5],u):t[6]),(s=t[7])&&(e[7]=s),n&c&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(g,m),e=g[0],t=g[1],r=g[2],a=g[3],l=g[4],!(d=g[9]=g[9]===o?p?0:e.length:vr(g[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,r){var i=No(e);return function a(){for(var u=arguments.length,s=n(u),c=u,l=ii(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ar(s,l);return(u-=f.length)<r?qo(e,t,Uo,a.placeholder,o,s,f,o,o,r-u):St(this&&this!==ft&&this instanceof a?i:e,this,s)}}(e,t,d):t!=s&&33!=t||l.length?Uo.apply(o,g):function(e,t,r,o){var i=1&t,a=No(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=o.length,f=n(l+s),h=this&&this!==ft&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;s--;)f[c++]=arguments[++u];return St(h,i?r:this,f)}}(e,t,r,a);else var _=function(e,t,r){var n=1&t,o=No(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,r);return Ai((m?$n:xi)(_,g),e,t)}function Ko(e,t,r,n){return e===o||Fa(e,Ae[r])&&!Ie.call(n,r)?t:e}function $o(e,t,r,n,i,a){return Ja(e)&&Ja(t)&&(a.set(t,e),Fn(e,t,o,$o,a),a.delete(t)),e}function Qo(e){return nu(e)?o:e}function Jo(e,t,r,n,i,a){var u=1&r,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&r?new qr:o;for(a.set(e,t),a.set(t,e);++h<s;){var v=e[h],y=t[h];if(n)var b=u?n(y,v,h,t,e,a):n(v,y,h,e,t,a);if(b!==o){if(b)continue;d=!1;break}if(p){if(!Nt(t,(function(e,t){if(!$t(p,t)&&(v===e||i(v,e,r,n,a)))return p.push(t)}))){d=!1;break}}else if(v!==y&&!i(v,y,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ei(e){return ji(Ei(e,o,Gi),e+"")}function ti(e){return On(e,Au,li)}function ri(e){return On(e,ku,fi)}var ni=xr?function(e){return xr.get(e)}:us;function oi(e){for(var t=e.name+"",r=Cr[t],n=Ie.call(Cr,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function ii(e){return(Ie.call(Lr,"placeholder")?Lr:e).placeholder}function ai(){var e=Lr.iteratee||ns;return e=e===ns?In:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function si(e){for(var t=Au(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Oi(o)]}return t}function ci(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return Rn(r)?r:o}var li=vt?function(e){return null==e?[]:(e=Ee(e),Ct(vt(e),(function(t){return He.call(e,t)})))}:ps,fi=vt?function(e){for(var t=[];e;)Rt(t,li(e)),e=Ge(e);return t}:ps,hi=Sn;function di(e,t,r){for(var n=-1,o=(t=bo(t,e)).length,i=!1;++n<o;){var a=Di(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Qa(o)&&yi(a,o)&&(Wa(e)||Va(e))}function pi(e){return"function"!=typeof e.constructor||wi(e)?{}:Ur(Ge(e))}function vi(e){return Wa(e)||Va(e)||!!(Xe&&e&&e[Xe])}function yi(e,t){var r=typeof e;return!!(t=null==t?f:t)&&("number"==r||"symbol"!=r&&be.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,r){if(!Ja(r))return!1;var n=typeof t;return!!("number"==n?qa(r)&&yi(t,r.length):"string"==n&&t in r)&&Fa(r[t],e)}function mi(e,t){if(Wa(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!uu(e))||J.test(e)||!Q.test(e)||null!=t&&e in Ee(t)}function gi(e){var t=oi(e),r=Lr[t];if("function"!=typeof r||!(t in zr.prototype))return!1;if(e===r)return!0;var n=ni(r);return!!n&&e===n[0]}(wr&&hi(new wr(new ArrayBuffer(1)))!=R||Or&&hi(new Or)!=O||Sr&&hi(Sr.resolve())!=P||Er&&hi(new Er)!=x||Pr&&hi(new Pr)!=A)&&(hi=function(e){var t=Sn(e),r=t==E?e.constructor:o,n=r?Li(r):"";if(n)switch(n){case jr:return R;case Ar:return O;case kr:return P;case Rr:return x;case Ir:return A}return t});var _i=ke?Ka:vs;function wi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function Oi(e){return e==e&&!Ja(e)}function Si(e,t){return function(r){return null!=r&&r[e]===t&&(t!==o||e in Ee(r))}}function Ei(e,t,r){return t=vr(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=vr(o.length-t,0),u=n(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=n(t+1);++i<t;)s[i]=o[i];return s[t]=r(u),St(e,this,s)}}function Pi(e,t){return t.length<2?e:wn(e,eo(t,0,-1))}function Ti(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var xi=ki($n),Ci=lt||function(e,t){return ft.setTimeout(e,t)},ji=ki(Qn);function Ai(e,t,r){var n=t+"";return ji(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Pt(p,(function(r){var n="_."+r[0];t&r[1]&&!jt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ue):[]}(n),r)))}function ki(e){var t=0,r=0;return function(){var n=br(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ri(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var a=qn(r,i),u=e[a];e[a]=e[r],e[r]=u}return e.length=t,e}var Ii,Mi,Ni=(Ii=Ia((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,o){t.push(n?o.replace(le,"$1"):r||e)})),t}),(function(e){return 500===Mi.size&&Mi.clear(),e})),Mi=Ii.cache,Ii);function Di(e){if("string"==typeof e||uu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Li(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ui(e){if(e instanceof zr)return e.clone();var t=new Br(e.__wrapped__,e.__chain__);return t.__actions__=xo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fi=Yn((function(e,t){return Ha(e)?cn(e,vn(t,1,Ha,!0)):[]})),Bi=Yn((function(e,t){var r=Zi(t);return Ha(r)&&(r=o),Ha(e)?cn(e,vn(t,1,Ha,!0),ai(r,2)):[]})),zi=Yn((function(e,t){var r=Zi(t);return Ha(r)&&(r=o),Ha(e)?cn(e,vn(t,1,Ha,!0),o,r):[]}));function Vi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:du(r);return o<0&&(o=vr(n+o,0)),Ut(e,ai(t,3),o)}function Wi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=du(r),i=r<0?vr(n+i,0):yr(i,n-1)),Ut(e,ai(t,3),i,!0)}function Gi(e){return null!=e&&e.length?vn(e,1):[]}function qi(e){return e&&e.length?e[0]:o}var Hi=Yn((function(e){var t=kt(e,vo);return t.length&&t[0]===e[0]?xn(t):[]})),Yi=Yn((function(e){var t=Zi(e),r=kt(e,vo);return t===Zi(r)?t=o:r.pop(),r.length&&r[0]===e[0]?xn(r,ai(t,2)):[]})),Xi=Yn((function(e){var t=Zi(e),r=kt(e,vo);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?xn(r,o,t):[]}));function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ki=Yn($i);function $i(e,t){return e&&e.length&&t&&t.length?Wn(e,t):e}var Qi=ei((function(e,t){var r=null==e?0:e.length,n=nn(e,t);return Gn(e,kt(t,(function(e){return yi(e,r)?+e:e})).sort(Eo)),n}));function Ji(e){return null==e?e:_r.call(e)}var ea=Yn((function(e){return uo(vn(e,1,Ha,!0))})),ta=Yn((function(e){var t=Zi(e);return Ha(t)&&(t=o),uo(vn(e,1,Ha,!0),ai(t,2))})),ra=Yn((function(e){var t=Zi(e);return t="function"==typeof t?t:o,uo(vn(e,1,Ha,!0),o,t)}));function na(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(Ha(e))return t=vr(e.length,t),!0})),Yt(t,(function(t){return kt(e,Wt(t))}))}function oa(e,t){if(!e||!e.length)return[];var r=na(e);return null==t?r:kt(r,(function(e){return St(t,o,e)}))}var ia=Yn((function(e,t){return Ha(e)?cn(e,t):[]})),aa=Yn((function(e){return ho(Ct(e,Ha))})),ua=Yn((function(e){var t=Zi(e);return Ha(t)&&(t=o),ho(Ct(e,Ha),ai(t,2))})),sa=Yn((function(e){var t=Zi(e);return t="function"==typeof t?t:o,ho(Ct(e,Ha),o,t)})),ca=Yn(na),la=Yn((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,oa(e,r)}));function fa(e){var t=Lr(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var da=ei((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof zr&&yi(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Br(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),pa=jo((function(e,t,r){Ie.call(e,r)?++e[r]:rn(e,r,1)})),va=Do(Vi),ya=Do(Wi);function ba(e,t){return(Wa(e)?Pt:ln)(e,ai(t,3))}function ma(e,t){return(Wa(e)?Tt:fn)(e,ai(t,3))}var ga=jo((function(e,t,r){Ie.call(e,r)?e[r].push(t):rn(e,r,[t])})),_a=Yn((function(e,t,r){var o=-1,i="function"==typeof t,a=qa(e)?n(e.length):[];return ln(e,(function(e){a[++o]=i?St(t,e,r):Cn(e,t,r)})),a})),wa=jo((function(e,t,r){rn(e,r,t)}));function Oa(e,t){return(Wa(e)?kt:Dn)(e,ai(t,3))}var Sa=jo((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Ea=Yn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&bi(e,t[0],t[1])?t=[]:r>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),zn(e,vn(t,1),[])})),Pa=ct||function(){return ft.Date.now()};function Ta(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,Zo(e,c,o,o,o,o,t)}function xa(e,t){var r;if("function"!=typeof t)throw new xe(i);return e=du(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Ca=Yn((function(e,t,r){var n=1;if(r.length){var o=ar(r,ii(Ca));n|=s}return Zo(e,n,t,r,o)})),ja=Yn((function(e,t,r){var n=3;if(r.length){var o=ar(r,ii(ja));n|=s}return Zo(t,n,e,r,o)}));function Aa(e,t,r){var n,a,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new xe(i);function v(t){var r=n,i=a;return n=a=o,f=t,s=e.apply(i,r)}function y(e){var r=e-l;return l===o||r>=t||r<0||d&&e-f>=u}function b(){var e=Pa();if(y(e))return m(e);c=Ci(b,function(e){var r=t-(e-l);return d?yr(r,u-(e-f)):r}(e))}function m(e){return c=o,p&&n?v(e):(n=a=o,s)}function g(){var e=Pa(),r=y(e);if(n=arguments,a=this,l=e,r){if(c===o)return function(e){return f=e,c=Ci(b,t),h?v(e):s}(l);if(d)return _o(c),c=Ci(b,t),v(l)}return c===o&&(c=Ci(b,t)),s}return t=vu(t)||0,Ja(r)&&(h=!!r.leading,u=(d="maxWait"in r)?vr(vu(r.maxWait)||0,t):u,p="trailing"in r?!!r.trailing:p),g.cancel=function(){c!==o&&_o(c),f=0,n=l=a=c=o},g.flush=function(){return c===o?s:m(Pa())},g}var ka=Yn((function(e,t){return sn(e,1,t)})),Ra=Yn((function(e,t,r){return sn(e,vu(t)||0,r)}));function Ia(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Ia.Cache||Gr),r}function Ma(e){if("function"!=typeof e)throw new xe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ia.Cache=Gr;var Na=mo((function(e,t){var r=(t=1==t.length&&Wa(t[0])?kt(t[0],Zt(ai())):kt(vn(t,1),Zt(ai()))).length;return Yn((function(n){for(var o=-1,i=yr(n.length,r);++o<i;)n[o]=t[o].call(this,n[o]);return St(e,this,n)}))})),Da=Yn((function(e,t){var r=ar(t,ii(Da));return Zo(e,s,o,t,r)})),La=Yn((function(e,t){var r=ar(t,ii(La));return Zo(e,64,o,t,r)})),Ua=ei((function(e,t){return Zo(e,256,o,o,o,t)}));function Fa(e,t){return e===t||e!=e&&t!=t}var Ba=Go(En),za=Go((function(e,t){return e>=t})),Va=jn(function(){return arguments}())?jn:function(e){return eu(e)&&Ie.call(e,"callee")&&!He.call(e,"callee")},Wa=n.isArray,Ga=bt?Zt(bt):function(e){return eu(e)&&Sn(e)==k};function qa(e){return null!=e&&Qa(e.length)&&!Ka(e)}function Ha(e){return eu(e)&&qa(e)}var Ya=yt||vs,Xa=mt?Zt(mt):function(e){return eu(e)&&Sn(e)==m};function Za(e){if(!eu(e))return!1;var t=Sn(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!nu(e)}function Ka(e){if(!Ja(e))return!1;var t=Sn(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $a(e){return"number"==typeof e&&e==du(e)}function Qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Ja(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eu(e){return null!=e&&"object"==typeof e}var tu=gt?Zt(gt):function(e){return eu(e)&&hi(e)==O};function ru(e){return"number"==typeof e||eu(e)&&Sn(e)==S}function nu(e){if(!eu(e)||Sn(e)!=E)return!1;var t=Ge(e);if(null===t)return!0;var r=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Re.call(r)==Le}var ou=_t?Zt(_t):function(e){return eu(e)&&Sn(e)==T},iu=wt?Zt(wt):function(e){return eu(e)&&hi(e)==x};function au(e){return"string"==typeof e||!Wa(e)&&eu(e)&&Sn(e)==C}function uu(e){return"symbol"==typeof e||eu(e)&&Sn(e)==j}var su=Ot?Zt(Ot):function(e){return eu(e)&&Qa(e.length)&&!!ot[Sn(e)]},cu=Go(Nn),lu=Go((function(e,t){return e<=t}));function fu(e){if(!e)return[];if(qa(e))return au(e)?lr(e):xo(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=hi(e);return(t==O?or:t==x?ur:Fu)(e)}function hu(e){return e?(e=vu(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function du(e){var t=hu(e),r=t%1;return t==t?r?t-r:t:0}function pu(e){return e?on(du(e),0,d):0}function vu(e){if("number"==typeof e)return e;if(uu(e))return h;if(Ja(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ja(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var r=pe.test(e);return r||ye.test(e)?st(e.slice(2),r?2:8):de.test(e)?h:+e}function yu(e){return Co(e,ku(e))}function bu(e){return null==e?"":ao(e)}var mu=Ao((function(e,t){if(wi(t)||qa(t))Co(t,Au(t),e);else for(var r in t)Ie.call(t,r)&&Qr(e,r,t[r])})),gu=Ao((function(e,t){Co(t,ku(t),e)})),_u=Ao((function(e,t,r,n){Co(t,ku(t),e,n)})),wu=Ao((function(e,t,r,n){Co(t,Au(t),e,n)})),Ou=ei(nn),Su=Yn((function(e,t){e=Ee(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],u=ku(a),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===o||Fa(f,Ae[l])&&!Ie.call(e,l))&&(e[l]=a[l])}return e})),Eu=Yn((function(e){return e.push(o,$o),St(Iu,o,e)}));function Pu(e,t,r){var n=null==e?o:wn(e,t);return n===o?r:n}function Tu(e,t){return null!=e&&di(e,t,Tn)}var xu=Fo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=r}),Ju(rs)),Cu=Fo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Ie.call(e,t)?e[t].push(r):e[t]=[r]}),ai),ju=Yn(Cn);function Au(e){return qa(e)?Yr(e):Mn(e)}function ku(e){return qa(e)?Yr(e,!0):function(e){if(!Ja(e))return function(e){var t=[];if(null!=e)for(var r in Ee(e))t.push(r);return t}(e);var t=wi(e),r=[];for(var n in e)("constructor"!=n||!t&&Ie.call(e,n))&&r.push(n);return r}(e)}var Ru=Ao((function(e,t,r){Fn(e,t,r)})),Iu=Ao((function(e,t,r,n){Fn(e,t,r,n)})),Mu=ei((function(e,t){var r={};if(null==e)return r;var n=!1;t=kt(t,(function(t){return t=bo(t,e),n||(n=t.length>1),t})),Co(e,ri(e),r),n&&(r=an(r,7,Qo));for(var o=t.length;o--;)so(r,t[o]);return r})),Nu=ei((function(e,t){return null==e?{}:function(e,t){return Vn(e,t,(function(t,r){return Tu(e,r)}))}(e,t)}));function Du(e,t){if(null==e)return{};var r=kt(ri(e),(function(e){return[e]}));return t=ai(t),Vn(e,r,(function(e,r){return t(e,r[0])}))}var Lu=Xo(Au),Uu=Xo(ku);function Fu(e){return null==e?[]:Kt(e,Au(e))}var Bu=Mo((function(e,t,r){return t=t.toLowerCase(),e+(r?zu(t):t)}));function zu(e){return Zu(bu(e).toLowerCase())}function Vu(e){return(e=bu(e))&&e.replace(me,er).replace($e,"")}var Wu=Mo((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Gu=Mo((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),qu=Io("toLowerCase"),Hu=Mo((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Yu=Mo((function(e,t,r){return e+(r?" ":"")+Zu(t)})),Xu=Mo((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Zu=Io("toUpperCase");function Ku(e,t,r){return e=bu(e),(t=r?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var $u=Yn((function(e,t){try{return St(e,o,t)}catch(e){return Za(e)?e:new we(e)}})),Qu=ei((function(e,t){return Pt(t,(function(t){t=Di(t),rn(e,t,Ca(e[t],e))})),e}));function Ju(e){return function(){return e}}var es=Lo(),ts=Lo(!0);function rs(e){return e}function ns(e){return In("function"==typeof e?e:an(e,1))}var os=Yn((function(e,t){return function(r){return Cn(r,e,t)}})),is=Yn((function(e,t){return function(r){return Cn(e,r,t)}}));function as(e,t,r){var n=Au(t),o=_n(t,n);null!=r||Ja(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=_n(t,Au(t)));var i=!(Ja(r)&&"chain"in r&&!r.chain),a=Ka(e);return Pt(o,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=xo(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function us(){}var ss=zo(kt),cs=zo(xt),ls=zo(Nt);function fs(e){return mi(e)?Wt(Di(e)):function(e){return function(t){return wn(t,e)}}(e)}var hs=Wo(),ds=Wo(!0);function ps(){return[]}function vs(){return!1}var ys,bs=Bo((function(e,t){return e+t}),0),ms=Ho("ceil"),gs=Bo((function(e,t){return e/t}),1),_s=Ho("floor"),ws=Bo((function(e,t){return e*t}),1),Os=Ho("round"),Ss=Bo((function(e,t){return e-t}),0);return Lr.after=function(e,t){if("function"!=typeof t)throw new xe(i);return e=du(e),function(){if(--e<1)return t.apply(this,arguments)}},Lr.ary=Ta,Lr.assign=mu,Lr.assignIn=gu,Lr.assignInWith=_u,Lr.assignWith=wu,Lr.at=Ou,Lr.before=xa,Lr.bind=Ca,Lr.bindAll=Qu,Lr.bindKey=ja,Lr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Lr.chain=fa,Lr.chunk=function(e,t,r){t=(r?bi(e,t,r):t===o)?1:vr(du(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=n(ht(i/t));a<i;)s[u++]=eo(e,a,a+=t);return s},Lr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o},Lr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Rt(Wa(r)?xo(r):[r],vn(t,1))},Lr.cond=function(e){var t=null==e?0:e.length,r=ai();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new xe(i);return[r(e[0]),e[1]]})):[],Yn((function(r){for(var n=-1;++n<t;){var o=e[n];if(St(o[0],this,r))return St(o[1],this,r)}}))},Lr.conforms=function(e){return function(e){var t=Au(e);return function(r){return un(r,e,t)}}(an(e,1))},Lr.constant=Ju,Lr.countBy=pa,Lr.create=function(e,t){var r=Ur(e);return null==t?r:tn(r,t)},Lr.curry=function e(t,r,n){var i=Zo(t,8,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Lr.curryRight=function e(t,r,n){var i=Zo(t,16,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Lr.debounce=Aa,Lr.defaults=Su,Lr.defaultsDeep=Eu,Lr.defer=ka,Lr.delay=Ra,Lr.difference=Fi,Lr.differenceBy=Bi,Lr.differenceWith=zi,Lr.drop=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,(t=r||t===o?1:du(t))<0?0:t,n):[]},Lr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,0,(t=n-(t=r||t===o?1:du(t)))<0?0:t):[]},Lr.dropRightWhile=function(e,t){return e&&e.length?lo(e,ai(t,3),!0,!0):[]},Lr.dropWhile=function(e,t){return e&&e.length?lo(e,ai(t,3),!0):[]},Lr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&bi(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=du(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:du(n))<0&&(n+=i),n=r>n?0:pu(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Lr.filter=function(e,t){return(Wa(e)?Ct:pn)(e,ai(t,3))},Lr.flatMap=function(e,t){return vn(Oa(e,t),1)},Lr.flatMapDeep=function(e,t){return vn(Oa(e,t),l)},Lr.flatMapDepth=function(e,t,r){return r=r===o?1:du(r),vn(Oa(e,t),r)},Lr.flatten=Gi,Lr.flattenDeep=function(e){return null!=e&&e.length?vn(e,l):[]},Lr.flattenDepth=function(e,t){return null!=e&&e.length?vn(e,t=t===o?1:du(t)):[]},Lr.flip=function(e){return Zo(e,512)},Lr.flow=es,Lr.flowRight=ts,Lr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n},Lr.functions=function(e){return null==e?[]:_n(e,Au(e))},Lr.functionsIn=function(e){return null==e?[]:_n(e,ku(e))},Lr.groupBy=ga,Lr.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},Lr.intersection=Hi,Lr.intersectionBy=Yi,Lr.intersectionWith=Xi,Lr.invert=xu,Lr.invertBy=Cu,Lr.invokeMap=_a,Lr.iteratee=ns,Lr.keyBy=wa,Lr.keys=Au,Lr.keysIn=ku,Lr.map=Oa,Lr.mapKeys=function(e,t){var r={};return t=ai(t,3),mn(e,(function(e,n,o){rn(r,t(e,n,o),e)})),r},Lr.mapValues=function(e,t){var r={};return t=ai(t,3),mn(e,(function(e,n,o){rn(r,n,t(e,n,o))})),r},Lr.matches=function(e){return Ln(an(e,1))},Lr.matchesProperty=function(e,t){return Un(e,an(t,1))},Lr.memoize=Ia,Lr.merge=Ru,Lr.mergeWith=Iu,Lr.method=os,Lr.methodOf=is,Lr.mixin=as,Lr.negate=Ma,Lr.nthArg=function(e){return e=du(e),Yn((function(t){return Bn(t,e)}))},Lr.omit=Mu,Lr.omitBy=function(e,t){return Du(e,Ma(ai(t)))},Lr.once=function(e){return xa(2,e)},Lr.orderBy=function(e,t,r,n){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(r=n?o:r)||(r=null==r?[]:[r]),zn(e,t,r))},Lr.over=ss,Lr.overArgs=Na,Lr.overEvery=cs,Lr.overSome=ls,Lr.partial=Da,Lr.partialRight=La,Lr.partition=Sa,Lr.pick=Nu,Lr.pickBy=Du,Lr.property=fs,Lr.propertyOf=function(e){return function(t){return null==e?o:wn(e,t)}},Lr.pull=Ki,Lr.pullAll=$i,Lr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Wn(e,t,ai(r,2)):e},Lr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Wn(e,t,o,r):e},Lr.pullAt=Qi,Lr.range=hs,Lr.rangeRight=ds,Lr.rearg=Ua,Lr.reject=function(e,t){return(Wa(e)?Ct:pn)(e,Ma(ai(t,3)))},Lr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=ai(t,3);++n<i;){var a=e[n];t(a,n,e)&&(r.push(a),o.push(n))}return Gn(e,o),r},Lr.rest=function(e,t){if("function"!=typeof e)throw new xe(i);return Yn(e,t=t===o?t:du(t))},Lr.reverse=Ji,Lr.sampleSize=function(e,t,r){return t=(r?bi(e,t,r):t===o)?1:du(t),(Wa(e)?Zr:Zn)(e,t)},Lr.set=function(e,t,r){return null==e?e:Kn(e,t,r)},Lr.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:Kn(e,t,r,n)},Lr.shuffle=function(e){return(Wa(e)?Kr:Jn)(e)},Lr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&bi(e,t,r)?(t=0,r=n):(t=null==t?0:du(t),r=r===o?n:du(r)),eo(e,t,r)):[]},Lr.sortBy=Ea,Lr.sortedUniq=function(e){return e&&e.length?oo(e):[]},Lr.sortedUniqBy=function(e,t){return e&&e.length?oo(e,ai(t,2)):[]},Lr.split=function(e,t,r){return r&&"number"!=typeof r&&bi(e,t,r)&&(t=r=o),(r=r===o?d:r>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!ou(t))&&!(t=ao(t))&&nr(e)?go(lr(e),0,r):e.split(t,r):[]},Lr.spread=function(e,t){if("function"!=typeof e)throw new xe(i);return t=null==t?0:vr(du(t),0),Yn((function(r){var n=r[t],o=go(r,0,t);return n&&Rt(o,n),St(e,this,o)}))},Lr.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},Lr.take=function(e,t,r){return e&&e.length?eo(e,0,(t=r||t===o?1:du(t))<0?0:t):[]},Lr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,(t=n-(t=r||t===o?1:du(t)))<0?0:t,n):[]},Lr.takeRightWhile=function(e,t){return e&&e.length?lo(e,ai(t,3),!1,!0):[]},Lr.takeWhile=function(e,t){return e&&e.length?lo(e,ai(t,3)):[]},Lr.tap=function(e,t){return t(e),e},Lr.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new xe(i);return Ja(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Aa(e,t,{leading:n,maxWait:t,trailing:o})},Lr.thru=ha,Lr.toArray=fu,Lr.toPairs=Lu,Lr.toPairsIn=Uu,Lr.toPath=function(e){return Wa(e)?kt(e,Di):uu(e)?[e]:xo(Ni(bu(e)))},Lr.toPlainObject=yu,Lr.transform=function(e,t,r){var n=Wa(e),o=n||Ya(e)||su(e);if(t=ai(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:Ja(e)&&Ka(i)?Ur(Ge(e)):{}}return(o?Pt:mn)(e,(function(e,n,o){return t(r,e,n,o)})),r},Lr.unary=function(e){return Ta(e,1)},Lr.union=ea,Lr.unionBy=ta,Lr.unionWith=ra,Lr.uniq=function(e){return e&&e.length?uo(e):[]},Lr.uniqBy=function(e,t){return e&&e.length?uo(e,ai(t,2)):[]},Lr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?uo(e,o,t):[]},Lr.unset=function(e,t){return null==e||so(e,t)},Lr.unzip=na,Lr.unzipWith=oa,Lr.update=function(e,t,r){return null==e?e:co(e,t,yo(r))},Lr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:co(e,t,yo(r),n)},Lr.values=Fu,Lr.valuesIn=function(e){return null==e?[]:Kt(e,ku(e))},Lr.without=ia,Lr.words=Ku,Lr.wrap=function(e,t){return Da(yo(t),e)},Lr.xor=aa,Lr.xorBy=ua,Lr.xorWith=sa,Lr.zip=ca,Lr.zipObject=function(e,t){return po(e||[],t||[],Qr)},Lr.zipObjectDeep=function(e,t){return po(e||[],t||[],Kn)},Lr.zipWith=la,Lr.entries=Lu,Lr.entriesIn=Uu,Lr.extend=gu,Lr.extendWith=_u,as(Lr,Lr),Lr.add=bs,Lr.attempt=$u,Lr.camelCase=Bu,Lr.capitalize=zu,Lr.ceil=ms,Lr.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=vu(r))==r?r:0),t!==o&&(t=(t=vu(t))==t?t:0),on(vu(e),t,r)},Lr.clone=function(e){return an(e,4)},Lr.cloneDeep=function(e){return an(e,5)},Lr.cloneDeepWith=function(e,t){return an(e,5,t="function"==typeof t?t:o)},Lr.cloneWith=function(e,t){return an(e,4,t="function"==typeof t?t:o)},Lr.conformsTo=function(e,t){return null==t||un(e,t,Au(t))},Lr.deburr=Vu,Lr.defaultTo=function(e,t){return null==e||e!=e?t:e},Lr.divide=gs,Lr.endsWith=function(e,t,r){e=bu(e),t=ao(t);var n=e.length,i=r=r===o?n:on(du(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Lr.eq=Fa,Lr.escape=function(e){return(e=bu(e))&&X.test(e)?e.replace(H,tr):e},Lr.escapeRegExp=function(e){return(e=bu(e))&&re.test(e)?e.replace(te,"\\$&"):e},Lr.every=function(e,t,r){var n=Wa(e)?xt:hn;return r&&bi(e,t,r)&&(t=o),n(e,ai(t,3))},Lr.find=va,Lr.findIndex=Vi,Lr.findKey=function(e,t){return Lt(e,ai(t,3),mn)},Lr.findLast=ya,Lr.findLastIndex=Wi,Lr.findLastKey=function(e,t){return Lt(e,ai(t,3),gn)},Lr.floor=_s,Lr.forEach=ba,Lr.forEachRight=ma,Lr.forIn=function(e,t){return null==e?e:yn(e,ai(t,3),ku)},Lr.forInRight=function(e,t){return null==e?e:bn(e,ai(t,3),ku)},Lr.forOwn=function(e,t){return e&&mn(e,ai(t,3))},Lr.forOwnRight=function(e,t){return e&&gn(e,ai(t,3))},Lr.get=Pu,Lr.gt=Ba,Lr.gte=za,Lr.has=function(e,t){return null!=e&&di(e,t,Pn)},Lr.hasIn=Tu,Lr.head=qi,Lr.identity=rs,Lr.includes=function(e,t,r,n){e=qa(e)?e:Fu(e),r=r&&!n?du(r):0;var o=e.length;return r<0&&(r=vr(o+r,0)),au(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&Ft(e,t,r)>-1},Lr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:du(r);return o<0&&(o=vr(n+o,0)),Ft(e,t,o)},Lr.inRange=function(e,t,r){return t=hu(t),r===o?(r=t,t=0):r=hu(r),function(e,t,r){return e>=yr(t,r)&&e<vr(t,r)}(e=vu(e),t,r)},Lr.invoke=ju,Lr.isArguments=Va,Lr.isArray=Wa,Lr.isArrayBuffer=Ga,Lr.isArrayLike=qa,Lr.isArrayLikeObject=Ha,Lr.isBoolean=function(e){return!0===e||!1===e||eu(e)&&Sn(e)==b},Lr.isBuffer=Ya,Lr.isDate=Xa,Lr.isElement=function(e){return eu(e)&&1===e.nodeType&&!nu(e)},Lr.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||su(e)||Va(e)))return!e.length;var t=hi(e);if(t==O||t==x)return!e.size;if(wi(e))return!Mn(e).length;for(var r in e)if(Ie.call(e,r))return!1;return!0},Lr.isEqual=function(e,t){return An(e,t)},Lr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?An(e,t,o,r):!!n},Lr.isError=Za,Lr.isFinite=function(e){return"number"==typeof e&&Dt(e)},Lr.isFunction=Ka,Lr.isInteger=$a,Lr.isLength=Qa,Lr.isMap=tu,Lr.isMatch=function(e,t){return e===t||kn(e,t,si(t))},Lr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,kn(e,t,si(t),r)},Lr.isNaN=function(e){return ru(e)&&e!=+e},Lr.isNative=function(e){if(_i(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rn(e)},Lr.isNil=function(e){return null==e},Lr.isNull=function(e){return null===e},Lr.isNumber=ru,Lr.isObject=Ja,Lr.isObjectLike=eu,Lr.isPlainObject=nu,Lr.isRegExp=ou,Lr.isSafeInteger=function(e){return $a(e)&&e>=-9007199254740991&&e<=f},Lr.isSet=iu,Lr.isString=au,Lr.isSymbol=uu,Lr.isTypedArray=su,Lr.isUndefined=function(e){return e===o},Lr.isWeakMap=function(e){return eu(e)&&hi(e)==A},Lr.isWeakSet=function(e){return eu(e)&&"[object WeakSet]"==Sn(e)},Lr.join=function(e,t){return null==e?"":Gt.call(e,t)},Lr.kebabCase=Wu,Lr.last=Zi,Lr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=du(r))<0?vr(n+i,0):yr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):Ut(e,zt,i,!0)},Lr.lowerCase=Gu,Lr.lowerFirst=qu,Lr.lt=cu,Lr.lte=lu,Lr.max=function(e){return e&&e.length?dn(e,rs,En):o},Lr.maxBy=function(e,t){return e&&e.length?dn(e,ai(t,2),En):o},Lr.mean=function(e){return Vt(e,rs)},Lr.meanBy=function(e,t){return Vt(e,ai(t,2))},Lr.min=function(e){return e&&e.length?dn(e,rs,Nn):o},Lr.minBy=function(e,t){return e&&e.length?dn(e,ai(t,2),Nn):o},Lr.stubArray=ps,Lr.stubFalse=vs,Lr.stubObject=function(){return{}},Lr.stubString=function(){return""},Lr.stubTrue=function(){return!0},Lr.multiply=ws,Lr.nth=function(e,t){return e&&e.length?Bn(e,du(t)):o},Lr.noConflict=function(){return ft._===this&&(ft._=Ue),this},Lr.noop=us,Lr.now=Pa,Lr.pad=function(e,t,r){e=bu(e);var n=(t=du(t))?cr(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Vo(dt(o),r)+e+Vo(ht(o),r)},Lr.padEnd=function(e,t,r){e=bu(e);var n=(t=du(t))?cr(e):0;return t&&n<t?e+Vo(t-n,r):e},Lr.padStart=function(e,t,r){e=bu(e);var n=(t=du(t))?cr(e):0;return t&&n<t?Vo(t-n,r)+e:e},Lr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),mr(bu(e).replace(ne,""),t||0)},Lr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&bi(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hu(e),t===o?(t=e,e=0):t=hu(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=gr();return yr(e+i*(t-e+ut("1e-"+((i+"").length-1))),t)}return qn(e,t)},Lr.reduce=function(e,t,r){var n=Wa(e)?It:qt,o=arguments.length<3;return n(e,ai(t,4),r,o,ln)},Lr.reduceRight=function(e,t,r){var n=Wa(e)?Mt:qt,o=arguments.length<3;return n(e,ai(t,4),r,o,fn)},Lr.repeat=function(e,t,r){return t=(r?bi(e,t,r):t===o)?1:du(t),Hn(bu(e),t)},Lr.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Lr.result=function(e,t,r){var n=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++n<i;){var a=null==e?o:e[Di(t[n])];a===o&&(n=i,a=r),e=Ka(a)?a.call(e):a}return e},Lr.round=Os,Lr.runInContext=e,Lr.sample=function(e){return(Wa(e)?Xr:Xn)(e)},Lr.size=function(e){if(null==e)return 0;if(qa(e))return au(e)?cr(e):e.length;var t=hi(e);return t==O||t==x?e.size:Mn(e).length},Lr.snakeCase=Hu,Lr.some=function(e,t,r){var n=Wa(e)?Nt:to;return r&&bi(e,t,r)&&(t=o),n(e,ai(t,3))},Lr.sortedIndex=function(e,t){return ro(e,t)},Lr.sortedIndexBy=function(e,t,r){return no(e,t,ai(r,2))},Lr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ro(e,t);if(n<r&&Fa(e[n],t))return n}return-1},Lr.sortedLastIndex=function(e,t){return ro(e,t,!0)},Lr.sortedLastIndexBy=function(e,t,r){return no(e,t,ai(r,2),!0)},Lr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ro(e,t,!0)-1;if(Fa(e[r],t))return r}return-1},Lr.startCase=Yu,Lr.startsWith=function(e,t,r){return e=bu(e),r=null==r?0:on(du(r),0,e.length),t=ao(t),e.slice(r,r+t.length)==t},Lr.subtract=Ss,Lr.sum=function(e){return e&&e.length?Ht(e,rs):0},Lr.sumBy=function(e,t){return e&&e.length?Ht(e,ai(t,2)):0},Lr.template=function(e,t,r){var n=Lr.templateSettings;r&&bi(e,t,r)&&(t=o),e=bu(e),t=_u({},t,n,Ko);var i,a,u=_u({},t.imports,n.imports,Ko),s=Au(u),c=Kt(u,s),l=0,f=t.interpolate||ge,h="__p += '",d=Pe((t.escape||ge).source+"|"+f.source+"|"+(f===$?fe:ge).source+"|"+(t.evaluate||ge).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(d,(function(t,r,n,o,u,s){return n||(n=o),h+=e.slice(l,s).replace(_e,rr),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Ie.call(t,"variable")&&t.variable;if(v){if(ce.test(v))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(V,""):h).replace(W,"$1").replace(G,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=$u((function(){return Oe(s,p+"return "+h).apply(o,c)}));if(y.source=h,Za(y))throw y;return y},Lr.times=function(e,t){if((e=du(e))<1||e>f)return[];var r=d,n=yr(e,d);t=ai(t),e-=d;for(var o=Yt(n,t);++r<e;)t(r);return o},Lr.toFinite=hu,Lr.toInteger=du,Lr.toLength=pu,Lr.toLower=function(e){return bu(e).toLowerCase()},Lr.toNumber=vu,Lr.toSafeInteger=function(e){return e?on(du(e),-9007199254740991,f):0===e?e:0},Lr.toString=bu,Lr.toUpper=function(e){return bu(e).toUpperCase()},Lr.trim=function(e,t,r){if((e=bu(e))&&(r||t===o))return Xt(e);if(!e||!(t=ao(t)))return e;var n=lr(e),i=lr(t);return go(n,Qt(n,i),Jt(n,i)+1).join("")},Lr.trimEnd=function(e,t,r){if((e=bu(e))&&(r||t===o))return e.slice(0,fr(e)+1);if(!e||!(t=ao(t)))return e;var n=lr(e);return go(n,0,Jt(n,lr(t))+1).join("")},Lr.trimStart=function(e,t,r){if((e=bu(e))&&(r||t===o))return e.replace(ne,"");if(!e||!(t=ao(t)))return e;var n=lr(e);return go(n,Qt(n,lr(t))).join("")},Lr.truncate=function(e,t){var r=30,n="...";if(Ja(t)){var i="separator"in t?t.separator:i;r="length"in t?du(t.length):r,n="omission"in t?ao(t.omission):n}var a=(e=bu(e)).length;if(nr(e)){var u=lr(e);a=u.length}if(r>=a)return e;var s=r-cr(n);if(s<1)return n;var c=u?go(u,0,s).join(""):e.slice(0,s);if(i===o)return c+n;if(u&&(s+=c.length-s),ou(i)){if(e.slice(s).search(i)){var l,f=c;for(i.global||(i=Pe(i.source,bu(he.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?s:h)}}else if(e.indexOf(ao(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+n},Lr.unescape=function(e){return(e=bu(e))&&Y.test(e)?e.replace(q,hr):e},Lr.uniqueId=function(e){var t=++Me;return bu(e)+t},Lr.upperCase=Xu,Lr.upperFirst=Zu,Lr.each=ba,Lr.eachRight=ma,Lr.first=qi,as(Lr,(ys={},mn(Lr,(function(e,t){Ie.call(Lr.prototype,t)||(ys[t]=e)})),ys),{chain:!1}),Lr.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Lr[e].placeholder=Lr})),Pt(["drop","take"],(function(e,t){zr.prototype[e]=function(r){r=r===o?1:vr(du(r),0);var n=this.__filtered__&&!t?new zr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,d),type:e+(n.__dir__<0?"Right":"")}),n},zr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;zr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ai(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Pt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");zr.prototype[e]=function(){return this[r](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");zr.prototype[e]=function(){return this.__filtered__?new zr(this):this[r](1)}})),zr.prototype.compact=function(){return this.filter(rs)},zr.prototype.find=function(e){return this.filter(e).head()},zr.prototype.findLast=function(e){return this.reverse().find(e)},zr.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new zr(this):this.map((function(r){return Cn(r,e,t)}))})),zr.prototype.reject=function(e){return this.filter(Ma(ai(e)))},zr.prototype.slice=function(e,t){e=du(e);var r=this;return r.__filtered__&&(e>0||t<0)?new zr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=du(t))<0?r.dropRight(-t):r.take(t-e)),r)},zr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zr.prototype.toArray=function(){return this.take(d)},mn(zr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Lr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Lr.prototype[t]=function(){var t=this.__wrapped__,u=n?[1]:arguments,s=t instanceof zr,c=u[0],l=s||Wa(t),f=function(e){var t=i.apply(Lr,Rt([e],u));return n&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=s&&!d;if(!a&&l){t=v?t:new zr(this);var y=e.apply(t,u);return y.__actions__.push({func:ha,args:[f],thisArg:o}),new Br(y,h)}return p&&v?e.apply(this,u):(y=this.thru(f),p?n?y.value()[0]:y.value():y)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Lr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Wa(o)?o:[],e)}return this[r]((function(r){return t.apply(Wa(r)?r:[],e)}))}})),mn(zr.prototype,(function(e,t){var r=Lr[t];if(r){var n=r.name+"";Ie.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:t,func:r})}})),Cr[Uo(o,2).name]=[{name:"wrapper",func:o}],zr.prototype.clone=function(){var e=new zr(this.__wrapped__);return e.__actions__=xo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xo(this.__views__),e},zr.prototype.reverse=function(){if(this.__filtered__){var e=new zr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wa(e),n=t<0,o=r?e.length:0,i=function(e,t,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yr(t,e+a);break;case"takeRight":e=vr(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=n?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=yr(s,this.__takeCount__);if(!r||!n&&o==s&&d==s)return fo(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,y=e[c+=t];++v<f;){var b=l[v],m=b.iteratee,g=b.type,_=m(y);if(2==g)y=_;else if(!_){if(1==g)continue e;break e}}p[h++]=y}return p},Lr.prototype.at=da,Lr.prototype.chain=function(){return fa(this)},Lr.prototype.commit=function(){return new Br(this.value(),this.__chain__)},Lr.prototype.next=function(){this.__values__===o&&(this.__values__=fu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Lr.prototype.plant=function(e){for(var t,r=this;r instanceof Fr;){var n=Ui(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Lr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zr){var t=e;return this.__actions__.length&&(t=new zr(this)),(t=t.reverse()).__actions__.push({func:ha,args:[Ji],thisArg:o}),new Br(t,this.__chain__)}return this.thru(Ji)},Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Lr.prototype.first=Lr.prototype.head,Ze&&(Lr.prototype[Ze]=function(){return this}),Lr}();ft._=dr,(n=function(){return dr}.call(t,r,t,e))===o||(e.exports=n)}.call(this)},5880:function(e,t,r){var n,o;n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(){for(var r=this.getLevel(),o=0;o<n.length;o++){var i=n[o];this[i]=o<r?e:this.methodFactory(i,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(s.call(this),this[e].apply(this,arguments))}}function l(n,o,i){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?u:void 0!==console[n]?a(console,n):void 0!==console.log?a(console,"log"):e)}(n)||c.apply(this,arguments)}function f(e,r){var a,u,c,f=this,h="loglevel";function d(){var e;if(typeof window!==t&&h){try{e=window.localStorage[h]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(h),o=r.indexOf(n+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o+n.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?h+=":"+e:"symbol"==typeof e&&(h=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=r||l,f.getLevel=function(){return null!=c?c:null!=u?u:a},f.setLevel=function(e,r){return c=p(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&h){try{return void(window.localStorage[h]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"="+r+";"}catch(e){}}}(c),s.call(f)},f.setDefaultLevel=function(e){u=p(e),d()||f.setLevel(e,!1)},f.resetLevel=function(){c=null,function(){if(typeof window!==t&&h){try{window.localStorage.removeItem(h)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),s.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(a=p(i.getLevel())),s.call(f),i===f)for(var e in o)o[e].rebuild()},a=p(i?i.getLevel():"WARN");var v=d();null!=v&&(c=p(v)),s.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=h),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o=n.call(t,r,t,e))||(e.exports=o)},397:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assertNotificationFilterIsEmpty=t.assertImpersonatedUserIsEmpty=t.assertTxConfigIsEmpty=t.assertDatabaseIsEmpty=void 0;var n=r(9305);r(9014),t.assertTxConfigIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e&&!e.isEmpty()){var o=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(o.message),r.onError(o),o}},t.assertDatabaseIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e){var o=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(o.message),r.onError(o),o}},t.assertImpersonatedUserIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e){var o=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw t(o.message),r.onError(o),o}},t.assertNotificationFilterIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),void 0!==e){var o=(0,n.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(n.json.stringify(e),"."));throw t(o.message),r.onError(o),o}}},8320:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(397),c=(r(7452),r(7168)),l=a(r(7021)),f=r(9014),h=r(9305),d=u(r(6661)),p=u(r(3321)),v=h.internal.bookmarks.Bookmarks,y=h.internal.constants,b=y.ACCESS_MODE_WRITE,m=y.BOLT_PROTOCOL_V1,g=(h.internal.logger.Logger,h.internal.txConfig.TxConfig),_=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(){function e(e,t,r,n,o,i){var a=void 0===r?{}:r,u=a.disableLosslessIntegers,s=a.useBigInt;void 0===n&&(n=function(){return null}),this._server=e||{},this._chunker=t,this._packer=this._createPacker(t),this._unpacker=this._createUnpacker(u,s),this._responseHandler=n(this),this._log=o,this._onProtocolError=i,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:u,useBigInt:s}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(d.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return m},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(e){return this._packer.packable(e,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(e){return this._unpacker.unpack(e,this.transformer.fromStructure)},e.prototype.transformMetadata=function(e){return e},e.prototype.enrichErrorMetadata=function(e){return n(n({},e),{diagnostic_record:null!==e.diagnostic_record?n(n({},_),e.diagnostic_record):null})},e.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),i=r.notificationFilter,a=r.onError,u=r.onComplete,c=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,u)}});return(0,s.assertNotificationFilterIsEmpty)(i,this._onProtocolError,c),this.write(l.default.init(n,o),c,!0),c},e.prototype.logoff=function(e){var t=void 0===e?{}:e,r=t.onComplete,n=t.onError,o=(t.flush,new f.LogoffObserver({onCompleted:r,onError:n})),i=(0,h.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(i.message),o.onError(i),i},e.prototype.logon=function(e){var t=this,r=void 0===e?{}:e,n=r.authToken,o=r.onComplete,i=r.onError,a=(r.flush,new f.LoginObserver({onCompleted:function(){return t._onLoginCompleted({},n,o)},onError:function(e){return t._onLoginError(e,i)}})),u=(0,h.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(u.message),a.onError(u),u},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,c=t.afterError,l=t.beforeComplete,f=t.afterComplete;return this.run("BEGIN",r?r.asBeginTransactionParameters():{},{bookmarks:r,txConfig:n,database:o,mode:i,impersonatedUser:a,notificationFilter:u,beforeError:s,afterError:c,beforeComplete:l,afterComplete:f,flush:!1})},e.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("COMMIT",{},{bookmarks:v.empty(),txConfig:g.empty(),mode:b,beforeError:r,afterError:n,beforeComplete:o,afterComplete:i})},e.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,o=t.beforeComplete,i=t.afterComplete;return this.run("ROLLBACK",{},{bookmarks:v.empty(),txConfig:g.empty(),mode:b,beforeError:r,afterError:n,beforeComplete:o,afterComplete:i})},e.prototype.run=function(e,t,r){var n=void 0===r?{}:r,o=(n.bookmarks,n.txConfig),i=n.database,a=(n.mode,n.impersonatedUser),u=n.notificationFilter,c=n.beforeKeys,h=n.afterKeys,d=n.beforeError,p=n.afterError,v=n.beforeComplete,y=n.afterComplete,b=n.flush,m=void 0===b||b,g=n.highRecordWatermark,_=void 0===g?Number.MAX_VALUE:g,w=n.lowRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,S=new f.ResultStreamObserver({server:this._server,beforeKeys:c,afterKeys:h,beforeError:d,afterError:p,beforeComplete:v,afterComplete:y,highRecordWatermark:_,lowRecordWatermark:O});return(0,s.assertTxConfigIsEmpty)(o,this._onProtocolError,S),(0,s.assertDatabaseIsEmpty)(i,this._onProtocolError,S),(0,s.assertImpersonatedUserIsEmpty)(a,this._onProtocolError,S),(0,s.assertNotificationFilterIsEmpty)(u,this._onProtocolError,S),this.write(l.default.run(e,t),S,!1),this.write(l.default.pullAll(),S,m),S},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){var t=void 0===e?{}:e,r=t.onError,n=t.onComplete,o=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:r,onComplete:n});return this.write(l.default.reset(),o,!0),o},e.prototype.telemetry=function(e,t){e.api;var r=void 0===t?{}:t,n=(r.onError,r.onCompleted),o=new f.CompletedObserver;return n&&n(),o},e.prototype._createPacker=function(e){return new c.v1.Packer(e)},e.prototype._createUnpacker=function(e,t){return new c.v1.Unpacker(e,t)},e.prototype.write=function(e,t,r){if(this.queueObserverIfProtocolIsNotBroken(t)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(e)),this._lastMessageSignature=e.signature;var n=new c.structure.Structure(e.signature,e.fields);this.packable(n)(),this._chunker.messageBoundary(),r&&this._chunker.flush()}},e.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===l.SIGNATURES.HELLO||this._lastMessageSignature===l.SIGNATURES.LOGON},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===l.SIGNATURES.RESET},e.prototype.notifyFatalError=function(e){return this._fatalError=e,this._responseHandler._notifyErrorToObservers(e)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(e){return this.isBroken()?(this.notifyFatalErrorToObserver(e),!1):this._responseHandler._queueObserver(e)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(e){e&&e.onError&&e.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(e,t,r){if(this._initialized=!0,this._authToken=t,e){var n=e.server;this._server.version||(this._server.version=n)}r&&r(e)},e.prototype._onLoginError=function(e,t){this._onProtocolError(e.message),t&&t(e)},e}();t.default=w},6661:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(9305),i=r(7168),a=r(3321),u=o.error.PROTOCOL_ERROR;t.default={createNodeTransformer:function(){return new a.TypeTransformer({signature:78,isTypeInstance:function(e){return e instanceof o.Node},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Node",3,e.size);var t=n(e.fields,3),r=t[0],a=t[1],u=t[2];return new o.Node(r,a,u)}})},createRelationshipTransformer:function(){return new a.TypeTransformer({signature:82,isTypeInstance:function(e){return e instanceof o.Relationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Relationship",5,e.size);var t=n(e.fields,5),r=t[0],a=t[1],u=t[2],s=t[3],c=t[4];return new o.Relationship(r,a,u,s,c)}})},createUnboundRelationshipTransformer:function(){return new a.TypeTransformer({signature:114,isTypeInstance:function(e){return e instanceof o.UnboundRelationship},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("UnboundRelationship",3,e.size);var t=n(e.fields,3),r=t[0],a=t[1],u=t[2];return new o.UnboundRelationship(r,a,u)}})},createPathTransformer:function(){return new a.TypeTransformer({signature:80,isTypeInstance:function(e){return e instanceof o.Path},toStructure:function(e){throw(0,o.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),u)},fromStructure:function(e){i.structure.verifyStructSize("Path",3,e.size);for(var t=n(e.fields,3),r=t[0],a=t[1],u=t[2],s=[],c=r[0],l=0;l<u.length;l+=2){var f=r[u[l+1]],h=(0,o.toNumber)(u[l]),d=void 0;h>0?(d=a[h-1])instanceof o.UnboundRelationship&&(a[h-1]=d=d.bindTo(c,f)):(d=a[-h-1])instanceof o.UnboundRelationship&&(a[-h-1]=d=d.bindTo(f,c)),s.push(new o.PathSegment(c,d,f)),c=f}return new o.Path(r[0],r[r.length-1],s)}})}}},2857:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(8320)),u=i(r(7168)),s=r(9305),c=i(r(3448)),l=i(r(3321)),f=s.internal.constants.BOLT_PROTOCOL_V2,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._createPacker=function(e){return new u.default.Packer(e)},t.prototype._createUnpacker=function(e,t){return new u.default.Unpacker(e,t)},Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(c.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),t}(a.default);t.default=h},3448:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(9305),u=r(7168),s=r(3321),c=r(5973),l=i(r(6661)),f=a.internal.temporalUtil,h=f.dateToEpochDay,d=f.localDateTimeToEpochSecond,p=f.localTimeToNanoOfDay;function v(e,t,r){if(!t&&!r)return e;var n=function(e){return r?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var u=e[i];o[i]=(0,a.isInt)(u)?n(u):u}return Object.freeze(o),o}t.default=n(n({},l.default),{createPoint2DTransformer:function(){return new s.TypeTransformer({signature:88,isTypeInstance:function(e){return(0,a.isPoint)(e)&&(null===e.z||void 0===e.z)},toStructure:function(e){return new u.structure.Structure(88,[(0,a.int)(e.srid),e.x,e.y])},fromStructure:function(e){u.structure.verifyStructSize("Point2D",3,e.size);var t=o(e.fields,3),r=t[0],n=t[1],i=t[2];return new a.Point(r,n,i,void 0)}})},createPoint3DTransformer:function(){return new s.TypeTransformer({signature:89,isTypeInstance:function(e){return(0,a.isPoint)(e)&&null!==e.z&&void 0!==e.z},toStructure:function(e){return new u.structure.Structure(89,[(0,a.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){u.structure.verifyStructSize("Point3D",4,e.size);var t=o(e.fields,4),r=t[0],n=t[1],i=t[2],s=t[3];return new a.Point(r,n,i,s)}})},createDurationTransformer:function(){return new s.TypeTransformer({signature:69,isTypeInstance:a.isDuration,toStructure:function(e){var t=(0,a.int)(e.months),r=(0,a.int)(e.days),n=(0,a.int)(e.seconds),o=(0,a.int)(e.nanoseconds);return new u.structure.Structure(69,[t,r,n,o])},fromStructure:function(e){u.structure.verifyStructSize("Duration",4,e.size);var t=o(e.fields,4),r=t[0],n=t[1],i=t[2],s=t[3];return new a.Duration(r,n,i,s)}})},createLocalTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new s.TypeTransformer({signature:116,isTypeInstance:a.isLocalTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond);return new u.structure.Structure(116,[t])},fromStructure:function(e){u.structure.verifyStructSize("LocalTime",1,e.size);var n=o(e.fields,1)[0];return v((0,c.nanoOfDayToLocalTime)(n),t,r)}})},createTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new s.TypeTransformer({signature:84,isTypeInstance:a.isTime,toStructure:function(e){var t=p(e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds);return new u.structure.Structure(84,[t,r])},fromStructure:function(e){u.structure.verifyStructSize("Time",2,e.size);var n=o(e.fields,2),i=n[0],s=n[1],l=(0,c.nanoOfDayToLocalTime)(i);return v(new a.Time(l.hour,l.minute,l.second,l.nanosecond,s),t,r)}})},createDateTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new s.TypeTransformer({signature:68,isTypeInstance:a.isDate,toStructure:function(e){var t=h(e.year,e.month,e.day);return new u.structure.Structure(68,[t])},fromStructure:function(e){u.structure.verifyStructSize("Date",1,e.size);var n=o(e.fields,1)[0];return v((0,c.epochDayToDate)(n),t,r)}})},createLocalDateTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new s.TypeTransformer({signature:100,isTypeInstance:a.isLocalDateTime,toStructure:function(e){var t=d(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond);return new u.structure.Structure(100,[t,r])},fromStructure:function(e){u.structure.verifyStructSize("LocalDateTime",2,e.size);var n=o(e.fields,2),i=n[0],a=n[1];return v((0,c.epochSecondAndNanoToLocalDateTime)(i,a),t,r)}})},createDateTimeWithZoneIdTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new s.TypeTransformer({signature:102,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null!=e.timeZoneId},toStructure:function(e){var t=d(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond),n=e.timeZoneId;return new u.structure.Structure(102,[t,r,n])},fromStructure:function(e){u.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var n=o(e.fields,3),i=n[0],s=n[1],l=n[2],f=(0,c.epochSecondAndNanoToLocalDateTime)(i,s);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,null,l),t,r)}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new s.TypeTransformer({signature:70,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null==e.timeZoneId},toStructure:function(e){var t=d(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds);return new u.structure.Structure(70,[t,r,n])},fromStructure:function(e){u.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var n=o(e.fields,3),i=n[0],s=n[1],l=n[2],f=(0,c.epochSecondAndNanoToLocalDateTime)(i,s);return v(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,l,null),t,r)}})}})},5642:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(2857)),s=a(r(7021)),c=r(397),l=r(9014),f=a(r(1175)),h=a(r(3321)),d=r(9305),p=(d.internal.bookmarks.Bookmarks,d.internal.constants.BOLT_PROTOCOL_V3),v=d.internal.txConfig.TxConfig,y="context",b="CALL dbms.cluster.routing.getRoutingTable($".concat(y,")"),m=new l.StreamObserver,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(f.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),i=r.notificationFilter,a=r.onError,u=r.onComplete,f=new l.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,u)}});return(0,c.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(s.default.hello(n,o),f,!0),f},t.prototype.prepareToClose=function(){this.write(s.default.goodbye(),m,!0)},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,u=t.mode,f=t.beforeError,h=t.afterError,d=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:h,beforeComplete:d,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,c.assertDatabaseIsEmpty)(o,this._onProtocolError,v),(0,c.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,c.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(s.default.begin({bookmarks:r,txConfig:n,mode:u}),v,!0),v},t.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new l.ResultStreamObserver({server:this._server,beforeError:r,afterError:n,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(s.default.commit(),a,!0),a},t.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,o=t.beforeComplete,i=t.afterComplete,a=new l.ResultStreamObserver({server:this._server,beforeError:r,afterError:n,beforeComplete:o,afterComplete:i});return a.prepareToHandleSingleResponse(),this.write(s.default.rollback(),a,!0),a},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,o=n.bookmarks,i=n.txConfig,a=n.database,u=n.impersonatedUser,f=n.notificationFilter,h=n.mode,d=n.beforeKeys,p=n.afterKeys,v=n.beforeError,y=n.afterError,b=n.beforeComplete,m=n.afterComplete,g=n.flush,_=void 0===g||g,w=n.highRecordWatermark,O=void 0===w?Number.MAX_VALUE:w,S=n.lowRecordWatermark,E=void 0===S?Number.MAX_VALUE:S,P=new l.ResultStreamObserver({server:this._server,beforeKeys:d,afterKeys:p,beforeError:v,afterError:y,beforeComplete:b,afterComplete:m,highRecordWatermark:O,lowRecordWatermark:E});return(0,c.assertDatabaseIsEmpty)(a,this._onProtocolError,P),(0,c.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,P),(0,c.assertNotificationFilterIsEmpty)(f,this._onProtocolError,P),this.write(s.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,mode:h}),P,!1),this.write(s.default.pullAll(),P,_),P},t.prototype.requestRoutingInformation=function(e){var t,r=e.routingContext,n=void 0===r?{}:r,o=e.sessionContext,a=void 0===o?{}:o,u=e.onError,s=e.onCompleted,c=this.run(b,((t={})[y]=n,t),i(i({},a),{txConfig:v.empty()}));return new l.ProcedureRouteObserver({resultObserver:c,onProtocolError:this._onProtocolError,onError:u,onCompleted:s})},t}(u.default);t.default=g},1175:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(3448));t.default=n({},i.default)},2539:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(5642)),s=a(r(7021)),c=r(397),l=r(9014),f=a(r(2066)),h=a(r(3321)),d=r(9305),p=(d.internal.bookmarks.Bookmarks,d.internal.constants),v=p.BOLT_PROTOCOL_V4_0,y=p.FETCH_ALL,b=d.internal.txConfig.TxConfig,m="context",g="database",_="CALL dbms.routing.getRoutingTable($".concat(m,", $").concat(g,")"),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(f.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,o=t.database,i=t.impersonatedUser,a=t.notificationFilter,u=t.mode,f=t.beforeError,h=t.afterError,d=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:f,afterError:h,beforeComplete:d,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,c.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,v),(0,c.assertNotificationFilterIsEmpty)(a,this._onProtocolError,v),this.write(s.default.begin({bookmarks:r,txConfig:n,database:o,mode:u}),v,!0),v},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,o=n.bookmarks,i=n.txConfig,a=n.database,u=n.impersonatedUser,f=n.notificationFilter,h=n.mode,d=n.beforeKeys,p=n.afterKeys,v=n.beforeError,b=n.afterError,m=n.beforeComplete,g=n.afterComplete,_=n.flush,w=void 0===_||_,O=n.reactive,S=void 0!==O&&O,E=n.fetchSize,P=void 0===E?y:E,T=n.highRecordWatermark,x=void 0===T?Number.MAX_VALUE:T,C=n.lowRecordWatermark,j=void 0===C?Number.MAX_VALUE:C,A=new l.ResultStreamObserver({server:this._server,reactive:S,fetchSize:P,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:v,afterError:b,beforeComplete:m,afterComplete:g,highRecordWatermark:x,lowRecordWatermark:j});(0,c.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,A),(0,c.assertNotificationFilterIsEmpty)(f,this._onProtocolError,A);var k=S;return this.write(s.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:h}),A,k&&w),S||this.write(s.default.pull({n:P}),A,w),A},t.prototype._requestMore=function(e,t,r){this.write(s.default.pull({stmtId:e,n:t}),r,!0)},t.prototype._requestDiscard=function(e,t){this.write(s.default.discard({stmtId:e}),t,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(e){var t,r=e.routingContext,n=void 0===r?{}:r,o=e.databaseName,a=void 0===o?null:o,u=e.sessionContext,s=void 0===u?{}:u,c=e.onError,f=e.onCompleted,h=this.run(_,((t={})[m]=n,t[g]=a,t),i(i({},s),{txConfig:b.empty()}));return new l.ProcedureRouteObserver({resultObserver:h,onProtocolError:this._onProtocolError,onError:c,onCompleted:f})},t}(u.default);t.default=w},2066:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(1175));t.default=n({},i.default)},4596:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2539)),u=i(r(7021)),s=r(9014),c=r(9305),l=r(397),f=i(r(7521)),h=i(r(3321)),d=c.internal.constants.BOLT_PROTOCOL_V4_1,p=function(e){function t(t,r,n,o,i,a,u){void 0===o&&(o=function(){return null});var s=e.call(this,t,r,n,o,i,a)||this;return s._serversideRouting=u,s}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(f.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),i=r.notificationFilter,a=r.onError,c=r.onComplete,f=new s.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,c)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(u.default.hello(n,o,this._serversideRouting),f,!0),f},t}(a.default);t.default=p},7521:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(2066));t.default=n({},i.default)},6445:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(4596)),u=r(9305),s=i(r(5348)),c=i(r(3321)),l=u.internal.constants.BOLT_PROTOCOL_V4_2,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t}(a.default);t.default=f},5348:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(7521));t.default=n({},i.default)},9054:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(6445)),s=a(r(7021)),c=r(9014),l=r(397),f=a(r(7331)),h=a(r(5045)),d=a(r(3321)),p=r(9305),v=p.internal.bookmarks.Bookmarks,y=p.internal.constants.BOLT_PROTOCOL_V4_3,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,r=void 0===t?{}:t,n=e.databaseName,o=void 0===n?null:n,i=e.sessionContext,a=void 0===i?{}:i,u=e.onError,l=e.onCompleted,f=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:u,onCompleted:l}),h=a.bookmarks||v.empty();return this.write(s.default.route(r,h.values(),o),f,!0),f},t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),i=r.notificationFilter,a=r.onError,u=r.onComplete,f=new c.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return void 0!==e.patch_bolt&&t._applyPatches(e.patch_bolt),t._onLoginCompleted(e,o,u)}});return(0,l.assertNotificationFilterIsEmpty)(i,this._onProtocolError,f),this.write(s.default.hello(n,o,this._serversideRouting,["utc"]),f,!0),f},t.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new d.default(Object.values(i(i({},f.default),h.default)).map((function(t){return t(e._config,e._log)})))},t}(u.default);t.default=b},7331:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(5348));t.default=n({},i.default)},1711:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(9054)),s=r(9305),c=a(r(7021)),l=r(9014),f=r(397),h=a(r(7518)),d=a(r(5045)),p=a(r(3321)),v=s.internal.constants,y=v.BOLT_PROTOCOL_V4_4,b=v.FETCH_ALL,m=s.internal.bookmarks.Bookmarks,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(h.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,r=void 0===t?{}:t,n=e.databaseName,o=void 0===n?null:n,i=e.impersonatedUser,a=void 0===i?null:i,u=e.sessionContext,s=void 0===u?{}:u,f=e.onError,h=e.onCompleted,d=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:f,onCompleted:h}),p=s.bookmarks||m.empty();return this.write(c.default.routeV4x4(r,p.values(),{databaseName:o,impersonatedUser:a}),d,!0),d},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,o=n.bookmarks,i=n.txConfig,a=n.database,u=n.mode,s=n.impersonatedUser,h=n.notificationFilter,d=n.beforeKeys,p=n.afterKeys,v=n.beforeError,y=n.afterError,m=n.beforeComplete,g=n.afterComplete,_=n.flush,w=void 0===_||_,O=n.reactive,S=void 0!==O&&O,E=n.fetchSize,P=void 0===E?b:E,T=n.highRecordWatermark,x=void 0===T?Number.MAX_VALUE:T,C=n.lowRecordWatermark,j=void 0===C?Number.MAX_VALUE:C,A=new l.ResultStreamObserver({server:this._server,reactive:S,fetchSize:P,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:v,afterError:y,beforeComplete:m,afterComplete:g,highRecordWatermark:x,lowRecordWatermark:j});(0,f.assertNotificationFilterIsEmpty)(h,this._onProtocolError,A);var k=S;return this.write(c.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s}),A,k&&w),S||this.write(c.default.pull({n:P}),A,w),A},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,h=t.afterError,d=t.beforeComplete,p=t.afterComplete,v=new l.ResultStreamObserver({server:this._server,beforeError:s,afterError:h,beforeComplete:d,afterComplete:p});return v.prepareToHandleSingleResponse(),(0,f.assertNotificationFilterIsEmpty)(u,this._onProtocolError,v),this.write(c.default.begin({bookmarks:r,txConfig:n,database:o,mode:i,impersonatedUser:a}),v,!0),v},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new p.default(Object.values(i(i({},h.default),d.default)).map((function(t){return t(e._config,e._log)})))},t}(u.default);t.default=g},7518:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(7331));t.default=n({},i.default)},844:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(1711)),u=r(397),s=i(r(7449)),c=i(r(3321)),l=i(r(7021)),f=r(9014),h=r(9305).internal.constants.BOLT_PROTOCOL_V5_0,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),i=r.notificationFilter,a=r.onError,s=r.onComplete,c=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,o,s)}});return(0,u.assertNotificationFilterIsEmpty)(i,this._onProtocolError,c),this.write(l.default.hello(n,o,this._serversideRouting),c,!0),c},t}(a.default);t.default=d},7449:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(7168),u=r(9305),s=i(r(7518)),c=i(r(5045));t.default=n(n(n({},s.default),c.default),{createNodeTransformer:function(e){return s.default.createNodeTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Node",4,e.size);var t=o(e.fields,4),r=t[0],n=t[1],i=t[2],s=t[3];return new u.Node(r,n,i,s)}})},createRelationshipTransformer:function(e){return s.default.createRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Relationship",8,e.size);var t=o(e.fields,8),r=t[0],n=t[1],i=t[2],s=t[3],c=t[4],l=t[5],f=t[6],h=t[7];return new u.Relationship(r,n,i,s,c,l,f,h)}})},createUnboundRelationshipTransformer:function(e){return s.default.createUnboundRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("UnboundRelationship",4,e.size);var t=o(e.fields,4),r=t[0],n=t[1],i=t[2],s=t[3];return new u.UnboundRelationship(r,n,i,s)}})}})},5045:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(7168),a=r(9305),u=o(r(7518)),s=r(5973),c=r(6492),l=a.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function h(e,t,r){var n=function(e){if(!f.has(e)){var t=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(e,t)}return f.get(e)}(e),o=(0,a.int)(t).multiply(1e3).add((0,a.int)(r).div(1e6)).toNumber(),i=n.formatToParts(o).reduce((function(e,t){return"era"===t.type?e.adjustEra="B"===t.value.toUpperCase()?function(e){return e.subtract(1).negate()}:c.identity:"hour"===t.type?e.hour=(0,a.int)(t.value).modulo(24):"literal"!==t.type&&(e[t.type]=(0,a.int)(t.value)),e}),{});i.year=i.adjustEra(i.year);var u=l(i.year,i.month,i.day,i.hour,i.minute,i.second,i.nanosecond);return i.timeZoneOffsetSeconds=u.subtract(t),i.hour=i.hour.modulo(24),i}function d(e,t,r){if(!t&&!r)return e;var n=function(e){return r?e.toBigInt():e.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var u=e[i];o[i]=(0,a.isInt)(u)?n(u):u}return Object.freeze(o),o}t.default={createDateTimeWithZoneIdTransformer:function(e,t){var r=e.disableLosslessIntegers,o=e.useBigInt;return u.default.createDateTimeWithZoneIdTransformer(e).extendsWith({signature:105,fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var t=n(e.fields,3),u=t[0],s=t[1],c=t[2],l=h(c,u,s);return d(new a.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,(0,a.int)(s),l.timeZoneOffsetSeconds,c),r,o)},toStructure:function(e){var r=l(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),n=null!=e.timeZoneOffsetSeconds?e.timeZoneOffsetSeconds:function(e,t,r){var n=h(e,t,r),o=l(n.year,n.month,n.day,n.hour,n.minute,n.second,r).subtract(t),i=t.subtract(o),a=h(e,i,r);return l(a.year,a.month,a.day,a.hour,a.minute,a.second,r).subtract(i)}(e.timeZoneId,r,e.nanosecond);null==e.timeZoneOffsetSeconds&&t.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var o=r.subtract(n),u=(0,a.int)(e.nanosecond),s=e.timeZoneId;return new i.structure.Structure(105,[o,u,s])}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return u.default.createDateTimeWithOffsetTransformer(e).extendsWith({signature:73,toStructure:function(e){var t=l(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds),o=t.subtract(n);return new i.structure.Structure(73,[o,r,n])},fromStructure:function(e){i.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var o=n(e.fields,3),u=o[0],c=o[1],l=o[2],f=(0,a.int)(u).add(l),h=(0,s.epochSecondAndNanoToLocalDateTime)(f,c);return d(new a.DateTime(h.year,h.month,h.day,h.hour,h.minute,h.second,h.nanosecond,l,null),t,r)}})}}},6345:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(844)),s=r(397),c=a(r(9994)),l=a(r(3321)),f=a(r(7021)),h=r(9014),d=r(9305).internal.constants.BOLT_PROTOCOL_V5_1,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(c.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),a=r.notificationFilter,u=r.onError,c=r.onComplete,l={},d=new h.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return l.metadata=e,t._onLoginCompleted(e)}});return(0,s.assertNotificationFilterIsEmpty)(a,this._onProtocolError,d),this.write(f.default.hello5x1(n,this._serversideRouting),d,!1),this.logon({authToken:o,onComplete:function(e){return c(i(i({},e),l.metadata))},onError:u,flush:!0})},t.prototype.logon=function(e){var t=this,r=void 0===e?{}:e,n=r.authToken,o=r.onComplete,i=r.onError,a=r.flush,u=new h.LoginObserver({onCompleted:function(){return t._onLoginCompleted(null,n,o)},onError:function(e){return t._onLoginError(e,i)}});return this.write(f.default.logon(n),u,a),u},t.prototype.logoff=function(e){var t=void 0===e?{}:e,r=t.onComplete,n=t.onError,o=t.flush,i=new h.LogoffObserver({onCompleted:r,onError:n});return this.write(f.default.logoff(),i,o),i},t}(u.default);t.default=p},9994:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(7449));t.default=n({},i.default)},934:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(6345)),s=a(r(3019)),c=a(r(3321)),l=a(r(7021)),f=r(9014),h=r(9305).internal.constants,d=h.BOLT_PROTOCOL_V5_2,p=h.FETCH_ALL,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=(r.boltAgent,r.authToken),a=r.notificationFilter,u=r.onError,s=r.onComplete,c={},h=new f.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return c.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x2(n,a,this._serversideRouting),h,!1),this.logon({authToken:o,onComplete:function(e){return s(i(i({},e),c.metadata))},onError:u,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,c=t.afterError,h=t.beforeComplete,d=t.afterComplete,p=new f.ResultStreamObserver({server:this._server,beforeError:s,afterError:c,beforeComplete:h,afterComplete:d});return p.prepareToHandleSingleResponse(),this.write(l.default.begin({bookmarks:r,txConfig:n,database:o,mode:i,impersonatedUser:a,notificationFilter:u}),p,!0),p},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,o=n.bookmarks,i=n.txConfig,a=n.database,u=n.mode,s=n.impersonatedUser,c=n.notificationFilter,h=n.beforeKeys,d=n.afterKeys,v=n.beforeError,y=n.afterError,b=n.beforeComplete,m=n.afterComplete,g=n.flush,_=void 0===g||g,w=n.reactive,O=void 0!==w&&w,S=n.fetchSize,E=void 0===S?p:S,P=n.highRecordWatermark,T=void 0===P?Number.MAX_VALUE:P,x=n.lowRecordWatermark,C=void 0===x?Number.MAX_VALUE:x,j=new f.ResultStreamObserver({server:this._server,reactive:O,fetchSize:E,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:d,beforeError:v,afterError:y,beforeComplete:b,afterComplete:m,highRecordWatermark:T,lowRecordWatermark:C}),A=O;return this.write(l.default.runWithMetadata(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s,notificationFilter:c}),j,A&&_),O||this.write(l.default.pull({n:E}),j,_),j},t}(u.default);t.default=v},3019:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(9994));t.default=n({},i.default)},9125:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(934)),s=a(r(2204)),c=a(r(3321)),l=a(r(7021)),f=r(9014),h=r(9305).internal.constants.BOLT_PROTOCOL_V5_3,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=r.boltAgent,a=r.authToken,u=r.notificationFilter,s=r.onError,c=r.onComplete,h={},d=new f.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return h.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x3(n,o,u,this._serversideRouting),d,!1),this.logon({authToken:a,onComplete:function(e){return c(i(i({},e),h.metadata))},onError:s,flush:!0})},t}(u.default);t.default=d},2204:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(3019));t.default=n({},i.default)},9744:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(9125)),u=i(r(4325)),s=i(r(7021)),c=r(9014),l=i(r(3321)),f=r(9305).internal.constants.BOLT_PROTOCOL_V5_4,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new l.default(Object.values(u.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.telemetry=function(e,t){var r=e.api,n=void 0===t?{}:t,o=n.onError,i=n.onCompleted,a=new c.TelemetryObserver({onCompleted:i,onError:o});return this.write(s.default.telemetry({api:r}),a,!1),a},t}(a.default);t.default=h},4325:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(2204));t.default=n({},i.default)},5815:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(9744)),s=a(r(9238)),c=a(r(3321)),l=a(r(7021)),f=r(9014),h=r(9305).internal.constants,d=h.BOLT_PROTOCOL_V5_5,p=h.FETCH_ALL,v=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,o=r.boltAgent,a=r.authToken,u=r.notificationFilter,s=r.onError,c=r.onComplete,h={},d=new f.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return h.metadata=e,t._onLoginCompleted(e)}});return this.write(l.default.hello5x5(n,o,u,this._serversideRouting),d,!1),this.logon({authToken:a,onComplete:function(e){return c(i(i({},e),h.metadata))},onError:s,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,o=t.database,i=t.mode,a=t.impersonatedUser,u=t.notificationFilter,s=t.beforeError,c=t.afterError,h=t.beforeComplete,d=t.afterComplete,p=new f.ResultStreamObserver({server:this._server,beforeError:s,afterError:c,beforeComplete:h,afterComplete:d});return p.prepareToHandleSingleResponse(),this.write(l.default.begin5x5({bookmarks:r,txConfig:n,database:o,mode:i,impersonatedUser:a,notificationFilter:u}),p,!0),p},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,o=n.bookmarks,i=n.txConfig,a=n.database,u=n.mode,s=n.impersonatedUser,c=n.notificationFilter,h=n.beforeKeys,d=n.afterKeys,v=n.beforeError,y=n.afterError,b=n.beforeComplete,m=n.afterComplete,g=n.flush,_=void 0===g||g,w=n.reactive,O=void 0!==w&&w,S=n.fetchSize,E=void 0===S?p:S,P=n.highRecordWatermark,T=void 0===P?Number.MAX_VALUE:P,x=n.lowRecordWatermark,C=void 0===x?Number.MAX_VALUE:x,j=new f.ResultStreamObserver({server:this._server,reactive:O,fetchSize:E,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:d,beforeError:v,afterError:y,beforeComplete:b,afterComplete:m,highRecordWatermark:T,lowRecordWatermark:C,enrichMetadata:this._enrichMetadata}),A=O;return this.write(l.default.runWithMetadata5x5(e,t,{bookmarks:o,txConfig:i,database:a,mode:u,impersonatedUser:s,notificationFilter:c}),j,A&&_),O||this.write(l.default.pull({n:E}),j,_),j},t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map((function(e){return i(i({},e),{description:null!=e.neo4j_code?e.status_description:e.description,diagnostic_record:null!==e.diagnostic_record?i(i({},v),e.diagnostic_record):null})}))),e},t}(u.default);t.default=y},9238:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(4325));t.default=n({},i.default)},6890:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(5815)),s=a(r(9238)),c=a(r(3321)),l=r(9305).internal.constants.BOLT_PROTOCOL_V5_6,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map((function(e){return i(i({},e),{diagnostic_record:null!==e.diagnostic_record?i(i({},f),e.diagnostic_record):null})}))),e},t}(u.default);t.default=h},6377:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(6890)),s=a(r(9238)),c=a(r(3321)),l=r(9305).internal.constants.BOLT_PROTOCOL_V5_7,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map((function(t){return t(e._config,e._log)})))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.enrichErrorMetadata=function(e){return i(i({},e),{cause:null!==e.cause&&void 0!==e.cause?this.enrichErrorMetadata(e.cause):null,code:e.neo4j_code,diagnostic_record:null!==e.diagnostic_record?i(i({},f),e.diagnostic_record):null})},t}(u.default);t.default=h},6544:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(9305),i=n(r(8320)),a=n(r(2857)),u=n(r(5642)),s=n(r(2539)),c=n(r(4596)),l=n(r(6445)),f=n(r(9054)),h=n(r(1711)),d=n(r(844)),p=n(r(6345)),v=n(r(934)),y=n(r(9125)),b=n(r(9744)),m=n(r(5815)),g=n(r(6890)),_=n(r(6377)),w=(r(7452),n(r(2578)));t.default=function(e){var t=void 0===e?{}:e,r=t.version,n=t.chunker,O=t.dechunker,S=t.channel,E=t.disableLosslessIntegers,P=t.useBigInt,T=t.serversideRouting,x=t.server,C=t.log,j=t.observer;return function(e,t,r,n,w,O,S,E){switch(e){case 1:return new i.default(t,r,n,O,E,S);case 2:return new a.default(t,r,n,O,E,S);case 3:return new u.default(t,r,n,O,E,S);case 4:return new s.default(t,r,n,O,E,S);case 4.1:return new c.default(t,r,n,O,E,S,w);case 4.2:return new l.default(t,r,n,O,E,S,w);case 4.3:return new f.default(t,r,n,O,E,S,w);case 4.4:return new h.default(t,r,n,O,E,S,w);case 5:return new d.default(t,r,n,O,E,S,w);case 5.1:return new p.default(t,r,n,O,E,S,w);case 5.2:return new v.default(t,r,n,O,E,S,w);case 5.3:return new y.default(t,r,n,O,E,S,w);case 5.4:return new b.default(t,r,n,O,E,S,w);case 5.5:return new m.default(t,r,n,O,E,S,w);case 5.6:return new g.default(t,r,n,O,E,S,w);case 5.7:return new _.default(t,r,n,O,E,S,w);default:throw(0,o.newError)("Unknown Bolt protocol version: "+e)}}(r,x,n,{disableLosslessIntegers:E,useBigInt:P},T,(function(e){var t=new w.default({transformMetadata:e.transformMetadata.bind(e),enrichErrorMetadata:e.enrichErrorMetadata.bind(e),log:C,observer:j});return S.onerror=j.onError.bind(j),S.onmessage=function(e){return O.write(e)},O.onmessage=function(r){try{t.handleResponse(e.unpack(r))}catch(e){return j.onError(e)}},t}),j.onProtocolError.bind(j),C)}},8731:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(7452),o=r(9305);function i(e,t){return{major:e,minor:t}}t.default=function(e,t){var r=this;return new Promise((function(a,u){var s=function(e){u(e)};e.onerror=s.bind(r),e._error&&s(e._error),e.onmessage=function(e){try{var r=function(e,t){var r=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(72===r[0]&&84===r[1]&&84===r[2]&&80===r[3])throw t.error("Handshake failed since server responded with HTTP."),(0,o.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(r[3]+"."+r[2])}(e,t);a({protocolVersion:r,consumeRemainingBuffer:function(t){e.hasRemaining()&&t(e.readSlice(e.remaining()))}})}catch(e){u(e)}},e.write(function(e){if(e.length>4)throw(0,o.newError)("It should not have more than 4 versions of the protocol");var t=(0,n.alloc)(20);return t.writeInt32(1616949271),e.forEach((function(e){if(e instanceof Array){var r=e[0],n=r.major,o=(i=r.minor)-e[1].minor;t.writeInt32(o<<16|i<<8|n)}else{n=e.major;var i=e.minor;t.writeInt32(i<<8|n)}})),t.reset(),t}([[i(5,7),i(5,0)],[i(4,4),i(4,2)],i(4,1),i(3,0)]))}))}},7666:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawRoutingTable=t.BoltProtocol=void 0;var a=i(r(8731)),u=i(r(6544)),s=i(r(9054)),c=i(r(7790));o(r(9014),t),t.BoltProtocol=s.default,t.RawRoutingTable=c.default,t.default={handshake:a.default,create:u.default}},7021:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES=void 0;var n=r(9305),o=n.internal.constants,i=o.ACCESS_MODE_READ,a=o.FETCH_ALL,u=n.internal.util.assertString,s=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});t.SIGNATURES=s;var c=function(){function e(e,t,r){this.signature=e,this.fields=t,this.toString=r}return e.init=function(t,r){return new e(1,[t,r],(function(){return"INIT ".concat(t," {...}")}))},e.run=function(t,r){return new e(16,[t,r],(function(){return"RUN ".concat(t," ").concat(n.json.stringify(r))}))},e.pullAll=function(){return p},e.reset=function(){return v},e.hello=function(t,r,n,o){void 0===n&&(n=null),void 0===o&&(o=null);var i=Object.assign({user_agent:t},r);return n&&(i.routing=n),o&&(i.patch_bolt=o),new e(1,[i],(function(){return"HELLO {user_agent: '".concat(t,"', ...}")}))},e.hello5x1=function(t,r){void 0===r&&(r=null);var n={user_agent:t};return r&&(n.routing=r),new e(1,[n],(function(){return"HELLO {user_agent: '".concat(t,"', ...}")}))},e.hello5x2=function(t,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i={user_agent:t};return h(i,r),o&&(i.routing=o),new e(1,[i],(function(){return"HELLO ".concat(n.json.stringify(i))}))},e.hello5x3=function(t,r,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),r&&(a.bolt_agent={product:r.product,platform:r.platform,language:r.language,language_details:r.languageDetails}),h(a,o),i&&(a.routing=i),new e(1,[a],(function(){return"HELLO ".concat(n.json.stringify(a))}))},e.hello5x5=function(t,r,o,i){void 0===o&&(o=null),void 0===i&&(i=null);var a={};return t&&(a.user_agent=t),r&&(a.bolt_agent={product:r.product,platform:r.platform,language:r.language,language_details:r.languageDetails}),d(a,o),i&&(a.routing=i),new e(1,[a],(function(){return"HELLO ".concat(n.json.stringify(a))}))},e.logon=function(t){return new e(106,[t],(function(){return"LOGON { ... }"}))},e.logoff=function(){return new e(107,[],(function(){return"LOGOFF"}))},e.begin=function(t){var r=void 0===t?{}:t,o=l(r.bookmarks,r.txConfig,r.database,r.mode,r.impersonatedUser,r.notificationFilter);return new e(17,[o],(function(){return"BEGIN ".concat(n.json.stringify(o))}))},e.begin5x5=function(t){var r=void 0===t?{}:t,o=l(r.bookmarks,r.txConfig,r.database,r.mode,r.impersonatedUser,r.notificationFilter,{appendNotificationFilter:d});return new e(17,[o],(function(){return"BEGIN ".concat(n.json.stringify(o))}))},e.commit=function(){return y},e.rollback=function(){return b},e.runWithMetadata=function(t,r,o){var i=void 0===o?{}:o,a=l(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter);return new e(16,[t,r,a],(function(){return"RUN ".concat(t," ").concat(n.json.stringify(r)," ").concat(n.json.stringify(a))}))},e.runWithMetadata5x5=function(t,r,o){var i=void 0===o?{}:o,a=l(i.bookmarks,i.txConfig,i.database,i.mode,i.impersonatedUser,i.notificationFilter,{appendNotificationFilter:d});return new e(16,[t,r,a],(function(){return"RUN ".concat(t," ").concat(n.json.stringify(r)," ").concat(n.json.stringify(a))}))},e.goodbye=function(){return m},e.pull=function(t){var r=void 0===t?{}:t,o=r.stmtId,i=void 0===o?-1:o,u=r.n,s=f(null==i?-1:i,(void 0===u?a:u)||a);return new e(63,[s],(function(){return"PULL ".concat(n.json.stringify(s))}))},e.discard=function(t){var r=void 0===t?{}:t,o=r.stmtId,i=void 0===o?-1:o,u=r.n,s=f(null==i?-1:i,(void 0===u?a:u)||a);return new e(47,[s],(function(){return"DISCARD ".concat(n.json.stringify(s))}))},e.telemetry=function(t){var r=t.api,o=(0,n.int)(r);return new e(84,[o],(function(){return"TELEMETRY ".concat(o.toString())}))},e.route=function(t,r,o){return void 0===t&&(t={}),void 0===r&&(r=[]),void 0===o&&(o=null),new e(102,[t,r,o],(function(){return"ROUTE ".concat(n.json.stringify(t)," ").concat(n.json.stringify(r)," ").concat(o)}))},e.routeV4x4=function(t,r,o){void 0===t&&(t={}),void 0===r&&(r=[]),void 0===o&&(o={});var i={};return o.databaseName&&(i.db=o.databaseName),o.impersonatedUser&&(i.imp_user=o.impersonatedUser),new e(102,[t,r,i],(function(){return"ROUTE ".concat(n.json.stringify(t)," ").concat(n.json.stringify(r)," ").concat(n.json.stringify(i))}))},e}();function l(e,t,r,n,o,a,s){var c;void 0===s&&(s={});var l={};return e.isEmpty()||(l.bookmarks=e.values()),null!==t.timeout&&(l.tx_timeout=t.timeout),t.metadata&&(l.tx_metadata=t.metadata),r&&(l.db=u(r,"database")),o&&(l.imp_user=u(o,"impersonatedUser")),n===i&&(l.mode="r"),(null!==(c=s.appendNotificationFilter)&&void 0!==c?c:h)(l,a),l}function f(e,t){var r={n:(0,n.int)(t)};return-1!==e&&(r.qid=(0,n.int)(e)),r}function h(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_categories=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_categories=t.disabledClassifications))}function d(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_classifications=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_classifications=t.disabledClassifications))}t.default=c;var p=new c(63,[],(function(){return"PULL_ALL"})),v=new c(15,[],(function(){return"RESET"})),y=new c(18,[],(function(){return"COMMIT"})),b=new c(19,[],(function(){return"ROLLBACK"})),m=new c(2,[],(function(){return"GOODBYE"}))},2578:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(9305);function o(){}function i(e){return e}var a={onNext:o,onCompleted:o,onError:o},u=function(){function e(e){var t=void 0===e?{}:e,r=t.transformMetadata,n=t.enrichErrorMetadata,a=t.log,u=t.observer;this._pendingObservers=[],this._log=a,this._transformMetadata=r||i,this._enrichErrorMetadata=n||i,this._observer=Object.assign({onObserversCountChange:o,onError:o,onFailure:o,onErrorApplyTransformation:i},u)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(e){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(n.json.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(n.json.stringify(e)));try{var r=this._transformMetadata(t);this._currentObserver.onCompleted(r)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(n.json.stringify(e)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(t)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(n.json.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,n.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,n.newError)("Unknown Bolt protocol message: "+e))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(e.prototype,"_observersCount",{get:function(){return null==this._currentObserver?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),e.prototype._queueObserver=function(e){return(e=e||a).onCompleted=e.onCompleted||o,e.onError=e.onError||o,e.onNext=e.onNext||o,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),this._observer.onObserversCountChange(this._observersCount),!0},e.prototype._notifyErrorToObservers=function(e){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(e);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(e)}},e.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e.prototype._handleErrorPayload=function(e){var t,r="Neo.TransientError.Transaction.Terminated"===(t=e.code)?"Neo.ClientError.Transaction.Terminated":"Neo.TransientError.Transaction.LockClientStopped"===t?"Neo.ClientError.Transaction.LockClientStopped":t,o=null!=e.cause?this._handleErrorCause(e.cause):void 0,i=(0,n.newError)(e.message,r,o,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(i)},e.prototype._handleErrorCause=function(e){var t=null!=e.cause?this._handleErrorCause(e.cause):void 0,r=(0,n.newGQLError)(e.message,t,e.gql_status,e.description,e.diagnostic_record);return this._observer.onErrorApplyTransformation(r)},e}();t.default=u},7790:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9305));var a=function(){function e(){}return e.ofRecord=function(t){return null===t?e.ofNull():new c(t)},e.ofMessageResponse=function(t){return null===t?e.ofNull():new u(t)},e.ofNull=function(){return new s},Object.defineProperty(e.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),e}();t.default=a;var u=function(e){function t(t){var r=e.call(this)||this;return r._response=t,r}return o(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),t}(a),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(a),c=function(e){function t(t){var r=e.call(this)||this;return r._record=t,r}return o(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),t}(a)},9014:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryObserver=t.ProcedureRouteObserver=t.RouteObserver=t.CompletedObserver=t.FailedObserver=t.ResetObserver=t.LogoffObserver=t.LoginObserver=t.ResultStreamObserver=t.StreamObserver=void 0;var a=r(9305),u=i(r(7790)),s=r(6781),c=a.internal.constants.FETCH_ALL,l=a.error.PROTOCOL_ERROR,f=function(){function e(){}return e.prototype.onNext=function(e){},e.prototype.onError=function(e){},e.prototype.onCompleted=function(e){},e}();t.StreamObserver=f;var h=function(e){function t(t){var r=void 0===t?{}:t,n=r.reactive,o=void 0!==n&&n,i=r.moreFunction,a=r.discardFunction,u=r.fetchSize,l=void 0===u?c:u,f=r.beforeError,h=r.afterError,d=r.beforeKeys,p=r.afterKeys,v=r.beforeComplete,y=r.afterComplete,b=r.server,m=r.highRecordWatermark,g=void 0===m?Number.MAX_VALUE:m,_=r.lowRecordWatermark,O=void 0===_?Number.MAX_VALUE:_,S=r.enrichMetadata,E=e.call(this)||this;return E._fieldKeys=null,E._fieldLookup=null,E._head=null,E._queuedRecords=[],E._tail=null,E._error=null,E._observers=[],E._meta={},E._server=b,E._beforeError=f,E._afterError=h,E._beforeKeys=d,E._afterKeys=p,E._beforeComplete=v,E._afterComplete=y,E._enrichMetadata=S||s.functional.identity,E._queryId=null,E._moreFunction=i,E._discardFunction=a,E._discard=!1,E._fetchSize=l,E._lowRecordWatermark=O,E._highRecordWatermark=g,E._setState(o?w.READY:w.READY_STREAMING),E._setupAutoPull(),E._paused=!1,E._pulled=!o,E._haveRecordStreamed=!1,E}return o(t,e),t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},t.prototype.onNext=function(e){this._haveRecordStreamed=!0;var t=new a.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some((function(e){return e.onNext}))?this._observers.forEach((function(e){e.onNext&&e.onNext(t)})):(this._queuedRecords.push(t),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},t.prototype.onError=function(e){this._state.onError(this,e)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(w.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(w.SUCCEEDED)},t.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]),this._queuedRecords.length-t-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===w.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===w.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(e){this._setState(w.READY),this._handleStreaming(),delete e.has_more},t.prototype._handlePullSuccess=function(e){var t=this,r=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},e));if([void 0,null,"r","w","rw","s"].includes(r.type)){this._setState(w.SUCCEEDED);var n=null;this._beforeComplete&&(n=this._beforeComplete(r));var o=function(){t._tail=r,t._observers.some((function(e){return e.onCompleted}))&&t._observers.forEach((function(e){e.onCompleted&&e.onCompleted(r)})),t._afterComplete&&t._afterComplete(r)};n?Promise.resolve(n).then((function(){return o()})):o()}else this.onError((0,a.newError)('Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got \''.concat(r.type,"'"),l))},t.prototype._handleRunSuccess=function(e,t){var r=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var n=0;n<e.fields.length;n++)this._fieldLookup[e.fields[n]]=n}null!=e.fields&&delete e.fields,null!==e.qid&&void 0!==e.qid&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var o=null;this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys));var i=function(){r._head=r._fieldKeys,r._observers.some((function(e){return e.onKeys}))&&r._observers.forEach((function(e){e.onKeys&&e.onKeys(r._fieldKeys)})),r._afterKeys&&r._afterKeys(r._fieldKeys),t()};o?Promise.resolve(o).then((function(){return i()})):i()}},t.prototype._handleError=function(e){var t=this;this._setState(w.FAILED),this._error=e;var r=null;this._beforeError&&(r=this._beforeError(e));var n=function(){t._observers.some((function(e){return e.onError}))&&t._observers.forEach((function(t){t.onError&&t.onError(e)})),t._afterError&&t._afterError(e)};r?Promise.resolve(r).then((function(){return n()})):n()},t.prototype._handleStreaming=function(){this._head&&this._observers.some((function(e){return e.onNext||e.onCompleted}))&&(this._paused||!this._discard&&!this._autoPull||this._more())},t.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(w.STREAMING)},t.prototype._storeMetadataForCompletion=function(e){for(var t=Object.keys(e),r=t.length,n="";r--;)n=t[r],this._meta[n]=e[n]},t.prototype._setState=function(e){this._state=e},t.prototype._setupAutoPull=function(){this._autoPull=!0},t}(f);t.ResultStreamObserver=h;var d=function(e){function t(t){var r=void 0===t?{}:t,n=r.onError,o=r.onCompleted,i=e.call(this)||this;return i._onError=n,i._onCompleted=o,i}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when initializing "+a.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.LoginObserver=d;var p=function(e){function t(t){var r=void 0===t?{}:t,n=r.onError,o=r.onCompleted,i=e.call(this)||this;return i._onError=n,i._onCompleted=o,i}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when logging off "+a.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.LogoffObserver=p;var v=function(e){function t(t){var r=void 0===t?{}:t,n=r.onProtocolError,o=r.onError,i=r.onComplete,a=e.call(this)||this;return a._onProtocolError=n,a._onError=o,a._onComplete=i,a}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(e),l))},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},t}(f);t.ResetObserver=v;var y=function(e){function t(t){var r=void 0===t?{}:t,n=r.onError,o=r.onCompleted,i=e.call(this)||this;return i._onError=n,i._onCompleted=o,i}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when sending telemetry "+a.json.stringify(e),l))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(h);t.TelemetryObserver=y;var b=function(e){function t(t){var r=t.error,n=t.onError,o=e.call(this,{beforeError:n})||this;return o.onError(r),o}return o(t,e),t}(h);t.FailedObserver=b;var m=function(e){function t(){var t=e.call(this)||this;return e.prototype.markCompleted.call(t),t}return o(t,e),t}(h);t.CompletedObserver=m;var g=function(e){function t(t){var r=t.resultObserver,n=t.onProtocolError,o=t.onError,i=t.onCompleted,a=e.call(this)||this;return a._resultObserver=r,a._onError=o,a._onCompleted=i,a._records=[],a._onProtocolError=n,r.subscribe(a),a}return o(t,e),t.prototype.onNext=function(e){this._records.push(e)},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(){null===this._records||1===this._records.length?this._onCompleted&&this._onCompleted(u.default.ofRecord(this._records[0])):this.onError((0,a.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+a.json.stringify(this._records),l))},t}(f);t.ProcedureRouteObserver=g;var _=function(e){function t(t){var r=void 0===t?{}:t,n=r.onProtocolError,o=r.onError,i=r.onCompleted,a=e.call(this)||this;return a._onProtocolError=n,a._onError=o,a._onCompleted=i,a}return o(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(e),l))},t.prototype.onError=function(e){e.code===l&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(u.default.ofMessageResponse(e))},t}(f);t.RouteObserver=_;var w={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,(function(){e._setState(w.STREAMING)}))},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,(function(){return e._handleStreaming()}))},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},5973:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.epochSecondAndNanoToLocalDateTime=t.nanoOfDayToLocalTime=t.epochDayToDate=void 0;var n=r(9305),o=n.internal.temporalUtil,i=o.DAYS_0000_TO_1970,a=o.DAYS_PER_400_YEAR_CYCLE,u=o.NANOS_PER_HOUR,s=o.NANOS_PER_MINUTE,c=o.NANOS_PER_SECOND,l=o.SECONDS_PER_DAY,f=o.floorDiv,h=o.floorMod;function d(e){var t=(e=(0,n.int)(e)).add(i).subtract(60),r=(0,n.int)(0);if(t.lessThan(0)){var o=t.add(1).div(a).subtract(1);r=o.multiply(400),t=t.add(o.multiply(-a))}var u=t.multiply(400).add(591).div(a),s=t.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)));s.lessThan(0)&&(u=u.subtract(1),s=t.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)))),u=u.add(r);var c=s,l=c.multiply(5).add(2).div(153),f=l.add(2).modulo(12).add(1),h=c.subtract(l.multiply(306).add(5).div(10)).add(1);return u=u.add(l.div(10)),new n.Date(u,f,h)}function p(e){var t=(e=(0,n.int)(e)).div(u),r=(e=e.subtract(t.multiply(u))).div(s),o=(e=e.subtract(r.multiply(s))).div(c),i=e.subtract(o.multiply(c));return new n.LocalTime(t,r,o,i)}t.epochDayToDate=d,t.nanoOfDayToLocalTime=p,t.epochSecondAndNanoToLocalDateTime=function(e,t){var r=f(e,l),o=h(e,l).multiply(c).add(t),i=d(r),a=p(o);return new n.LocalDateTime(i.year,i.month,i.day,a.hour,a.minute,a.second,a.nanosecond)}},3321:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TypeTransformer=void 0;var n=r(7168),o=r(9305).internal.objectUtil,i=function(){function e(e){this._transformers=e,this._transformersPerSignature=new Map(e.map((function(e){return[e.signature,e]}))),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(e){try{return e instanceof n.structure.Structure&&this._transformersPerSignature.has(e.signature)?(0,this._transformersPerSignature.get(e.signature).fromStructure)(e):e}catch(e){return o.createBrokenObject(e)}},e.prototype.toStructure=function(e){var t=this._transformers.find((function(t){return(0,t.isTypeInstance)(e)}));return void 0!==t?t.toStructure(e):e},e}();t.default=i;var a=function(){function e(e){var t=e.signature,r=e.fromStructure,n=e.toStructure,o=e.isTypeInstance;this.signature=t,this.isTypeInstance=o,this.fromStructure=r,this.toStructure=n,Object.freeze(this)}return e.prototype.extendsWith=function(t){var r=t.signature,n=t.fromStructure,o=t.toStructure,i=t.isTypeInstance;return new e({signature:r||this.signature,fromStructure:n||this.fromStructure,toStructure:o||this.toStructure,isTypeInstance:i||this.isTypeInstance})},e}();t.TypeTransformer=a},45:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.position=0,this.length=e}return e.prototype.getUInt8=function(e){throw new Error("Not implemented")},e.prototype.getInt8=function(e){throw new Error("Not implemented")},e.prototype.getFloat64=function(e){throw new Error("Not implemented")},e.prototype.putUInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putInt8=function(e,t){throw new Error("Not implemented")},e.prototype.putFloat64=function(e,t){throw new Error("Not implemented")},e.prototype.getInt16=function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getUInt16=function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getInt32=function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getUInt32=function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getInt64=function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)},e.prototype.getSlice=function(e,t){return new i(e,t,this)},e.prototype.putInt16=function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)},e.prototype.putUInt16=function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)},e.prototype.putInt32=function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putUInt32=function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putInt64=function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)},e.prototype.putBytes=function(e,t){for(var r=0,n=t.remaining();r<n;r++)this.putUInt8(e+r,t.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.writeUInt8=function(e){this.putUInt8(this._updatePos(1),e)},e.prototype.writeInt8=function(e){this.putInt8(this._updatePos(1),e)},e.prototype.writeInt16=function(e){this.putInt16(this._updatePos(2),e)},e.prototype.writeInt32=function(e){this.putInt32(this._updatePos(4),e)},e.prototype.writeUInt32=function(e){this.putUInt32(this._updatePos(4),e)},e.prototype.writeInt64=function(e){this.putInt64(this._updatePos(8),e)},e.prototype.writeFloat64=function(e){this.putFloat64(this._updatePos(8),e)},e.prototype.writeBytes=function(e){this.putBytes(this._updatePos(e.remaining()),e)},e.prototype.readSlice=function(e){return this.getSlice(this._updatePos(e),e)},e.prototype._updatePos=function(e){var t=this.position;return this.position+=e,t},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},e.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++){var r=this.getUInt8(t).toString(16);1===r.length&&(r="0"+r),e+=r,t!==this.length-1&&(e+=" ")}return e},e}();t.default=o;var i=function(e){function t(t,r,n){var o=e.call(this,r)||this;return o._start=t,o._inner=n,o}return n(t,e),t.prototype.putUInt8=function(e,t){this._inner.putUInt8(this._start+e,t)},t.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},t.prototype.putInt8=function(e,t){this._inner.putInt8(this._start+e,t)},t.prototype.putFloat64=function(e,t){this._inner.putFloat64(this._start+e,t)},t.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},t.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},t}(o)},7174:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBuffer=void 0;var o=n(r(45));t.BaseBuffer=o.default,t.default=o.default},6245:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5319)),i=r(9305),a=i.internal.util,u=a.ENCRYPTION_OFF,s=a.ENCRYPTION_ON,c=function(){function e(e,t,r){void 0===t&&(t=l),void 0===r&&(r=function(e){return new WebSocket(e)});var n=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var a=function(e,t){var r=function(e){return!0===e.encrypted||e.encrypted===s}(e),n=function(e){return!1===e.encrypted||e.encrypted===u}(e),o=e.trust,a=function(e){var t="function"==typeof e?e():"";return t&&t.toLowerCase().indexOf("https")>=0}(t);return function(e,t,r){null===r||(e&&!r?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&r&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(r,n,a),n?{scheme:"ws",error:null}:a?{scheme:"wss",error:null}:r?o&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==o?{scheme:null,error:(0,i.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+o+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(e,t),c=a.scheme,f=a.error;if(f)this._error=f;else{this._ws=function(e,t,r){var n=e+"://"+t.asHostPort();try{return r(n)}catch(n){if(function(e,t){return"SyntaxError"===e.name&&("["===(r=t.asHostPort()).charAt(0)&&-1!==r.indexOf("]"));var r}(n,t)){var o=function(e,t){var r=t.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(r,":").concat(t.port())}(e,t);return r(o)}throw n}}(c,e.address,r),this._ws.binaryType="arraybuffer";var h=this;this._ws.onclose=function(e){e&&!e.wasClean&&h._handleConnectionError(),h._open=!1},this._ws.onopen=function(){h._clearConnectionTimeout();var e=h._pending;h._pending=null;for(var t=0;t<e.length;t++)h.write(e[t])},this._ws.onmessage=function(e){if(n._resetTimeout(),h.onmessage){var t=new o.default(e.data);h.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,i.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,i.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof o.default))throw(0,i.newError)("Don't know how to send buffer: "+e);try{this._ws.send(e._buffer)}catch(e){if(1===this._ws.readyState)throw e;this._handleConnectionError()}}},e.prototype.close=function(){var e=this;return null===this._closingPromise&&(this._closingPromise=new Promise((function(t,r){e._clearConnectionTimeout(),e._ws&&3!==e._ws.readyState?(e._open=!1,e.stopReceiveTimeout(),e._ws.onclose=function(){t()},e._ws.close()):t()}))),this._closingPromise},e.prototype.setupReceiveTimeout=function(e){this._receiveTimeout=e},e.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,null!=this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._open&&null!==this._receiveTimeout&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var e=this;this._receiveTimeoutStarted&&(null!==this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout((function(){e._receiveTimeoutId=null,e._timedout=!0,e.stopReceiveTimeout(),e._error=(0,i.newError)("Connection lost. Server didn't respond in ".concat(e._receiveTimeout,"ms"),e._config.connectionErrorCode),e.close(),e.onerror&&e.onerror(e._error)}),this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var e=this,t=this._config.connectionTimeout;if(t){var r=this._ws;return setTimeout((function(){1!==r.readyState&&(e._connectionTimeoutFired=!0,r.close())}),t)}return null},e.prototype._clearConnectionTimeout=function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))},e}();function l(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}t.default=c},614:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={load:function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){return[2,e]}))}))}}},2199:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.resolve=function(e){return this._resolveToItself(e)},t}(r(9305).internal.resolver.BaseHostNameResolver);t.default=i},3951:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCertificatesLoader=t.HostNameResolver=t.Channel=void 0;var o=n(r(6245)),i=n(r(2199)),a=n(r(614));t.Channel=o.default,t.HostNameResolver=i.default,t.ClientCertificatesLoader=a.default},5319:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alloc=void 0;var a=i(r(1048)),u=function(e){function t(t){var r=this,n=function(e){return e instanceof a.default.Buffer?e:"number"==typeof e&&"function"==typeof a.default.Buffer.alloc?a.default.Buffer.alloc(e):new a.default.Buffer(e)}(t);return(r=e.call(this,n.length)||this)._buffer=n,r}return o(t,e),t.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},t.prototype.getInt8=function(e){return this._buffer.readInt8(e)},t.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},t.prototype.putUInt8=function(e,t){this._buffer.writeUInt8(t,e)},t.prototype.putInt8=function(e,t){this._buffer.writeInt8(t,e)},t.prototype.putFloat64=function(e,t){this._buffer.writeDoubleBE(t,e)},t.prototype.putBytes=function(r,n){if(n instanceof t){var o=Math.min(n.length-n.position,this.length-r);n._buffer.copy(this._buffer,r,n.position,n.position+o),n.position+=o}else e.prototype.putBytes.call(this,r,n)},t.prototype.getSlice=function(e,r){return new t(this._buffer.slice(e,e+r))},t}(i(r(7174)).default);t.default=u,t.alloc=function(e){return new u(e)}},2481:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(9305),o=n.internal.util,i=o.ENCRYPTION_OFF,a=o.ENCRYPTION_ON,u=n.error.SERVICE_UNAVAILABLE,s=[null,void 0,!0,!1,a,i],c=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];t.default=function(e,t,r,o){this.address=e,this.encrypted=function(e){var t=e.encrypted;if(-1===s.indexOf(t))throw(0,n.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(s));return t}(t),this.trust=function(e){var t=e.trust;if(-1===c.indexOf(t))throw(0,n.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(c));return t}(t),this.trustedCertificates=function(e){return e.trustedCertificates||[]}(t),this.knownHostsPath=function(e){return e.knownHosts||null}(t),this.connectionErrorCode=r||u,this.connectionTimeout=t.connectionTimeout,this.clientCertificate=o}},373:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dechunker=t.Chunker=void 0;var a=i(r(45)),u=r(5319),s=i(r(5553)),c=function(e){function t(t,r){var n=e.call(this,0)||this;return n._bufferSize=r||1400,n._ch=t,n._buffer=(0,u.alloc)(n._bufferSize),n._currentChunkStart=0,n._chunkOpen=!1,n}return o(t,e),t.prototype.putUInt8=function(e,t){this._ensure(1),this._buffer.writeUInt8(t)},t.prototype.putInt8=function(e,t){this._ensure(1),this._buffer.writeInt8(t)},t.prototype.putFloat64=function(e,t){this._ensure(8),this._buffer.writeFloat64(t)},t.prototype.putBytes=function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,u.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},t.prototype._ensure=function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},t}(a.default);t.Chunker=c;var l=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))},e.prototype.IN_CHUNK=function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(e){},e.prototype._onHeader=function(e){if(0===e){var t=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:t=this._currentMessage[0];break;default:t=new s.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK}return this._chunkSize=e,this.IN_CHUNK},e.prototype.write=function(e){for(;e.hasRemaining();)this._state=this._state(e)},e}();t.Dechunker=l},5553:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(7174),a=r(5319),u=function(e){function t(t){for(var r=this,n=0,o=0;o<t.length;o++)n+=t[o].length;return(r=e.call(this,n)||this)._buffers=t,r}return o(t,e),t.prototype.getUInt8=function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getUInt8(e);e-=r.length}},t.prototype.getInt8=function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getInt8(e);e-=r.length}},t.prototype.getFloat64=function(e){for(var t=(0,a.alloc)(8),r=0;r<8;r++)t.putUInt8(r,this.getUInt8(e+r));return t.getFloat64(0)},t}(i.BaseBuffer);t.default=u},7452:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.utf8=t.alloc=t.ChannelConfig=void 0,o(r(3951),t),o(r(373),t);var a=r(2481);Object.defineProperty(t,"ChannelConfig",{enumerable:!0,get:function(){return i(a).default}});var u=r(5319);Object.defineProperty(t,"alloc",{enumerable:!0,get:function(){return u.alloc}});var s=r(3473);Object.defineProperty(t,"utf8",{enumerable:!0,get:function(){return i(s).default}})},3473:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5319)),i=r(9305),a=n(r(1048)),u=new(r(8888).StringDecoder)("utf8");t.default={encode:function(e){return new o.default(function(e){return"function"==typeof a.default.Buffer.from?a.default.Buffer.from(e,"utf8"):new a.default.Buffer(e,"utf8")}(e))},decode:function(e,t){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return function(e,t){var r=e.position,n=r+t;return e.position=Math.min(n,e.length),e._buffer.toString("utf8",r,n)}(e,t);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return function(e,t){return function(e,t,r,n){var o=t,i=e.position;return e._updatePos(Math.min(t,e.length-i)),e._buffers.reduce((function(e,t){if(o<=0)return e;if(i>=t.length)return i-=t.length,"";t._updatePos(i-t.position);var r=Math.min(t.length-i,o),n=t.readSlice(r);return t._updatePos(r),o=Math.max(o-n.length,0),i=0,e+function(e){return u.write(e._buffer)}(n)}),"")+u.end()}(e,t)}(e,t);throw(0,i.newError)("Don't know how to decode strings from '".concat(e,"'"))}}},1839:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(9305),a=r(6781),u=function(){function e(e){var t=e.authTokenManager,r=e.userAgent,n=e.boltAgent;this._authTokenManager=t||(0,i.staticAuthTokenManager)({}),this._userAgent=r,this._boltAgent=n}return e.prototype.authenticate=function(e){var t=e.connection,r=e.auth,i=e.skipReAuth,u=e.waitReAuth,s=e.forceReAuth;return n(this,void 0,void 0,(function(){var e,n;return o(this,(function(o){switch(o.label){case 0:return null==r?[3,3]:(e=!0===t.supportsReAuth&&(!a.object.equals(t.authToken,r)&&!0!==i||!0===s),null==t.authToken||e?[4,t.connect(this._userAgent,this._boltAgent,r,u||!1)]:[3,2]);case 1:case 5:return[2,o.sent()];case 2:case 6:return[2,t];case 3:return[4,this._authTokenManager.getToken()];case 4:return n=o.sent(),a.object.equals(n,t.authToken)?[3,6]:[4,t.connect(this._userAgent,this._boltAgent,n,!1)]}}))}))},e.prototype.handleError=function(e){var t=e.connection,r=e.code;return!(!t||!r.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(t.authToken,r)},e}();t.default=u},4271:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(7452),a=function(){function e(e){var t=e.clientCertificateProvider,r=e.loader;this._clientCertificateProvider=t,this._loader=r||i.ClientCertificatesLoader,this._clientCertificate=null}return e.prototype.getClientCertificate=function(){return n(this,void 0,void 0,(function(){var e,t,r=this;return o(this,(function(n){switch(n.label){case 0:return(e=null!=this._clientCertificateProvider)?(t=null==this._clientCertificate)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:t=n.sent(),n.label=2;case 2:e=t,n.label=3;case 3:return e&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then((function(e){return r._clientCertificate=e,r._clientCertificate})).catch((function(e){throw r._clientCertificate=null,e}))),[2,this._clientCertificate]}}))}))},e}();t.default=a},3545:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=u(r(8987)),c=r(7721),l=r(9305),f=l.internal.constants,h=f.BOLT_PROTOCOL_V3,d=f.BOLT_PROTOCOL_V4_0,p=f.BOLT_PROTOCOL_V4_4,v=f.BOLT_PROTOCOL_V5_1,y=l.error.SERVICE_UNAVAILABLE,b=function(e){function t(t){var r=t.id,n=t.config,o=t.log,i=t.address,a=t.userAgent,u=t.boltAgent,s=t.authTokenManager,c=t.newPool,l=e.call(this,{id:r,config:n,log:o,userAgent:a,boltAgent:u,authTokenManager:s,newPool:c})||this;return l._address=i,l}return o(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,r=(t.accessMode,t.database),n=(t.bookmarks,t.auth),o=t.forceReAuth;return i(this,void 0,void 0,(function(){var e,t,i=this;return a(this,(function(a){switch(a.label){case 0:return e=c.ConnectionErrorHandler.create({errorCode:y,handleSecurityError:function(e,t,n){return i._handleSecurityError(e,t,n,r)}}),[4,this._connectionPool.acquire({auth:n,forceReAuth:o},this._address)];case 1:return t=a.sent(),n?[4,this._verifyStickyConnection({auth:n,connection:t,address:this._address})]:[3,3];case 2:return a.sent(),[2,t];case 3:return[2,new c.DelegateConnection(t,e)]}}))}))},t.prototype._handleSecurityError=function(t,r,n,o){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(r," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,r,n)},t.prototype._hasProtocolVersion=function(e){return i(this,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return t=n.sent(),r=t.protocol()?t.protocol().version:null,[4,t.close()];case 2:return n.sent(),r?[2,e(r)]:[2,!1]}}))}))},t.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=d}))];case 1:return[2,e.sent()]}}))}))},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise((function(t,r){e._hasProtocolVersion(t).catch(r)}))},t.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=h}))];case 1:return[2,e.sent()]}}))}))},t.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=p}))];case 1:return[2,e.sent()]}}))}))},t.prototype.supportsSessionAuth=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=v}))];case 1:return[2,e.sent()]}}))}))},t.prototype.verifyAuthentication=function(e){var t=e.auth;return i(this,void 0,void 0,(function(){var e=this;return a(this,(function(r){return[2,this._verifyAuthentication({auth:t,getAddress:function(){return e._address}})]}))}))},t.prototype.verifyConnectivityAndGetServerInfo=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}}))}))},t}(s.default);t.default=b},8987:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(7721),f=r(9305),h=c(r(1839)),d=r(6781),p=c(r(4531)),v=c(r(4271)),y=f.error.SERVICE_UNAVAILABLE,b=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],m=f.internal.pool,g=m.Pool,_=m.PoolConfig,w=function(e){function t(r,n){var o=r.id,c=r.config,f=r.log,d=r.userAgent,y=r.boltAgent,b=r.authTokenManager,m=r.newPool,w=void 0===m?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(g.bind.apply(g,s([void 0],u(e),!1)))}:m;void 0===n&&(n=null);var O=e.call(this)||this;return O._id=o,O._config=c,O._log=f,O._clientCertificateHolder=new v.default({clientCertificateProvider:O._config.clientCertificate}),O._authenticationProvider=new h.default({authTokenManager:b,userAgent:d,boltAgent:y}),O._livenessCheckProvider=new p.default({connectionLivenessCheckTimeout:c.connectionLivenessCheckTimeout}),O._userAgent=d,O._boltAgent=y,O._createChannelConnection=n||function(e){return i(O,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return t=l.createChannelConnection,r=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,r.concat([n.sent()]))]}}))}))},O._connectionPool=w({create:O._createConnection.bind(O),destroy:O._destroyConnection.bind(O),validateOnAcquire:O._validateConnectionOnAcquire.bind(O),validateOnRelease:O._validateConnectionOnRelease.bind(O),installIdleObserver:t._installIdleObserverOnConnection.bind(O),removeIdleObserver:t._removeIdleObserverOnConnection.bind(O),config:_.fromDriverConfig(c),log:O._log}),O._openConnections={},O}return o(t,e),t.prototype._createConnectionErrorHandler=function(){return new l.ConnectionErrorHandler(y)},t.prototype._getClientCertificate=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this._config.clientCertificate.getClientCertificate()]}))}))},t.prototype._createConnection=function(e,t,r){var n=this,o=e.auth;return this._createChannelConnection(t).then((function(e){return e.release=function(){return e.idleTimestamp=Date.now(),r(t,e)},n._openConnections[e.id]=e,n._authenticationProvider.authenticate({connection:e,auth:o}).catch((function(t){throw n._destroyConnection(e),t}))}))},t.prototype._validateConnectionOnAcquire=function(e,t){var r=e.auth,n=e.skipReAuth;return i(this,void 0,void 0,(function(){var e,o;return a(this,(function(i){switch(i.label){case 0:if(!this._validateConnection(t))return[2,!1];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(t)];case 2:return i.sent(),[3,4];case 3:return e=i.sent(),this._log.debug("The connection ".concat(t.id," is not alive because of an error ").concat(e.code," '").concat(e.message,"'")),[2,!1];case 4:return i.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:t,auth:r,skipReAuth:n})];case 5:return i.sent(),[2,!0];case 6:return o=i.sent(),this._log.debug("The connection ".concat(t.id," is not valid because of an error ").concat(o.code," '").concat(o.message,"'")),[2,!1];case 7:return[2]}}))}))},t.prototype._validateConnectionOnRelease=function(e){return!0!==e._sticky&&this._validateConnection(e)},t.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime;return!(Date.now()-e.creationTimestamp>t)},t.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},t.prototype._verifyConnectivityAndGetServerVersion=function(e){var t=e.address;return i(this,void 0,void 0,(function(){var e,r;return a(this,(function(n){switch(n.label){case 0:return[4,this._connectionPool.acquire({},t)];case 1:e=n.sent(),r=new f.ServerInfo(e.server,e.protocol().version),n.label=2;case 2:return n.trys.push([2,,5,7]),e.protocol().isLastMessageLogon()?[3,4]:[4,e.resetAndFlush()];case 3:n.sent(),n.label=4;case 4:return[3,7];case 5:return[4,e.release()];case 6:return n.sent(),[7];case 7:return[2,r]}}))}))},t.prototype._verifyAuthentication=function(e){var t=e.getAddress,r=e.auth;return i(this,void 0,void 0,(function(){var e,n,o,i,u,s;return a(this,(function(a){switch(a.label){case 0:e=[],a.label=1;case 1:return a.trys.push([1,8,9,11]),[4,t()];case 2:return n=a.sent(),[4,this._connectionPool.acquire({auth:r,skipReAuth:!0},n)];case 3:if(o=a.sent(),e.push(o),i=!o.protocol().isLastMessageLogon(),!o.supportsReAuth)throw(0,f.newError)("Driver is connected to a database that does not support user switch.");return i&&o.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:o,auth:r,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return a.sent(),[3,7];case 5:return!i||o.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:r},n,{requireNew:!0})];case 6:(u=a.sent())._sticky=!0,e.push(u),a.label=7;case 7:return[2,!0];case 8:if(s=a.sent(),b.includes(s.code))return[2,!1];throw s;case 9:return[4,Promise.all(e.map((function(e){return e.release()})))];case 10:return a.sent(),[7];case 11:return[2]}}))}))},t.prototype._verifyStickyConnection=function(e){var t=e.auth,r=e.connection;return e.address,i(this,void 0,void 0,(function(){var e,n;return a(this,(function(o){switch(o.label){case 0:return e=d.object.equals(t,r.authToken),n=!e,r._sticky=e&&!r.supportsReAuth,n||r._sticky?[4,r.release()]:[3,2];case 1:throw o.sent(),(0,f.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}}))}))},t.prototype.close=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map((function(e){return e.close()})))];case 2:return e.sent(),[2]}}))}))},t._installIdleObserverOnConnection=function(e,t){e._setIdle(t)},t._removeIdleObserverOnConnection=function(e){e._unsetIdle()},t.prototype._handleSecurityError=function(e,t,r){return this._authenticationProvider.handleError({connection:r,code:e.code})&&(e.retriable=!0),"Neo.ClientError.Security.AuthorizationExpired"===e.code&&this._connectionPool.apply(t,(function(e){e.authToken=null})),r&&r.close().catch((function(){})),e},t}(f.ConnectionProvider);t.default=w},7428:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return u(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=r(9305),v=s(r(206)),y=r(7452),b=d(r(4132)),m=d(r(8987)),g=r(4455),_=r(7721),w=r(6781),O=p.error.SERVICE_UNAVAILABLE,S=p.error.SESSION_EXPIRED,E=p.internal.bookmarks.Bookmarks,P=p.internal.constants,T=P.ACCESS_MODE_READ,x=P.ACCESS_MODE_WRITE,C=P.BOLT_PROTOCOL_V3,j=P.BOLT_PROTOCOL_V4_0,A=P.BOLT_PROTOCOL_V4_4,k=P.BOLT_PROTOCOL_V5_1,R="Neo.ClientError.Database.DatabaseNotFound",I="Neo.ClientError.Transaction.InvalidBookmark",M="Neo.ClientError.Transaction.InvalidBookmarkMixture",N="Neo.ClientError.Security.AuthorizationExpired",D="Neo.ClientError.Statement.ArgumentError",L="Neo.ClientError.Request.Invalid",U="Neo.ClientError.Statement.TypeError",F="N/A",B=null,z=(0,p.int)(3e4),V=function(e){function t(t){var r=t.id,n=t.address,o=t.routingContext,a=t.hostNameResolver,u=t.config,s=t.log,f=t.userAgent,h=t.boltAgent,d=t.authTokenManager,b=t.routingTablePurgeDelay,m=t.newPool,O=e.call(this,{id:r,config:u,log:s,userAgent:f,boltAgent:h,authTokenManager:d,newPool:m},(function(e){return c(O,void 0,void 0,(function(){var t,r;return l(this,(function(n){switch(n.label){case 0:return t=_.createChannelConnection,r=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,r.concat([n.sent(),this._routingContext]))]}}))}))}))||this;return O._routingContext=i(i({},o),{address:n.toString()}),O._seedRouter=n,O._rediscovery=new v.default(O._routingContext),O._loadBalancingStrategy=new g.LeastConnectedLoadBalancingStrategy(O._connectionPool),O._hostNameResolver=a,O._dnsResolver=new y.HostNameResolver,O._log=s,O._useSeedRouter=!0,O._routingTableRegistry=new W(b?(0,p.int)(b):z),O._refreshRoutingTable=w.functional.reuseOngoingRequest(O._refreshRoutingTable,O),O}return o(t,e),t.prototype._createConnectionErrorHandler=function(){return new _.ConnectionErrorHandler(S)},t.prototype._handleUnavailability=function(e,t,r){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," for database '").concat(r,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(t,r||B),e},t.prototype._handleSecurityError=function(t,r,n,o){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(r," for database '").concat(o,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,r,n,o)},t.prototype._handleWriteFailure=function(e,t,r){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," for database '").concat(r,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(t,r||B),(0,p.newError)("No longer possible to write to server at "+t,S,e)},t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,r=t.accessMode,n=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,u=t.auth;return c(this,void 0,void 0,(function(){var e,t,s,c,f,h,d,v=this;return l(this,(function(l){switch(l.label){case 0:return s={database:n||B},c=new _.ConnectionErrorHandler(S,(function(e,t){return v._handleUnavailability(e,t,s.database)}),(function(e,t){return v._handleWriteFailure(e,t,s.database)}),(function(e,t,r){return v._handleSecurityError(e,t,r,s.database)})),[4,this._freshRoutingTable({accessMode:r,database:s.database,bookmarks:o,impersonatedUser:i,auth:u,onDatabaseNameResolved:function(e){s.database=s.database||e,a&&a(e)}})];case 1:if(f=l.sent(),r===T)t=this._loadBalancingStrategy.selectReader(f.readers),e="read";else{if(r!==x)throw(0,p.newError)("Illegal mode "+r);t=this._loadBalancingStrategy.selectWriter(f.writers),e="write"}if(!t)throw(0,p.newError)("Failed to obtain connection towards ".concat(e," server. Known routing table is: ").concat(f),S);l.label=2;case 2:return l.trys.push([2,6,,7]),[4,this._connectionPool.acquire({auth:u},t)];case 3:return h=l.sent(),u?[4,this._verifyStickyConnection({auth:u,connection:h,address:t})]:[3,5];case 4:return l.sent(),[2,h];case 5:return[2,new _.DelegateConnection(h,c)];case 6:throw d=l.sent(),c.handleAndTransformError(d,t);case 7:return[2]}}))}))},t.prototype._hasProtocolVersion=function(e){return c(this,void 0,void 0,(function(){var t,r,n,o,i,a;return l(this,(function(u){switch(u.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:t=u.sent(),n=0,u.label=2;case 2:if(!(n<t.length))return[3,8];u.label=3;case 3:return u.trys.push([3,6,,7]),[4,this._createChannelConnection(t[n])];case 4:return o=u.sent(),i=o.protocol()?o.protocol().version:null,[4,o.close()];case 5:return u.sent(),i?[2,e(i)]:[2,!1];case 6:return a=u.sent(),r=a,[3,7];case 7:return n++,[3,2];case 8:if(r)throw r;return[2,!1]}}))}))},t.prototype.supportsMultiDb=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=j}))];case 1:return[2,e.sent()]}}))}))},t.prototype.supportsTransactionConfig=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=C}))];case 1:return[2,e.sent()]}}))}))},t.prototype.supportsUserImpersonation=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=A}))];case 1:return[2,e.sent()]}}))}))},t.prototype.supportsSessionAuth=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion((function(e){return e>=k}))];case 1:return[2,e.sent()]}}))}))},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise((function(t,r){e._hasProtocolVersion(t).catch(r)}))},t.prototype.verifyAuthentication=function(e){var t=e.database,r=e.accessMode,n=e.auth;return c(this,void 0,void 0,(function(){var e=this;return l(this,(function(o){return[2,this._verifyAuthentication({auth:n,getAddress:function(){return c(e,void 0,void 0,(function(){var e,o,i;return l(this,(function(a){switch(a.label){case 0:return e={database:t||B},[4,this._freshRoutingTable({accessMode:r,database:e.database,auth:n,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:if(o=a.sent(),0===(i=r===x?o.writers:o.readers).length)throw(0,p.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(r,"'"),O);return[2,i[0]]}}))}))}})]}))}))},t.prototype.verifyConnectivityAndGetServerInfo=function(e){var t=e.database,r=e.accessMode;return c(this,void 0,void 0,(function(){var e,n,o,i,a,u,s,c,h,d,v;return l(this,(function(l){switch(l.label){case 0:return e={database:t||B},[4,this._freshRoutingTable({accessMode:r,database:e.database,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:n=l.sent(),o=r===x?n.writers:n.readers,i=(0,p.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(r,"'"),O),l.label=2;case 2:l.trys.push([2,9,10,11]),a=f(o),u=a.next(),l.label=3;case 3:if(u.done)return[3,8];s=u.value,l.label=4;case 4:return l.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:s})];case 5:return[2,l.sent()];case 6:return c=l.sent(),i=c,[3,7];case 7:return u=a.next(),[3,3];case 8:return[3,11];case 9:return h=l.sent(),d={error:h},[3,11];case 10:try{u&&!u.done&&(v=a.return)&&v.call(a)}finally{if(d)throw d.error}return[7];case 11:throw i}}))}))},t.prototype.forget=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forget(e)}}),this._connectionPool.purge(e).catch((function(){}))},t.prototype.forgetWriter=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forgetWriter(e)}})},t.prototype._freshRoutingTable=function(e){var t=void 0===e?{}:e,r=t.accessMode,n=t.database,o=t.bookmarks,i=t.impersonatedUser,a=t.onDatabaseNameResolved,u=t.auth,s=this._routingTableRegistry.get(n,(function(){return new v.RoutingTable({database:n})}));return s.isStaleFor(r)?(this._log.info('Routing table is stale for database: "'.concat(n,'" and access mode: "').concat(r,'": ').concat(s)),this._refreshRoutingTable(s,o,i,u).then((function(e){return a(e.database),e}))):s},t.prototype._refreshRoutingTable=function(e,t,r,n){var o=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,e,t,r,n):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,e,t,r,n)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,t,r,n,o){return c(this,void 0,void 0,(function(){var i,a,u,s,c,f,d;return l(this,(function(l){switch(l.label){case 0:return i=[],[4,this._fetchRoutingTableUsingSeedRouter(i,this._seedRouter,t,r,n,o)];case 1:return a=h.apply(void 0,[l.sent(),2]),u=a[0],s=a[1],u?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,r,n,o)];case 3:c=h.apply(void 0,[l.sent(),2]),f=c[0],d=c[1],u=f,s=d||s,l.label=4;case 4:return[4,this._applyRoutingTableIfPossible(t,u,s)];case 5:return[2,l.sent()]}}))}))},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,t,r,n,o){return c(this,void 0,void 0,(function(){var i,a,u,s;return l(this,(function(c){switch(c.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,r,n,o)];case 1:return i=h.apply(void 0,[c.sent(),2]),a=i[0],u=i[1],a?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,t,r,n,o)];case 2:s=h.apply(void 0,[c.sent(),2]),a=s[0],u=s[1],c.label=3;case 3:return[4,this._applyRoutingTableIfPossible(t,a,u)];case 4:return[2,c.sent()]}}))}))},t.prototype._fetchRoutingTableUsingKnownRouters=function(e,r,n,o,i){return c(this,void 0,void 0,(function(){var a,u,s,c;return l(this,(function(l){switch(l.label){case 0:return[4,this._fetchRoutingTable(e,r,n,o,i)];case 1:return a=h.apply(void 0,[l.sent(),2]),u=a[0],s=a[1],u?[2,[u,null]]:(c=e.length-1,t._forgetRouter(r,e,c),[2,[null,s]])}}))}))},t.prototype._fetchRoutingTableUsingSeedRouter=function(e,t,r,n,o,i){return c(this,void 0,void 0,(function(){var a,u;return l(this,(function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(t)];case 1:return a=s.sent(),u=a.filter((function(t){return e.indexOf(t)<0})),[4,this._fetchRoutingTable(u,r,n,o,i)];case 2:return[2,s.sent()]}}))}))},t.prototype._resolveSeedRouter=function(e){return c(this,void 0,void 0,(function(){var t,r,n=this;return l(this,(function(o){switch(o.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return t=o.sent(),[4,Promise.all(t.map((function(e){return n._dnsResolver.resolve(e)})))];case 2:return r=o.sent(),[2,[].concat.apply([],r)]}}))}))},t.prototype._fetchRoutingTable=function(e,r,n,o,i){return c(this,void 0,void 0,(function(){var a=this;return l(this,(function(u){return[2,e.reduce((function(u,s,f){return c(a,void 0,void 0,(function(){var a,c,d,p,v,y,b;return l(this,(function(l){switch(l.label){case 0:return[4,u];case 1:return a=h.apply(void 0,[l.sent(),1]),(c=a[0])?[2,[c,null]]:(d=f-1,t._forgetRouter(r,e,d),[4,this._createSessionForRediscovery(s,n,o,i)]);case 2:if(p=h.apply(void 0,[l.sent(),2]),v=p[0],y=p[1],!v)return[3,8];l.label=3;case 3:return l.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(v,r.database,s,o)];case 4:return[2,[l.sent(),null]];case 5:return b=l.sent(),[2,this._handleRediscoveryError(b,s)];case 6:return v.close(),[7];case 7:return[3,9];case 8:return[2,[null,y]];case 9:return[2]}}))}))}),Promise.resolve([null,null]))]}))}))},t.prototype._createSessionForRediscovery=function(e,t,r,n){return c(this,void 0,void 0,(function(){var o,i,a,u,s,c=this;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:n},e)];case 1:return o=l.sent(),n?[4,this._verifyStickyConnection({auth:n,connection:o,address:e})]:[3,3];case 2:l.sent(),l.label=3;case 3:return i=_.ConnectionErrorHandler.create({errorCode:S,handleSecurityError:function(e,t,r){return c._handleSecurityError(e,t,r)}}),a=o._sticky?new _.DelegateConnection(o):new _.DelegateConnection(o,i),u=new b.default(a),o.protocol().version<4?[2,[new p.Session({mode:x,bookmarks:E.empty(),connectionProvider:u}),null]]:[2,[new p.Session({mode:T,database:"system",bookmarks:t,connectionProvider:u,impersonatedUser:r}),null]];case 4:return s=l.sent(),[2,this._handleRediscoveryError(s,e)];case 5:return[2]}}))}))},t.prototype._handleRediscoveryError=function(e,t){if(function(e){return[R,I,M,D,L,U,F].includes(e.code)}(e)||function(e){return e.code.startsWith("Neo.ClientError.Security.")&&![N].includes(e.code)}(e))throw e;if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,p.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),O,e);return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},t.prototype._applyRoutingTableIfPossible=function(e,t,r){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:if(!t)throw(0,p.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),O,r);return 0===t.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(t)];case 1:return n.sent(),[2,t]}}))}))},t.prototype._updateRoutingTable=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return t.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),this._log.info("Updated routing table ".concat(e)),[2]}}))}))},t._forgetRouter=function(e,t,r){var n=t[r];e&&n&&e.forgetRouter(n)},t}(m.default);t.default=V;var W=function(){function e(e){this._tables=new Map,this._routingTablePurgeDelay=e}return e.prototype.register=function(e){return this._tables.set(e.database,e),this},e.prototype.apply=function(e,t){var r=void 0===t?{}:t,n=r.applyWhenExists,o=r.applyWhenDontExists,i=void 0===o?function(){}:o;return this._tables.has(e)?n(this._tables.get(e)):"string"==typeof e||null===e?i():this._forEach(n),this},e.prototype.get=function(e,t){return this._tables.has(e)?this._tables.get(e):"function"==typeof t?t():t},e.prototype.removeExpired=function(){var e=this;return this._removeIf((function(t){return t.isExpiredFor(e._routingTablePurgeDelay)}))},e.prototype._forEach=function(e){var t,r;try{for(var n=f(this._tables),o=n.next();!o.done;o=n.next())e(h(o.value,2)[1])}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype._remove=function(e){return this._tables.delete(e),this},e.prototype._removeIf=function(e){var t,r;try{for(var n=f(this._tables),o=n.next();!o.done;o=n.next()){var i=h(o.value,2),a=i[0];e(i[1])&&this._remove(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e}()},4132:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r._connection=t,r}return o(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,r=(t.accessMode,t.database,t.bookmarks,this._connection);return this._connection=null,Promise.resolve(r)},t}(r(9305).ConnectionProvider);t.default=i},9689:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingConnectionProvider=t.DirectConnectionProvider=t.PooledConnectionProvider=t.SingleConnectionProvider=void 0;var o=r(4132);Object.defineProperty(t,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var i=r(8987);Object.defineProperty(t,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var a=r(3545);Object.defineProperty(t,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(a).default}});var u=r(7428);Object.defineProperty(t,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(u).default}})},4531:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=e.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=t}return e.prototype.check=function(e){return r(this,void 0,void 0,(function(){var t;return n(this,(function(r){switch(r.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(e)?[2,!0]:(t=Date.now()-e.idleTimestamp,0===this._connectionLivenessCheckTimeout||t>this._connectionLivenessCheckTimeout?[4,e.resetAndFlush().then((function(){return!0}))]:[3,2]);case 1:return[2,r.sent()];case 2:return[2,!0]}}))}))},Object.defineProperty(e.prototype,"_isCheckDisabled",{get:function(){return null==this._connectionLivenessCheckTimeout||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),e.prototype._isNewlyCreatedConnection=function(e){return null==e.authToken},e}();t.default=o},8031:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=void 0;var s=r(7452),c=r(9305),l=u(r(6385)),f=u(r(7666)),h=c.error.PROTOCOL_ERROR,d=c.internal.logger.Logger,p=0;t.createChannelConnection=function(e,t,r,n,o,i,a){void 0===i&&(i=null),void 0===a&&(a=function(e){return new s.Channel(e)});var u=a(new s.ChannelConfig(e,t,r.errorCode(),o));return f.default.handshake(u,n).then((function(o){var a=o.protocolVersion,c=o.consumeRemainingBuffer,l=new s.Chunker(u),h=new s.Dechunker,d=new v(u,r,e,n,t.disableLosslessIntegers,i,l,t.notificationFilter,(function(e){return f.default.create({version:a,channel:u,chunker:l,dechunker:h,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:i,server:e.server,log:e.logger,observer:{onObserversCountChange:e._handleOngoingRequestsNumberChange.bind(e),onError:e._handleFatalError.bind(e),onFailure:e._resetOnFailure.bind(e),onProtocolError:e._handleProtocolError.bind(e),onErrorApplyTransformation:function(t){return e.handleAndTransformError(t,e._address)}}})}),t.telemetryDisabled);return c((function(e){return h.write(e)})),d})).catch((function(e){return u.close().then((function(){throw e}))}))};var v=function(e){function t(t,r,n,o,i,a,u,s,c,l){void 0===i&&(i=!1),void 0===a&&(a=null);var f,h,v=e.call(this,r)||this;return v._authToken=null,v._idle=!1,v._reseting=!1,v._resetObservers=[],v._id=p++,v._address=n,v._server={address:n.asHostPort()},v._creationTimestamp=Date.now(),v._disableLosslessIntegers=i,v._ch=t,v._chunker=u,v._log=(f=v,new d((h=o)._level,(function(e,t){return h._loggerFunction(e,"".concat(f," ").concat(t))}))),v._serversideRouting=a,v._notificationFilter=s,v._telemetryDisabledDriverConfig=!0===l,v._telemetryDisabledConnection=!0,v._dbConnectionId=null,v._protocol=c(v),v._isBroken=!1,v._log.isDebugEnabled()&&v._log.debug("created towards ".concat(n)),v}return o(t,e),t.prototype.beginTransaction=function(e){return this._sendTelemetryIfEnabled(e),this._protocol.beginTransaction(e)},t.prototype.run=function(e,t,r){return this._sendTelemetryIfEnabled(r),this._protocol.run(e,t,r)},t.prototype._sendTelemetryIfEnabled=function(e){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||null==e||null==e.apiTelemetryConfig||this._protocol.telemetry({api:e.apiTelemetryConfig.api},{onCompleted:e.apiTelemetryConfig.onTelemetrySuccess,onError:e.beforeError})},t.prototype.commitTransaction=function(e){return this._protocol.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._protocol.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(e){this._authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(e){this._idleTimestamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,r,n){return i(this,void 0,void 0,(function(){var o=this;return a(this,(function(i){switch(i.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,c.newError)("Connection does not support re-auth");return this._authToken=r,this._protocol.initialized?[3,2]:[4,this._initialize(e,t,r)];case 1:case 3:return[2,i.sent()];case 2:return n?[4,new Promise((function(e,t){o._protocol.logoff({onError:t}),o._protocol.logon({authToken:r,onError:t,onComplete:function(){return e(o)},flush:!0})}))]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:r,flush:!0}),[2,this]}}))}))},t.prototype._initialize=function(e,t,r){var n=this,o=this;return new Promise((function(i,a){n._protocol.initialize({userAgent:e,boltAgent:t,authToken:r,notificationFilter:n._notificationFilter,onError:function(e){return a(e)},onComplete:function(e){if(e){var t=e.server;n.version&&!t||(n.version=t);var r=e.connection_id;if(n.databaseId||(n.databaseId=r),e.hints){var a=e.hints["connection.recv_timeout_seconds"];if(null!=a){var u=(0,c.toNumber)(a);Number.isInteger(u)&&u>0?n._ch.setupReceiveTimeout(1e3*u):n._log.info("Server located at ".concat(n._address," supplied an invalid connection receive timeout value (").concat(u,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}!0===e.hints["telemetry.enabled"]&&(n._telemetryDisabledConnection=!1)}}i(o)}})}))},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(c.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},t.prototype._setIdle=function(e){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},t.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var e=this;return new Promise((function(t,r){e._reset({onError:function(t){if(e._isBroken)r(t);else{var n=e._handleProtocolError("Received FAILURE as a response for RESET: ".concat(t));r(n)}},onComplete:function(){t()}})}))},t.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},t.prototype._reset=function(e){var t=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(e):this._protocol.reset({onError:function(t){e.onError(t)},onComplete:function(){e.onComplete()}});else{this._resetObservers.push(e),this._reseting=!0;var r=function(e){t._reseting=!1;var r=t._resetObservers;t._resetObservers=[],r.forEach(e)};this._protocol.reset({onError:function(e){r((function(t){return t.onError(e)}))},onComplete:function(){r((function(e){return e.onComplete()}))}})}},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(e){this._idle||(0===e?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},t.prototype.close=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return e.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}}))}))},t.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},t.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var t=(0,c.newError)(e,h);return this._handleFatalError(t),t},t}(l.default);t.default=v},9857:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r){var n=e.call(this,r)||this;return r&&(n._originalErrorHandler=t._errorHandler,t._errorHandler=n._errorHandler),n._delegate=t,n}return o(t,e),t.prototype.beginTransaction=function(e){return this._delegate.beginTransaction(e)},t.prototype.run=function(e,t,r){return this._delegate.run(e,t,r)},t.prototype.commitTransaction=function(e){return this._delegate.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._delegate.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(e){this._delegate.authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(e){this._delegate.idleTimestamp=e},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(e,t,r,n){return this._delegate.connect(e,t,r,n)},t.prototype.write=function(e,t,r){return this._delegate.write(e,t,r)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},t.prototype.close=function(){return this._delegate.close()},t.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},t}(i(r(6385)).default);t.default=a},2363:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(9305),o=n.error.SERVICE_UNAVAILABLE,i=n.error.SESSION_EXPIRED,a=function(){function e(e,t,r,n){this._errorCode=e,this._handleUnavailability=t||u,this._handleWriteFailure=r||u,this._handleSecurityError=n||u}return e.create=function(t){return new e(t.errorCode,t.handleUnavailability,t.handleWriteFailure,t.handleSecurityError)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(e,t,r){return function(e){return null!=e&&null!=e.code&&e.code.startsWith("Neo.ClientError.Security.")}(e)?this._handleSecurityError(e,t,r):function(e){return!!e&&(e.code===i||e.code===o||"Neo.TransientError.General.DatabaseUnavailable"===e.code)}(e)?this._handleUnavailability(e,t,r):function(e){return!!e&&("Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code)}(e)?this._handleWriteFailure(e,t,r):e},e}();function u(e){return e}t.default=a},6385:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),r(7666);var i=function(e){function t(t){var r=e.call(this)||this;return r._errorHandler=t,r}return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,r,n){throw new Error("not implemented")},t.prototype.write=function(e,t,r){throw new Error("not implemented")},t.prototype.close=function(){throw new Error("not implemented")},t.prototype.handleAndTransformError=function(e,t){return this._errorHandler?this._errorHandler.handleAndTransformError(e,t,this):e},t}(r(9305).Connection);t.default=i},7721:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=t.ConnectionErrorHandler=t.DelegateConnection=t.ChannelConnection=t.Connection=void 0;var u=a(r(6385));t.Connection=u.default;var s=i(r(8031));t.ChannelConnection=s.default,Object.defineProperty(t,"createChannelConnection",{enumerable:!0,get:function(){return s.createChannelConnection}});var c=a(r(9857));t.DelegateConnection=c.default;var l=a(r(2363));t.ConnectionErrorHandler=l.default,t.default=u.default},6672:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.packstream=t.channel=t.buf=t.bolt=t.loadBalancing=void 0,t.loadBalancing=i(r(4455)),t.bolt=i(r(7666)),t.buf=i(r(7174)),t.channel=i(r(7452)),t.packstream=i(r(7168)),a(r(9689),t)},6492:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reuseOngoingRequest=t.identity=void 0;var n=r(9305);t.identity=function(e){return e},t.reuseOngoingRequest=function(e,t){void 0===t&&(t=null);var r=new Map;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=n.json.stringify(o);if(r.has(a))return r.get(a);var u=e.apply(t,o);return r.set(a,u),u.finally((function(){r.delete(a)}))}}},6781:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.functional=void 0,t.functional=i(r(6492)),t.object=i(r(6702))},6702:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0,t.equals=function(e,t){var n,o;if(e===t)return!0;if(null===e||null===t)return!1;if("object"==typeof e&&"object"==typeof t){var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;try{for(var u=r(i),s=u.next();!s.done;s=u.next()){var c=s.value;if(e[c]!==t[c])return!1}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return!0}return!1}},4455:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeastConnectedLoadBalancingStrategy=t.LoadBalancingStrategy=void 0;var o=n(r(4311));t.LoadBalancingStrategy=o.default;var i=n(r(2533));t.LeastConnectedLoadBalancingStrategy=i.default,t.default=i.default},2533:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(715)),u=function(e){function t(t){var r=e.call(this)||this;return r._readersIndex=new a.default,r._writersIndex=new a.default,r._connectionPool=t,r}return o(t,e),t.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},t.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},t.prototype._select=function(e,t){var r=e.length;if(0===r)return null;var n=t.next(r),o=n,i=null,a=Number.MAX_SAFE_INTEGER;do{var u=e[o],s=this._connectionPool.activeResourceCount(u);s<a&&(i=u,a=s),o===r-1?o=0:o++}while(o!==n);return i},t}(i(r(4311)).default);t.default=u},4311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.selectReader=function(e){throw new Error("Abstract function")},e.prototype.selectWriter=function(e){throw new Error("Abstract function")},e}();t.default=r},715:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._offset=e||0}return e.prototype.next=function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e},e}();t.default=r},7168:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.structure=t.v2=t.v1=void 0;var a=i(r(5361));t.v1=a;var u=i(r(2072));t.v2=u;var s=i(r(7665));t.structure=s,t.default=u},5361:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var n=r(7452),o=r(6781),i=r(7665),a=r(9305),u=a.error.PROTOCOL_ERROR,s=function(){function e(e){this._ch=e,this._byteArraysSupported=!0}return e.prototype.packable=function(e,t){var r,n=this;void 0===t&&(t=o.functional.identity);try{e=t(e)}catch(e){return function(){throw e}}if(null===e)return function(){return n._ch.writeUInt8(192)};if(!0===e)return function(){return n._ch.writeUInt8(195)};if(!1===e)return function(){return n._ch.writeUInt8(194)};if("number"==typeof e)return function(){return n.packFloat(e)};if("string"==typeof e)return function(){return n.packString(e)};if("bigint"==typeof e)return function(){return n.packInteger((0,a.int)(e))};if((0,a.isInt)(e))return function(){return n.packInteger(e)};if(e instanceof Int8Array)return function(){return n.packBytes(e)};if(e instanceof Array)return function(){n.packListHeader(e.length);for(var r=0;r<e.length;r++)n.packable(void 0===e[r]?null:e[r],t)()};if(null!=(r=e)&&"function"==typeof r[Symbol.iterator])return this.packableIterable(e,t);if(e instanceof i.Structure){for(var u=[],s=0;s<e.fields.length;s++)u[s]=this.packable(e.fields[s],t);return function(){return n.packStruct(e.signature,u)}}return"object"==typeof e?function(){for(var r=Object.keys(e),o=0,i=0;i<r.length;i++)void 0!==e[r[i]]&&o++;for(n.packMapHeader(o),i=0;i<r.length;i++){var a=r[i];void 0!==e[a]&&(n.packString(a),n.packable(e[a],t)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(e))},e.prototype.packableIterable=function(e,t){try{var r=Array.from(e);return this.packable(r,t)}catch(t){throw(0,a.newError)("Cannot pack given iterable, ".concat(t.message,": ").concat(e))}},e.prototype.packStruct=function(e,t){t=t||[],this.packStructHeader(t.length,e);for(var r=0;r<t.length;r++)t[r]()},e.prototype.packInteger=function(e){var t=e.high,r=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(r):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(r)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(r)):e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(r)):(this._ch.writeUInt8(203),this._ch.writeInt32(t),this._ch.writeInt32(r))},e.prototype.packFloat=function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)},e.prototype.packString=function(e){var t=n.utf8.encode(e),r=t.length;if(r<16)this._ch.writeUInt8(128|r),this._ch.writeBytes(t);else if(r<256)this._ch.writeUInt8(208),this._ch.writeUInt8(r),this._ch.writeBytes(t);else if(r<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(r/256>>0),this._ch.writeUInt8(r%256),this._ch.writeBytes(t);else{if(!(r<4294967296))throw(0,a.newError)("UTF-8 strings of size "+r+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((r/16777216>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256),this._ch.writeBytes(t)}},e.prototype.packListHeader=function(e){if(e<16)this._ch.writeUInt8(144|e);else if(e<256)this._ch.writeUInt8(212),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Lists of size "+e+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packBytes=function(e){if(!this._byteArraysSupported)throw(0,a.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(e.length);for(var t=0;t<e.length;t++)this._ch.writeInt8(e[t])},e.prototype.packBytesHeader=function(e){if(e<256)this._ch.writeUInt8(204),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Byte arrays of size "+e+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packMapHeader=function(e){if(e<16)this._ch.writeUInt8(160|e);else if(e<256)this._ch.writeUInt8(216),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,a.newError)("Maps of size "+e+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)}},e.prototype.packStructHeader=function(e,t){if(e<16)this._ch.writeUInt8(176|e),this._ch.writeUInt8(t);else if(e<256)this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t);else{if(!(e<65536))throw(0,a.newError)("Structures of size "+e+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256)}},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(e){return function(){throw(0,a.newError)(e,u)}},e}();t.Packer=s;var c=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._disableLosslessIntegers=e,this._useBigInt=t}return e.prototype.unpack=function(e,t){void 0===t&&(t=o.functional.identity);var r=e.readUInt8(),n=240&r,i=15&r;if(192===r)return null;var u=this._unpackBoolean(r);if(null!==u)return u;var s=this._unpackNumberOrInteger(r,e);if(null!==s){if((0,a.isInt)(s)){if(this._useBigInt)return s.toBigInt();if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var c=this._unpackString(r,n,i,e);if(null!==c)return c;var l=this._unpackList(r,n,i,e,t);if(null!==l)return l;var f=this._unpackByteArray(r,e);if(null!==f)return f;var h=this._unpackMap(r,n,i,e,t);if(null!==h)return h;var d=this._unpackStruct(r,n,i,e,t);if(null!==d)return d;throw(0,a.newError)("Unknown packed value with marker "+r.toString(16))},e.prototype.unpackInteger=function(e){var t=e.readUInt8(),r=this._unpackInteger(t,e);if(null==r)throw(0,a.newError)("Unable to unpack integer value with marker "+t.toString(16));return r},e.prototype._unpackBoolean=function(e){return 195===e||194!==e&&null},e.prototype._unpackNumberOrInteger=function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)},e.prototype._unpackInteger=function(e,t){if(e>=0&&e<128)return(0,a.int)(e);if(e>=240&&e<256)return(0,a.int)(e-256);if(200===e)return(0,a.int)(t.readInt8());if(201===e)return(0,a.int)(t.readInt16());if(202===e){var r=t.readInt32();return(0,a.int)(r)}if(203===e){var n=t.readInt32(),o=t.readInt32();return new a.Integer(o,n)}return null},e.prototype._unpackString=function(e,t,r,o){return 128===t?n.utf8.decode(o,r):208===e?n.utf8.decode(o,o.readUInt8()):209===e?n.utf8.decode(o,o.readUInt16()):210===e?n.utf8.decode(o,o.readUInt32()):null},e.prototype._unpackList=function(e,t,r,n,o){return 144===t?this._unpackListWithSize(r,n,o):212===e?this._unpackListWithSize(n.readUInt8(),n,o):213===e?this._unpackListWithSize(n.readUInt16(),n,o):214===e?this._unpackListWithSize(n.readUInt32(),n,o):null},e.prototype._unpackListWithSize=function(e,t,r){for(var n=[],o=0;o<e;o++)n.push(this.unpack(t,r));return n},e.prototype._unpackByteArray=function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null},e.prototype._unpackByteArrayWithSize=function(e,t){for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r},e.prototype._unpackMap=function(e,t,r,n,o){return 160===t?this._unpackMapWithSize(r,n,o):216===e?this._unpackMapWithSize(n.readUInt8(),n,o):217===e?this._unpackMapWithSize(n.readUInt16(),n,o):218===e?this._unpackMapWithSize(n.readUInt32(),n,o):null},e.prototype._unpackMapWithSize=function(e,t,r){for(var n={},o=0;o<e;o++)n[this.unpack(t,r)]=this.unpack(t,r);return n},e.prototype._unpackStruct=function(e,t,r,n,o){return 176===t?this._unpackStructWithSize(r,n,o):220===e?this._unpackStructWithSize(n.readUInt8(),n,o):221===e?this._unpackStructWithSize(n.readUInt16(),n,o):null},e.prototype._unpackStructWithSize=function(e,t,r){for(var n=t.readUInt8(),o=new i.Structure(n,[]),a=0;a<e;a++)o.fields.push(this.unpack(t,r));return r(o)},e}();t.Unpacker=c},2072:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var s=u(r(5361)),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},t}(s.Packer);t.Packer=c;var l=function(e){function t(t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),e.call(this,t,r)||this}return o(t,e),t}(s.Unpacker);t.Unpacker=l},7665:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.verifyStructSize=t.Structure=void 0;var n=r(9305),o=n.error.PROTOCOL_ERROR,i=function(){function e(e,t){this.signature=e,this.fields=t}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"},e}();t.Structure=i,t.verifyStructSize=function(e,t,r){if(t!==r)throw(0,n.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(r),o)},t.default=i},206:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingTable=t.Rediscovery=void 0;var o=n(r(4151));t.Rediscovery=o.default;var i=n(r(9018));t.RoutingTable=i.default,t.default=o.default},4151:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9018)),i=(r(9305),function(){function e(e){this._routingContext=e}return e.prototype.lookupRoutingTableOnRouter=function(e,t,r,n){var i=this;return e._acquireConnection((function(a){return i._requestRawRoutingTable(a,e,t,r,n).then((function(e){return e.isNull?null:o.default.fromRawRoutingTable(t,r,e)}))}))},e.prototype._requestRawRoutingTable=function(e,t,r,n,o){var i=this;return new Promise((function(n,a){e.protocol().requestRoutingInformation({routingContext:i._routingContext,databaseName:r,impersonatedUser:o,sessionContext:{bookmarks:t._lastBookmarks,mode:t._mode,database:t._database,afterComplete:t._onComplete},onCompleted:n,onError:a})}))},e}());t.default=i},9018:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createValidRoutingTable=void 0;var i=r(9305),a=i.internal.constants,u=a.ACCESS_MODE_WRITE,s=a.ACCESS_MODE_READ,c=i.internal.serverAddress.ServerAddress,l=i.error.PROTOCOL_ERROR,f=function(){function e(e){var t=void 0===e?{}:e,r=t.database,n=t.routers,o=t.readers,a=t.writers,u=t.expirationTime,s=t.ttl;this.database=r||null,this.databaseName=r||"default database",this.routers=n||[],this.readers=o||[],this.writers=a||[],this.expirationTime=u||(0,i.int)(0),this.ttl=s}return e.fromRawRoutingTable=function(e,t,r){return d(e,t,r)},e.prototype.forget=function(e){this.readers=h(this.readers,e),this.writers=h(this.writers,e)},e.prototype.forgetRouter=function(e){this.routers=h(this.routers,e)},e.prototype.forgetWriter=function(e){this.writers=h(this.writers,e)},e.prototype.isStaleFor=function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===s&&0===this.readers.length||e===u&&0===this.writers.length},e.prototype.isExpiredFor=function(e){return this.expirationTime.add(e).lessThan(Date.now())},e.prototype.allServers=function(){return o(o(o([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();function h(e,t){return e.filter((function(e){return e.asKey()!==t.asKey()}))}function d(e,t,r){var n=r.ttl,o=function(e,t){try{var r=(0,i.int)(Date.now()),n=(0,i.int)(e.ttl).multiply(1e3).add(r);return n.lessThan(r)?i.Integer.MAX_VALUE:n}catch(r){throw(0,i.newError)("Unable to parse TTL entry from router ".concat(t," from raw routing table:\n").concat(i.json.stringify(e),"\nError message: ").concat(r.message),l)}}(r,t),a=function(e,t){try{var r=[],n=[],o=[];return e.servers.forEach((function(e){var t=e.role,i=e.addresses;"ROUTE"===t?r=v(i).map((function(e){return c.fromUrl(e)})):"WRITE"===t?o=v(i).map((function(e){return c.fromUrl(e)})):"READ"===t&&(n=v(i).map((function(e){return c.fromUrl(e)})))})),{routers:r,readers:n,writers:o}}catch(r){throw(0,i.newError)("Unable to parse servers entry from router ".concat(t," from addresses:\n").concat(i.json.stringify(e.servers),"\nError message: ").concat(r.message),l)}}(r,t),u=a.routers,s=a.readers,h=a.writers;return p(u,"routers",t),p(s,"readers",t),new f({database:e||r.db,routers:u,readers:s,writers:h,expirationTime:o,ttl:n})}function p(e,t,r){if(0===e.length)throw(0,i.newError)("Received no "+t+" from router "+r,l)}function v(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}t.default=f,t.createValidRoutingTable=d},2069:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.staticAuthTokenManager=t.authTokenManagers=t.AuthTokenAndExpiration=void 0;var a=i(r(1967)),u=r(6995),s=function(){function e(){}return e.prototype.getToken=function(){throw new Error("Not Implemented")},e.prototype.handleSecurityException=function(e,t){throw new Error("Not implemented")},e}();t.default=s;t.AuthTokenAndExpiration=function(){this.token=a.default.none(),this.expiration=void 0};var c=new(function(){function e(){}return e.prototype.bearer=function(e){var t=e.tokenProvider;if("function"!=typeof t)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof t));return new f(t,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},e.prototype.basic=function(e){var t=this,r=e.tokenProvider;if("function"!=typeof r)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof r));return new f((function(){return n(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e={},[4,r()];case 1:return[2,(e.token=t.sent(),e)]}}))}))}),["Neo.ClientError.Security.Unauthorized"])},e}());t.authTokenManagers=c,Object.freeze(c),t.staticAuthTokenManager=function(e){var t=e.authToken;return new h(t)};var l=function(){function e(e){void 0===e&&(e=[]),this._subscribers=e}return e.prototype.subscribe=function(e){this._subscribers.push(e)},e.prototype.onCompleted=function(e){this._subscribers.forEach((function(t){return t.onCompleted(e)}))},e.prototype.onError=function(e){this._subscribers.forEach((function(t){return t.onError(e)}))},e}(),f=function(){function e(e,t,r,n){this._tokenProvider=e,this._handledSecurityCodes=t,this._currentAuthData=r,this._refreshObservable=n}return e.prototype.getToken=function(){var e;return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return void 0===this._currentAuthData||void 0!==this._currentAuthData.expiration&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,null===(e=this._currentAuthData)||void 0===e?void 0:e.token]}}))}))},e.prototype.handleSecurityException=function(e,t){var r;return!!this._handledSecurityCodes.includes(t)&&(u.util.equals(e,null===(r=this._currentAuthData)||void 0===r?void 0:r.token)&&this._scheduleRefreshAuthToken(),!0)},e.prototype._scheduleRefreshAuthToken=function(e){var t=this;void 0===this._refreshObservable&&(this._currentAuthData=void 0,this._refreshObservable=new l,Promise.resolve(this._tokenProvider()).then((function(e){var r;t._currentAuthData=e,null===(r=t._refreshObservable)||void 0===r||r.onCompleted(e)})).catch((function(e){var r;null===(r=t._refreshObservable)||void 0===r||r.onError(e)})).finally((function(){t._refreshObservable=void 0}))),void 0!==e&&this._refreshObservable.subscribe(e)},e.prototype._refreshAuthToken=function(){return n(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,r){e._scheduleRefreshAuthToken({onCompleted:t,onError:r})}))];case 1:return[2,t.sent()]}}))}))},e}(),h=function(){function e(e){this._authToken=e}return e.prototype.getToken=function(){return this._authToken},e.prototype.handleSecurityException=function(e,t){return!1},e}()},1967:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r={basic:function(e,t,r){return null!=r?{scheme:"basic",principal:e,credentials:t,realm:r}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},none:function(){return{scheme:"none"}},custom:function(e,t,r,o,i){var a={scheme:o,principal:e};return n(t)&&(a.credentials=t),n(r)&&(a.realm=r),n(i)&&(a.parameters=i),a}};function n(e){return!(null==e||""===e||Object.getPrototypeOf(e)===Object.prototype&&0===Object.keys(e).length)}t.default=r},6755:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.bookmarkManager=void 0;var u=function(){function e(){throw new Error("Not implemented")}return e.prototype.updateBookmarks=function(e,t){return r(this,void 0,void 0,(function(){return n(this,(function(e){throw new Error("Not implemented")}))}))},e.prototype.getBookmarks=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){throw new Error("Not implemented")}))}))},e}();t.default=u,t.bookmarkManager=function(e){void 0===e&&(e={});var t=new Set(e.initialBookmarks);return new s(t,e.bookmarksSupplier,e.bookmarksConsumer)};var s=function(){function e(e,t,r){this._bookmarks=e,this._bookmarksSupplier=t,this._bookmarksConsumer=r}return e.prototype.updateBookmarks=function(e,t){return r(this,void 0,void 0,(function(){var r,u,s,c,l,f,h,d,p,v;return n(this,(function(n){switch(n.label){case 0:r=this._bookmarks;try{for(u=o(e),s=u.next();!s.done;s=u.next())f=s.value,r.delete(f)}catch(e){h={error:e}}finally{try{s&&!s.done&&(d=u.return)&&d.call(u)}finally{if(h)throw h.error}}try{for(c=o(t),l=c.next();!l.done;l=c.next())f=l.value,r.add(f)}catch(e){p={error:e}}finally{try{l&&!l.done&&(v=c.return)&&v.call(c)}finally{if(p)throw p.error}}return"function"!=typeof this._bookmarksConsumer?[3,2]:[4,this._bookmarksConsumer(a([],i(r),!1))];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.getBookmarks=function(){var e;return r(this,void 0,void 0,(function(){var t,r,u,s,c,l,f;return n(this,(function(n){switch(n.label){case 0:return t=new Set(this._bookmarks),"function"!=typeof this._bookmarksSupplier?[3,2]:[4,this._bookmarksSupplier()];case 1:r=null!==(e=n.sent())&&void 0!==e?e:[];try{for(u=o(r),s=u.next();!s.done;s=u.next())c=s.value,t.add(c)}catch(e){l={error:e}}finally{try{s&&!s.done&&(f=u.return)&&f.call(u)}finally{if(l)throw l.error}}n.label=2;case 2:return[2,a([],i(t),!1)]}}))}))},e}()},8264:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveCertificateProvider=t.clientCertificateProviders=t.RotatingClientCertificateProvider=t.ClientCertificateProvider=void 0;var c=s(r(4027));t.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var l=function(){function e(){}return e.prototype.hasUpdate=function(){throw new Error("Not Implemented")},e.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},e}();t.ClientCertificateProvider=l;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateCertificate=function(e){throw new Error("Not implemented")},t}(l);t.RotatingClientCertificateProvider=f;var h=new(function(){function e(){}return e.prototype.rotating=function(e){var t=e.initialCertificate;if(null==t||!d(t))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(c.stringify(t)));var r=i({},t);return new b(r)},e}());function d(e){return null!=e&&"object"==typeof e&&"certfile"in e&&(p(t=e.certfile)||v(t,p))&&"keyfile"in e&&function(e){function t(e){return"string"==typeof e||null!=e&&"object"==typeof e&&"path"in e&&"string"==typeof e.path&&y("password",e)}return t(e)||v(e,t)}(e.keyfile)&&y("password",e);var t}function p(e){return"string"==typeof e}function v(e,t,r){return void 0===r&&(r=!1),Array.isArray(e)&&(r||e.length>0)&&e.filter(t).length===e.length}function y(e,t){return!(e in t)||null==t[e]||"string"==typeof t[e]}t.clientCertificateProviders=h,Object.freeze(h),t.resolveCertificateProvider=function(e){if(null!=e){if("object"==typeof e&&"hasUpdate"in e&&"getClientCertificate"in e&&"function"==typeof e.getClientCertificate&&"function"==typeof e.hasUpdate)return e;if(d(e)){var t=i({},e);return{getClientCertificate:function(){return t},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(c.stringify(e)))}};var b=function(){function e(e,t){void 0===t&&(t=!1),this._certificate=e,this._updated=t}return e.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},e.prototype.getClientCertificate=function(){return this._certificate},e.prototype.updateCertificate=function(e){if(!d(e))throw new TypeError("certificate should be ClientCertificate, but got ".concat(c.stringify(e)));this._certificate=i({},e),this._updated=!0},e}()},2007:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Releasable=void 0;var r=function(){function e(){}return e.prototype.release=function(){throw new Error("Not implemented")},e}();t.Releasable=r;var n=function(){function e(){}return e.prototype.acquireConnection=function(e){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},e.prototype.verifyConnectivityAndGetServerInfo=function(e){throw Error("Not implemented")},e.prototype.verifyAuthentication=function(e){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();t.default=n},1409:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.beginTransaction=function(e){throw new Error("Not implemented")},e.prototype.run=function(e,t,r){throw new Error("Not implemented")},e.prototype.commitTransaction=function(e){throw new Error("Not implemented")},e.prototype.rollbackTransaction=function(e){throw new Error("Not implemented")},e.prototype.resetAndFlush=function(){throw new Error("Not implemented")},e.prototype.isOpen=function(){throw new Error("Not implemented")},e.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},e}();t.default=r},7264:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfig=t.SessionConfig=t.routing=t.WRITE=t.READ=t.Driver=void 0;var a=r(9730),u=i(r(8341)),s=r(326),c=r(4883),l=i(r(5481)),f=r(6587),h=r(6755),d=i(r(1573)),p=i(r(7041)),v=r(9691),y=s.ACCESS_MODE_READ;t.READ=y;var b=s.ACCESS_MODE_WRITE;t.WRITE=b;var m=0;t.SessionConfig=function(){this.defaultAccessMode=b,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var g={WRITE:"WRITE",READ:"READ"};t.routing=g,Object.freeze(g);t.QueryConfig=function(){this.routing=g.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var _=function(){function e(e,t,r,n,o){void 0===t&&(t={}),void 0===n&&(n=function(e){return new l.default(e)}),void 0===o&&(o=function(e){return new p.default(e)}),function(e){e.maxConnectionLifetime=w(e.maxConnectionLifetime,36e5),e.maxConnectionPoolSize=w(e.maxConnectionPoolSize,s.DEFAULT_POOL_MAX_SIZE),e.connectionAcquisitionTimeout=w(e.connectionAcquisitionTimeout,s.DEFAULT_POOL_ACQUISITION_TIMEOUT),e.fetchSize=O(e.fetchSize,1e3),e.connectionTimeout=function(e){var t=parseInt(e.connectionTimeout,10);return 0===t||!isNaN(t)&&t<0?null:isNaN(t)?s.DEFAULT_CONNECTION_TIMEOUT_MILLIS:t}(e),e.connectionLivenessCheckTimeout=function(e){if(null!=e){var t=parseInt(e,10);if(t<0||Number.isNaN(t))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(t));return t}}(e.connectionLivenessCheckTimeout)}(t);var i=c.Logger.create(t);!function(e,t){var r,n,o=e.resolver;if(null!=o&&"function"!=typeof o)throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof o));if(e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),null!=(null===(r=e.notificationFilter)||void 0===r?void 0:r.disabledCategories)&&null!=(null===(n=e.notificationFilter)||void 0===n?void 0:n.disabledClassifications))throw new Error('The notificationFilter can\'t have both "disabledCategories" and  "disabledClassifications" configured at the same time.')}(t,i),this._id=m++,this._meta=e,this._config=t,this._log=i,this._createConnectionProvider=r,this._createSession=n,this._defaultExecuteQueryBookmarkManager=(0,h.bookmarkManager)(),this._queryExecutor=o(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}return Object.defineProperty(e.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),e.prototype.executeQuery=function(e,t,r){var i,a,u;return void 0===r&&(r={}),n(this,void 0,void 0,(function(){var n,s,c;return o(this,(function(o){switch(o.label){case 0:if(n=null===r.bookmarkManager?void 0:null!==(i=r.bookmarkManager)&&void 0!==i?i:this.executeQueryBookmarkManager,s=null!==(a=r.resultTransformer)&&void 0!==a?a:d.default.eagerResultTransformer(),(c=null!==(u=r.routing)&&void 0!==u?u:g.WRITE)!==g.READ&&c!==g.WRITE)throw(0,v.newError)('Illegal query routing config: "'.concat(c,'"'));return[4,this._queryExecutor.execute({resultTransformer:s,bookmarkManager:n,routing:c,database:r.database,impersonatedUser:r.impersonatedUser,transactionConfig:r.transactionConfig,auth:r.auth,signal:r.signal},e,t)];case 1:return[2,o.sent()]}}))}))},e.prototype.verifyConnectivity=function(e){var t=(void 0===e?{}:e).database,r=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:r,accessMode:y})},e.prototype.verifyAuthentication=function(e){var t=void 0===e?{}:e,r=t.database,i=t.auth;return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:null!=r?r:"system",auth:i,accessMode:y})];case 1:return[2,e.sent()]}}))}))},e.prototype.getServerInfo=function(e){var t=(void 0===e?{}:e).database,r=void 0===t?"":t;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:r,accessMode:y})},e.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},e.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},e.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===f.ENCRYPTION_ON||!0===this._config.encrypted},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(e){var t=void 0===e?{}:e,r=t.defaultAccessMode,n=void 0===r?b:r,o=t.bookmarks,i=t.database,a=void 0===i?"":i,u=t.impersonatedUser,s=t.fetchSize,c=t.bookmarkManager,l=t.notificationFilter,f=t.auth;return this._newSession({defaultAccessMode:n,bookmarkOrBookmarks:o,database:a,reactive:!1,impersonatedUser:u,fetchSize:O(s,this._config.fetchSize),bookmarkManager:c,notificationFilter:l,auth:f})},e.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),null!=this._connectionProvider?this._connectionProvider.close():Promise.resolve()},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._newSession=function(e){var t=e.defaultAccessMode,r=e.bookmarkOrBookmarks,n=e.database,o=e.reactive,i=e.impersonatedUser,u=e.fetchSize,s=e.bookmarkManager,c=e.notificationFilter,f=e.auth,h=l.default._validateSessionMode(t),d=this._getOrCreateConnectionProvider(),p=null!=r?new a.Bookmarks(r):a.Bookmarks.empty();return this._createSession({mode:h,database:null!=n?n:"",connectionProvider:d,bookmarks:p,config:this._config,reactive:o,impersonatedUser:i,fetchSize:u,bookmarkManager:s,notificationFilter:c,auth:f,log:this._log})},e.prototype._getOrCreateConnectionProvider=function(){var e;return null==this._connectionProvider&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(e=this._config,new u.default(e.resolver)))),this._connectionProvider},e}();function w(e,t){var r=parseInt(e,10);return r>0||0===r?r:r<0?Number.MAX_SAFE_INTEGER:t}function O(e,t){var r=parseInt(e,10);if(r>0||r===s.FETCH_ALL)return r;if(0===r||r<0)throw new Error("The fetch size can only be a positive value or ".concat(s.FETCH_ALL," for ALL. However fetchSize = ").concat(r));return t}t.Driver=_,t.default=_},9691:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.GQLError=t.Neo4jError=t.isRetriableError=t.newGQLError=t.newError=void 0;var s=u(r(4027)),c=r(1053),l={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(l);var f=Object.values(l),h="ServiceUnavailable";t.SERVICE_UNAVAILABLE=h;var d="SessionExpired";t.SESSION_EXPIRED=d,t.PROTOCOL_ERROR="ProtocolError";var p=function(e){function t(r,n,o,i,a){var u,s=this;return(s=e.call(this,r,null!=a?{cause:a}:void 0)||this).constructor=t,s.__proto__=t.prototype,s.cause=null!=a?a:void 0,s.gqlStatus=n,s.gqlStatusDescription=o,s.diagnosticRecord=i,s.classification=function(e){return void 0===e||void 0===e._classification?"UNKNOWN":f.includes(e._classification)?null==e?void 0:e._classification:"UNKNOWN"}(s.diagnosticRecord),s.rawClassification=null!==(u=null==i?void 0:i._classification)&&void 0!==u?u:void 0,s.name="GQLError",s}return o(t,e),Object.defineProperty(t.prototype,"diagnosticRecordAsJsonString",{get:function(){return s.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),t}(Error);t.GQLError=p;var v=function(e){function t(r,n,o,i,a,u){var s=e.call(this,r,o,i,a,u)||this;return s.constructor=t,s.__proto__=t.prototype,s.code=n,s.name="Neo4jError",s.retriable=function(e){return e===h||e===d||function(e){return"Neo.ClientError.Security.AuthorizationExpired"===e}(e)||function(e){return!0===(null==e?void 0:e.includes("TransientError"))}(e)}(n),s}return o(t,e),t.isRetriable=function(e){return null!=e&&e instanceof t&&e.retriable},t}(p);t.Neo4jError=v,t.newError=function(e,t,r,n,o,i){return new v(e,null!=t?t:"N/A",null!=n?n:"50N42",null!=o?o:"error: general processing exception - unexpected error. "+e,null!=i?i:c.rawPolyfilledDiagnosticRecord,r)},t.newGQLError=function(e,t,r,n,o){return new p(e,null!=r?r:"50N42",null!=n?n:"error: general processing exception - unexpected error. "+e,null!=o?o:c.rawPolyfilledDiagnosticRecord,t)};var y=v.isRetriable;t.isRetriableError=y},1053:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rawPolyfilledDiagnosticRecord=void 0,t.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(t.rawPolyfilledDiagnosticRecord)},1517:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=void 0;var n=r(4027),o={value:!0,enumerable:!1,configurable:!1,writable:!1},i="__isNode__",a="__isRelationship__",u="__isUnboundRelationship__",s="__isPath__",c="__isPathSegment__";function l(e,t){return null!=e&&!0===e[t]}var f=function(){function e(e,t,r,n){this.identity=e,this.labels=t,this.properties=r,this.elementId=y(n,(function(){return e.toString()}))}return e.prototype.toString=function(){for(var e="("+this.elementId,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var r=Object.keys(this.properties);if(r.length>0){for(e+=" {",t=0;t<r.length;t++)t>0&&(e+=","),e+=r[t]+":"+(0,n.stringify)(this.properties[r[t]]);e+="}"}return e+")"},e}();t.Node=f,Object.defineProperty(f.prototype,i,o),t.isNode=function(e){return l(e,i)};var h=function(){function e(e,t,r,n,o,i,a,u){this.identity=e,this.start=t,this.end=r,this.type=n,this.properties=o,this.elementId=y(i,(function(){return e.toString()})),this.startNodeElementId=y(a,(function(){return t.toString()})),this.endNodeElementId=y(u,(function(){return r.toString()}))}return e.prototype.toString=function(){var e="("+this.startNodeElementId+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+(0,n.stringify)(this.properties[t[r]]);e+="}"}return e+"]->("+this.endNodeElementId+")"},e}();t.Relationship=h,Object.defineProperty(h.prototype,a,o),t.isRelationship=function(e){return l(e,a)};var d=function(){function e(e,t,r,n){this.identity=e,this.type=t,this.properties=r,this.elementId=y(n,(function(){return e.toString()}))}return e.prototype.bind=function(e,t){return new h(this.identity,e,t,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(e,t){return new h(this.identity,e.identity,t.identity,this.type,this.properties,this.elementId,e.elementId,t.elementId)},e.prototype.toString=function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+(0,n.stringify)(this.properties[t[r]]);e+="}"}return e+"]->"},e}();t.UnboundRelationship=d,Object.defineProperty(d.prototype,u,o),t.isUnboundRelationship=function(e){return l(e,u)};var p=function(e,t,r){this.start=e,this.relationship=t,this.end=r};t.PathSegment=p,Object.defineProperty(p.prototype,c,o),t.isPathSegment=function(e){return l(e,c)};var v=function(e,t,r){this.start=e,this.end=t,this.segments=r,this.length=r.length};function y(e,t){return null==e?t():e}t.Path=v,Object.defineProperty(v.prototype,s,o),t.isPath=function(e){return l(e,s)}},9305:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EagerResult=t.Result=t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.GqlStatusObject=t.Notification=t.ServerInfo=t.queryType=t.ResultSummary=t.Record=t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=t.Time=t.LocalTime=t.LocalDateTime=t.isTime=t.isLocalTime=t.isLocalDateTime=t.isDuration=t.isDateTime=t.isDate=t.Duration=t.DateTime=t.Date=t.Point=t.isPoint=t.internal=t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=t.Integer=t.error=t.isRetriableError=t.GQLError=t.newGQLError=t.Neo4jError=t.newError=t.authTokenManagers=void 0,t.resolveCertificateProvider=t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.routing=t.staticAuthTokenManager=t.bookmarkManager=t.auth=t.json=t.driver=t.types=t.Driver=t.Session=t.TransactionPromise=t.ManagedTransaction=t.Transaction=t.Connection=t.Releasable=t.ConnectionProvider=void 0;var u=r(9691);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(t,"newGQLError",{enumerable:!0,get:function(){return u.newGQLError}}),Object.defineProperty(t,"GQLError",{enumerable:!0,get:function(){return u.GQLError}}),Object.defineProperty(t,"isRetriableError",{enumerable:!0,get:function(){return u.isRetriableError}});var s=i(r(3371));t.Integer=s.default,Object.defineProperty(t,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(t,"inSafeRange",{enumerable:!0,get:function(){return s.inSafeRange}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return s.toNumber}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return s.toString}});var c=r(5459);Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return c.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return c.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return c.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return c.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return c.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return c.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return c.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return c.isLocalTime}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return c.isTime}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return c.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return c.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return c.Time}});var l=r(1517);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return l.Node}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return l.isNode}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return l.Relationship}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return l.isRelationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return l.UnboundRelationship}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return l.isUnboundRelationship}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return l.Path}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return l.isPath}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return l.PathSegment}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return l.isPathSegment}});var f=a(r(4820));t.Record=f.default;var h=r(7093);Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return h.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return h.Point}});var d=i(r(6033));t.ResultSummary=d.default,Object.defineProperty(t,"queryType",{enumerable:!0,get:function(){return d.queryType}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return d.ServerInfo}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return d.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return d.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return d.QueryStatistics}}),Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return d.Stats}});var p=i(r(1866));t.Notification=p.default,Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return p.GqlStatusObject}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return p.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return p.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return p.notificationSeverityLevel}});var v=r(1985);Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return v.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return v.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return v.notificationFilterMinimumSeverityLevel}});var y=a(r(9512));t.Result=y.default;var b=a(r(8917));t.EagerResult=b.default;var m=i(r(2007));t.ConnectionProvider=m.default,Object.defineProperty(t,"Releasable",{enumerable:!0,get:function(){return m.Releasable}});var g=a(r(1409));t.Connection=g.default;var _=a(r(9473));t.Transaction=_.default;var w=a(r(5909));t.ManagedTransaction=w.default;var O=a(r(4569));t.TransactionPromise=O.default;var S=a(r(5481));t.Session=S.default;var E=i(r(7264)),P=E;t.Driver=E.default,t.driver=P;var T=a(r(1967));t.auth=T.default;var x=r(6755);Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return x.bookmarkManager}});var C=r(2069);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return C.authTokenManagers}}),Object.defineProperty(t,"staticAuthTokenManager",{enumerable:!0,get:function(){return C.staticAuthTokenManager}});var j=r(7264);Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return j.routing}});var A=i(r(6872));t.types=A;var k=i(r(4027));t.json=k;var R=a(r(1573));t.resultTransformers=R.default;var I=r(8264);Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return I.clientCertificateProviders}}),Object.defineProperty(t,"resolveCertificateProvider",{enumerable:!0,get:function(){return I.resolveCertificateProvider}});var M=i(r(6995));t.internal=M;var N={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};t.error=N;var D={authTokenManagers:C.authTokenManagers,newError:u.newError,Neo4jError:u.Neo4jError,newGQLError:u.newGQLError,GQLError:u.GQLError,isRetriableError:u.isRetriableError,error:N,Integer:s.default,int:s.int,isInt:s.isInt,inSafeRange:s.inSafeRange,toNumber:s.toNumber,toString:s.toString,internal:M,isPoint:h.isPoint,Point:h.Point,Date:c.Date,DateTime:c.DateTime,Duration:c.Duration,isDate:c.isDate,isDateTime:c.isDateTime,isDuration:c.isDuration,isLocalDateTime:c.isLocalDateTime,isLocalTime:c.isLocalTime,isTime:c.isTime,LocalDateTime:c.LocalDateTime,LocalTime:c.LocalTime,Time:c.Time,Node:l.Node,isNode:l.isNode,Relationship:l.Relationship,isRelationship:l.isRelationship,UnboundRelationship:l.UnboundRelationship,isUnboundRelationship:l.isUnboundRelationship,Path:l.Path,isPath:l.isPath,PathSegment:l.PathSegment,isPathSegment:l.isPathSegment,Record:f.default,ResultSummary:d.default,queryType:d.queryType,ServerInfo:d.ServerInfo,Notification:p.default,GqlStatusObject:p.GqlStatusObject,Plan:d.Plan,ProfiledPlan:d.ProfiledPlan,QueryStatistics:d.QueryStatistics,Stats:d.Stats,Result:y.default,EagerResult:b.default,Transaction:_.default,ManagedTransaction:w.default,TransactionPromise:O.default,Session:S.default,Driver:E.default,Connection:g.default,Releasable:m.Releasable,types:A,driver:P,json:k,auth:T.default,bookmarkManager:x.bookmarkManager,routing:j.routing,resultTransformers:R.default,notificationCategory:p.notificationCategory,notificationClassification:p.notificationClassification,notificationSeverityLevel:p.notificationSeverityLevel,notificationFilterDisabledCategory:v.notificationFilterDisabledCategory,notificationFilterDisabledClassification:v.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:v.notificationFilterMinimumSeverityLevel,clientCertificateProviders:I.clientCertificateProviders,resolveCertificateProvider:I.resolveCertificateProvider};t.default=D},3371:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=void 0;var n=r(9691),o=new Map,i=function(){function e(e,t){this.low=null!=e?e:0,this.high=null!=t?t:0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*u+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(u)+BigInt(this.low>>>0);var e=this.negate();return BigInt(-1)*(BigInt(e.high>>>0)*BigInt(u)+BigInt(e.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(t){if((t=null!=t?t:10)<2||t>36)throw RangeError("radix out of range: "+t.toString());if(this.isZero())return"0";var r;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var n=e.fromNumber(t),o=this.div(n);return r=o.multiply(n).subtract(this),o.toString(t)+r.toInt().toString(t)}return"-"+this.negate().toString(t)}var i=e.fromNumber(Math.pow(t,6));r=this;for(var a="";;){var u=r.div(i),s=(r.subtract(u.multiply(i)).toInt()>>>0).toString(t);if((r=u).isZero())return s+a;for(;s.length<6;)s="0"+s;a=""+s+a}},e.prototype.valueOf=function(){return this.toBigInt()},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var t=0!==this.high?this.high:this.low,r=0;for(r=31;r>0&&0==(t&1<<r);r--);return 0!==this.high?r+33:r+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.equals=function(t){var r=e.fromValue(t);return this.high===r.high&&this.low===r.low},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.lessThan=function(e){return this.compare(e)<0},e.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.prototype.greaterThan=function(e){return this.compare(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.prototype.compare=function(t){var r=e.fromValue(t);if(this.equals(r))return 0;var n=this.isNegative(),o=r.isNegative();return n&&!o?-1:!n&&o?1:this.subtract(r).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(t){var r=e.fromValue(t),n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=r.high>>>16,s=65535&r.high,c=r.low>>>16,l=0,f=0,h=0,d=0;return h+=(d+=a+(65535&r.low))>>>16,d&=65535,f+=(h+=i+c)>>>16,h&=65535,l+=(f+=o+s)>>>16,f&=65535,l+=n+u,l&=65535,e.fromBits(h<<16|d,l<<16|f)},e.prototype.subtract=function(t){var r=e.fromValue(t);return this.add(r.negate())},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;var r=e.fromValue(t);if(r.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return r.isOdd()?e.MIN_VALUE:e.ZERO;if(r.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return r.isNegative()?this.negate().multiply(r.negate()):this.negate().multiply(r).negate();if(r.isNegative())return this.multiply(r.negate()).negate();if(this.lessThan(c)&&r.lessThan(c))return e.fromNumber(this.toNumber()*r.toNumber());var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=r.high>>>16,s=65535&r.high,l=r.low>>>16,f=65535&r.low,h=0,d=0,p=0,v=0;return p+=(v+=a*f)>>>16,v&=65535,d+=(p+=i*f)>>>16,p&=65535,d+=(p+=a*l)>>>16,p&=65535,h+=(d+=o*f)>>>16,d&=65535,h+=(d+=i*l)>>>16,d&=65535,h+=(d+=a*s)>>>16,d&=65535,h+=n*f+o*l+i*s+a*u,h&=65535,e.fromBits(p<<16|v,h<<16|d)},e.prototype.div=function(t){var r,o,i,a=e.fromValue(t);if(a.isZero())throw(0,n.newError)("division by zero");if(this.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return a.equals(e.ONE)||a.equals(e.NEG_ONE)?e.MIN_VALUE:a.equals(e.MIN_VALUE)?e.ONE:(r=this.shiftRight(1).div(a).shiftLeft(1)).equals(e.ZERO)?a.isNegative()?e.ONE:e.NEG_ONE:(o=this.subtract(a.multiply(r)),i=r.add(o.div(a)));if(a.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(i=e.ZERO,o=this;o.greaterThanOrEqual(a);){r=Math.max(1,Math.floor(o.toNumber()/a.toNumber()));for(var u=Math.ceil(Math.log(r)/Math.LN2),s=u<=48?1:Math.pow(2,u-48),c=e.fromNumber(r),l=c.multiply(a);l.isNegative()||l.greaterThan(o);)r-=s,l=(c=e.fromNumber(r)).multiply(a);c.isZero()&&(c=e.ONE),i=i.add(c),o=o.subtract(l)}return i},e.prototype.modulo=function(t){var r=e.fromValue(t);return this.subtract(this.div(r).multiply(r))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(t){var r=e.fromValue(t);return e.fromBits(this.low&r.low,this.high&r.high)},e.prototype.or=function(t){var r=e.fromValue(t);return e.fromBits(this.low|r.low,this.high|r.high)},e.prototype.xor=function(t){var r=e.fromValue(t);return e.fromBits(this.low^r.low,this.high^r.high)},e.prototype.shiftLeft=function(t){var r=e.toNumber(t);return 0==(r&=63)?e.ZERO:r<32?e.fromBits(this.low<<r,this.high<<r|this.low>>>32-r):e.fromBits(0,this.low<<r-32)},e.prototype.shiftRight=function(t){var r=e.toNumber(t),n=e.toNumber(t);return 0==(r&=63)?e.ZERO:n<32?e.fromBits(this.low>>>r|this.high<<32-r,this.high>>r):e.fromBits(this.high>>r-32,this.high>=0?0:-1)},e.isInteger=function(e){return!0===(null==e?void 0:e.__isInteger__)},e.fromInt=function(t){var r;if((t|=0)>=-128&&t<128&&null!=(r=o.get(t)))return r;var n=new e(t,t<0?-1:0);return t>=-128&&t<128&&o.set(t,n),n},e.fromBits=function(t,r){return new e(t,r)},e.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.ZERO:t<=-s?e.MIN_VALUE:t+1>=s?e.MAX_VALUE:t<0?e.fromNumber(-t).negate():new e(t%u|0,t/u|0)},e.fromString=function(t,r,o){var i,u=(void 0===o?{}:o).strictStringValidation;if(0===t.length)throw(0,n.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if((r=null!=r?r:10)<2||r>36)throw(0,n.newError)("radix out of range: "+r.toString());if((i=t.indexOf("-"))>0)throw(0,n.newError)('number format error: interior "-" character: '+t);if(0===i)return e.fromString(t.substring(1),r).negate();for(var s=e.fromNumber(Math.pow(r,8)),c=e.ZERO,l=0;l<t.length;l+=8){var f=Math.min(8,t.length-l),h=t.substring(l,l+f),d=parseInt(h,r);if(!0===u&&!a(h,d,r))throw(0,n.newError)('number format error: "'.concat(h,'" is NaN in radix ').concat(r,": ").concat(t));if(f<8){var p=e.fromNumber(Math.pow(r,f));c=c.multiply(p).add(e.fromNumber(d))}else c=(c=c.multiply(s)).add(e.fromNumber(d))}return c},e.fromValue=function(t,r){return void 0===r&&(r={}),t instanceof e?t:"number"==typeof t?(!0===r.ceilFloat&&(t=Math.ceil(t)),e.fromNumber(t)):"string"==typeof t?e.fromString(t,void 0,r):"bigint"==typeof t?e.fromString(t.toString()):new e(t.low,t.high)},e.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return e.fromValue(t).toNumber()}},e.toString=function(t,r){return e.fromValue(t).toString(r)},e.inSafeRange=function(t){return e.fromValue(t).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();function a(e,t,r){return!Number.isNaN(e)&&!Number.isNaN(t)&&function(e,t,r){var n=e.toString(t),o=Math.max(r-n.length,0),i="0".repeat(o);return"".concat(i).concat(n)}(t,r,e.length)===e.toLowerCase()}Object.defineProperty(i.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var u=4294967296,s=u*u/2,c=i.fromInt(1<<24),l=i.fromValue;t.int=l;var f=i.isInteger;t.isInt=f;var h=i.inSafeRange;t.inSafeRange=h;var d=i.toNumber;t.toNumber=d;var p=i.toString;t.toString=p,t.default=i},5837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromVersion=void 0,t.fromVersion=function(e,t){void 0===t&&(t=function(){return{get userAgent(){}}});var r=t(),n=null!=r.userAgent?r.userAgent.split("(")[1].split(")")[0]:void 0,o=r.userAgent||void 0;return{product:"neo4j-javascript/".concat(e),platform:n,languageDetails:o}}},3488:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5837),t)},9730:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmarks=void 0;var s=i(r(6587)),c=function(){function e(e){this._values=function(e){if(null==e||""===e)return[];if(s.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,r=f(e),n=0;n<r.length;n++){var o=r[n];if(null!=o){if(!s.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));t.add(o)}}return u([],a(t),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}(e)}return e.empty=function(){return l},e.prototype.isEmpty=function(){return 0===this._values.length},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var e;return this.isEmpty()?{}:((e={}).bookmarks=this._values,e)},e}();t.Bookmarks=c;var l=new c(null);function f(e){return e.reduce((function(e,t){return Array.isArray(t)?e.concat(f(t)):e.concat(t)}),[])}},3618:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_CONNECTION_HOLDER=t.ReadOnlyConnectionHolder=t.ConnectionHolder=void 0;var u=r(9691),s=r(6587),c=r(326),l=r(9730),f=r(4883),h=function(){function e(e){var t=e.mode,r=e.database,n=void 0===r?"":r,o=e.bookmarks,i=e.connectionProvider,a=e.impersonatedUser,u=e.onDatabaseNameResolved,f=e.getConnectionAcquistionBookmarks,h=e.auth,d=e.log;this._mode=null!=t?t:c.ACCESS_MODE_WRITE,this._closed=!1,this._database=null!=n?(0,s.assertString)(n,"database"):"",this._bookmarks=null!=o?o:l.Bookmarks.empty(),this._connectionProvider=i,this._impersonatedUser=a,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=u,this._auth=h,this._log=d,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=null!=f?f:function(){return Promise.resolve(l.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(e){this._database=e},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(){return 0!==this._referenceCount||null==this._connectionProvider?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider),this._referenceCount++,!0)},e.prototype._createConnectionPromise=function(e){return i(this,void 0,void 0,(function(){var t,r,n;return a(this,(function(o){switch(o.label){case 0:return r=(t=e).acquireConnection,n={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,r.apply(t,[(n.bookmarks=o.sent(),n.impersonatedUser=this._impersonatedUser,n.onDatabaseNameResolved=this._onDatabaseNameResolved,n.auth=this._auth,n)])];case 2:return[2,o.sent()]}}))}))},e.prototype._getBookmarks=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,e.sent()]}}))}))},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)},e.prototype.close=function(e){return this._closed=!0,0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(e))},e.prototype.log=function(){return this._log},e.prototype._releaseConnection=function(e){return this._connectionPromise=this._connectionPromise.then((function(t){return null!=t?t.isOpen()&&(t.hasOngoingObservableRequests()||!0===e)?t.resetAndFlush().catch(v).then((function(){return t.release().then((function(){return null}))})):t.release().then((function(){return null})):Promise.resolve(null)})).catch(this._logError),this._connectionPromise},e.prototype._logError=function(e){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(e,". Stacktrace: ").concat(e.stack)),null},e}();t.ConnectionHolder=h;var d=function(e){function t(t){var r=e.call(this,{mode:t.mode(),database:t.database(),bookmarks:t.bookmarks(),getConnectionAcquistionBookmarks:t._getConnectionAcquistionBookmarks,connectionProvider:t.connectionProvider(),log:t.log()})||this;return r._connectionHolder=t,r}return o(t,e),t.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch((function(){return Promise.resolve(null)}))},t.prototype.close=function(){return this._connectionHolder.getConnection().catch((function(){return Promise.resolve(null)}))},t}(h);t.ReadOnlyConnectionHolder=d,t.default=d;var p=new(function(e){function t(){return e.call(this,{log:f.Logger.create({})})||this}return o(t,e),t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Promise.reject((0,u.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseConnection=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}}))}))},t.prototype.close=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}}))}))},t}(h));function v(e){return null}t.EMPTY_CONNECTION_HOLDER=p},326:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_APIS=t.BOLT_PROTOCOL_V5_7=t.BOLT_PROTOCOL_V5_6=t.BOLT_PROTOCOL_V5_5=t.BOLT_PROTOCOL_V5_4=t.BOLT_PROTOCOL_V5_3=t.BOLT_PROTOCOL_V5_2=t.BOLT_PROTOCOL_V5_1=t.BOLT_PROTOCOL_V5_0=t.BOLT_PROTOCOL_V4_4=t.BOLT_PROTOCOL_V4_3=t.BOLT_PROTOCOL_V4_2=t.BOLT_PROTOCOL_V4_1=t.BOLT_PROTOCOL_V4_0=t.BOLT_PROTOCOL_V3=t.BOLT_PROTOCOL_V2=t.BOLT_PROTOCOL_V1=t.DEFAULT_POOL_MAX_SIZE=t.DEFAULT_POOL_ACQUISITION_TIMEOUT=t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=t.ACCESS_MODE_WRITE=t.ACCESS_MODE_READ=t.FETCH_ALL=void 0,t.FETCH_ALL=-1,t.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,t.DEFAULT_POOL_MAX_SIZE=100,t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,t.ACCESS_MODE_READ="READ",t.ACCESS_MODE_WRITE="WRITE",t.BOLT_PROTOCOL_V1=1,t.BOLT_PROTOCOL_V2=2,t.BOLT_PROTOCOL_V3=3,t.BOLT_PROTOCOL_V4_0=4,t.BOLT_PROTOCOL_V4_1=4.1,t.BOLT_PROTOCOL_V4_2=4.2,t.BOLT_PROTOCOL_V4_3=4.3,t.BOLT_PROTOCOL_V4_4=4.4,t.BOLT_PROTOCOL_V5_0=5,t.BOLT_PROTOCOL_V5_1=5.1,t.BOLT_PROTOCOL_V5_2=5.2,t.BOLT_PROTOCOL_V5_3=5.3,t.BOLT_PROTOCOL_V5_4=5.4,t.BOLT_PROTOCOL_V5_5=5.5,t.BOLT_PROTOCOL_V5_6=5.6,t.BOLT_PROTOCOL_V5_7=5.7,t.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},6995:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.boltAgent=t.objectUtil=t.resolver=t.serverAddress=t.urlUtil=t.logger=t.transactionExecutor=t.txConfig=t.connectionHolder=t.constants=t.bookmarks=t.observer=t.temporalUtil=t.util=void 0;var a=i(r(6587));t.util=a;var u=i(r(5022));t.temporalUtil=u;var s=i(r(2696));t.observer=s;var c=i(r(9730));t.bookmarks=c;var l=i(r(326));t.constants=l;var f=i(r(3618));t.connectionHolder=f;var h=i(r(754));t.txConfig=h;var d=i(r(6189));t.transactionExecutor=d;var p=i(r(4883));t.logger=p;var v=i(r(407));t.urlUtil=v;var y=i(r(7509));t.serverAddress=y;var b=i(r(9470));t.resolver=b;var m=i(r(93));t.objectUtil=m;var g=i(r(3488));t.boltAgent=g;var _=i(r(2906));t.pool=_},4883:function(e,t,r){var n,o,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var a=r(9691),u="error",s="warn",c="info",l="debug",f=c,h=((o={})[u]=0,o[s]=1,o[c]=2,o[l]=3,o),d=function(){function e(e,t){this._level=e,this._loggerFunction=t}return e.create=function(t){if(null!=(null==t?void 0:t.logging)){var r=t.logging,n=function(e){if(null!=(null==e?void 0:e.level)){var t=e.level,r=h[t];if(null==r&&0!==r)throw(0,a.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(h).toString()));return t}return f}(r),o=function(e){var t,r;if(null!=(null==e?void 0:e.logger)){var n=e.logger;if(null!=n&&"function"==typeof n)return n}throw(0,a.newError)("Illegal logger function: ".concat(null!==(r=null===(t=null==e?void 0:e.logger)||void 0===t?void 0:t.toString())&&void 0!==r?r:"undefined"))}(r);return new e(n,o)}return this.noOp()},e.noOp=function(){return p},e.prototype.isErrorEnabled=function(){return v(this._level,u)},e.prototype.error=function(e){this.isErrorEnabled()&&this._loggerFunction(u,e)},e.prototype.isWarnEnabled=function(){return v(this._level,s)},e.prototype.warn=function(e){this.isWarnEnabled()&&this._loggerFunction(s,e)},e.prototype.isInfoEnabled=function(){return v(this._level,c)},e.prototype.info=function(e){this.isInfoEnabled()&&this._loggerFunction(c,e)},e.prototype.isDebugEnabled=function(){return v(this._level,l)},e.prototype.debug=function(e){this.isDebugEnabled()&&this._loggerFunction(l,e)},e}();t.Logger=d;var p=new(function(e){function t(){return e.call(this,c,(function(e,t){}))||this}return i(t,e),t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(e){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(e){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(e){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(e){},t}(d));function v(e,t){return h[e]>=h[t]}},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBrokenObjectReason=t.isBrokenObject=t.createBrokenObject=void 0;var r="__isBrokenObject__",n="__reason__";t.createBrokenObject=function(e,t){void 0===t&&(t={});var o=function(){throw e};return new Proxy(t,{get:function(t,i){return i===r||(i===n?e:void("toJSON"!==i&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},t.isBrokenObject=function(e){return null!==e&&"object"==typeof e&&!0===e[r]},t.getBrokenObjectReason=function(e){return e[n]}},2696:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FailedObserver=t.CompletedObserver=void 0;var r=function(){function e(){}return e.prototype.subscribe=function(e){o(e,e.onKeys,[]),o(e,e.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(e){throw new Error("CompletedObserver not supposed to call onError",{cause:e})},e}();t.CompletedObserver=r;var n=function(){function e(e){var t=e.error,r=e.onError;this._error=t,this._beforeError=r,this._observers=[],this.onError(t)}return e.prototype.subscribe=function(e){o(e,e.onError,this._error),this._observers.push(e)},e.prototype.onError=function(e){o(this,this._beforeError,e),this._observers.forEach((function(t){return o(t,t.onError,e)}))},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();function o(e,t,r){null!=t&&t.bind(e)(r)}t.FailedObserver=n},2906:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_SIZE=t.DEFAULT_ACQUISITION_TIMEOUT=t.PoolConfig=t.Pool=void 0;var u=i(r(7589));t.PoolConfig=u.default,Object.defineProperty(t,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});var s=a(r(6842));t.Pool=s.default,t.default=s.default},7589:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACQUISITION_TIMEOUT=t.DEFAULT_MAX_SIZE=void 0;var r=100;t.DEFAULT_MAX_SIZE=r;var n=6e4;t.DEFAULT_ACQUISITION_TIMEOUT=n;var o=function(){function e(e,t){this.maxSize=i(e,r),this.acquisitionTimeout=i(t,n)}return e.defaultConfig=function(){return new e(r,n)},e.fromDriverConfig=function(t){return new e(a(t.maxConnectionPoolSize)?t.maxConnectionPoolSize:r,a(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:n)},e}();function i(e,t){return a(e)?e:t}function a(e){return 0===e||null!=e}t.default=o},6842:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(7589)),u=r(9691),s=r(4883),c=function(){function e(e){var t=e.create,r=void 0===t?function(e,t,r){return n(w,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,e.sent()]}}))}))}:t,i=e.destroy,u=void 0===i?function(e){return n(w,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return[2,e.sent()]}}))}))}:i,c=e.validateOnAcquire,l=void 0===c?function(e,t){return!0}:c,f=e.validateOnRelease,h=void 0===f?function(e){return!0}:f,d=e.installIdleObserver,p=void 0===d?function(e,t){}:d,v=e.removeIdleObserver,y=void 0===v?function(e){}:v,b=e.config,m=void 0===b?a.default.defaultConfig():b,g=e.log,_=void 0===g?s.Logger.noOp():g,w=this;this._create=r,this._destroy=u,this._validateOnAcquire=l,this._validateOnRelease=h,this._installIdleObserver=p,this._removeIdleObserver=y,this._maxSize=m.maxSize,this._acquisitionTimeout=m.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=_,this._closed=!1}return e.prototype.acquire=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i,a=this;return o(this,(function(o){switch(o.label){case 0:return n=t.asKey(),null==(i=this._acquireRequests)[n]&&(i[n]=[]),[4,new Promise((function(o,s){var c=setTimeout((function(){var e=i[n];if(null!=e&&(i[n]=e.filter((function(e){return e!==l}))),l.isCompleted());else{var r=a.activeResourceCount(t),o=a.has(t)?a._pools[n].length:0;l.reject((0,u.newError)("Connection acquisition timed out in ".concat(a._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(r,", Idle conn count = ").concat(o,".")))}}),a._acquisitionTimeout);"object"==typeof c&&c.unref();var l=new h(n,e,r,o,s,c,a._log);i[n].push(l),a._processPendingAcquireRequests(t)}))];case 1:return[2,o.sent()]}}))}))},e.prototype.purge=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._purgeKey(e.asKey())];case 1:return[2,t.sent()]}}))}))},e.prototype.apply=function(e,t){var r=e.asKey();r in this._pools&&this._pools[r].apply(t)},e.prototype.close=function(){return n(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){switch(t.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map((function(t){return n(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}}))}))}))).then()];case 1:return[2,t.sent()]}}))}))},e.prototype.keepAll=function(e){return n(this,void 0,void 0,(function(){var t,r,i,a=this;return o(this,(function(u){switch(u.label){case 0:return t=e.map((function(e){return e.asKey()})),r=Object.keys(this._pools),i=r.filter((function(e){return!t.includes(e)})),[4,Promise.all(i.map((function(e){return n(a,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._purgeKey(e)];case 1:return[2,t.sent()]}}))}))}))).then()];case 1:return[2,u.sent()]}}))}))},e.prototype.has=function(e){return e.asKey()in this._pools},e.prototype.activeResourceCount=function(e){var t;return null!==(t=this._activeResourceCounts[e.asKey()])&&void 0!==t?t:0},e.prototype._getOrInitializePoolFor=function(e){var t=this._pools[e];return null==t&&(t=new d,this._pools[e]=t,this._pendingCreates[e]=0),t},e.prototype._acquire=function(e,t,r){return n(this,void 0,void 0,(function(){var i,a,s,c,h,d,p,v=this;return o(this,(function(y){switch(y.label){case 0:if(this._closed)throw(0,u.newError)("Pool is closed, it is no more able to serve requests.");if(i=t.asKey(),a=this._getOrInitializePoolFor(i),r)return[3,10];y.label=1;case 1:if(!(a.length>0))return[3,10];if(null==(s=a.pop()))return[3,1];l(i,this._activeResourceCounts),null!=this._removeIdleObserver&&this._removeIdleObserver(s),c=!1,y.label=2;case 2:return y.trys.push([2,4,,6]),[4,this._validateOnAcquire(e,s)];case 3:return c=y.sent(),[3,6];case 4:return h=y.sent(),f(i,this._activeResourceCounts),a.removeInUse(s),[4,this._destroy(s)];case 5:throw y.sent(),h;case 6:return c?(this._log.isDebugEnabled()&&this._log.debug("".concat(s," acquired from the pool ").concat(i)),[2,{resource:s,pool:a}]):[3,7];case 7:return f(i,this._activeResourceCounts),a.removeInUse(s),[4,this._destroy(s)];case 8:y.sent(),y.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(t)+this._pendingCreates[i]>=this._maxSize)return[2,{resource:null,pool:a}];this._pendingCreates[i]=this._pendingCreates[i]+1,y.label=11;case 11:return y.trys.push([11,,15,16]),this.activeResourceCount(t)+a.length>=this._maxSize&&r?null==(p=a.pop())?[3,13]:(null!=this._removeIdleObserver&&this._removeIdleObserver(p),a.removeInUse(p),[4,this._destroy(p)]):[3,13];case 12:y.sent(),y.label=13;case 13:return[4,this._create(e,t,(function(e,t){return n(v,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._release(e,t,a)];case 1:return[2,r.sent()]}}))}))}))];case 14:return d=y.sent(),a.pushInUse(d),l(i,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(d," created for the pool ").concat(i)),[3,16];case 15:return this._pendingCreates[i]=this._pendingCreates[i]-1,[7];case 16:return[2,{resource:d,pool:a}]}}))}))},e.prototype._release=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i=this;return o(this,(function(o){switch(o.label){case 0:n=e.asKey(),o.label=1;case 1:return o.trys.push([1,,9,10]),r.isActive()?[4,this._validateOnRelease(t)]:[3,6];case 2:return o.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because it is not functional")),r.removeInUse(t),[4,this._destroy(t)]);case 3:return o.sent(),[3,5];case 4:null!=this._installIdleObserver&&this._installIdleObserver(t,{onError:function(e){i._log.debug("Idle connection ".concat(t," destroyed because of error: ").concat(e));var r=i._pools[n];null!=r&&(i._pools[n]=r.filter((function(e){return e!==t})),r.removeInUse(t)),i._destroy(t).catch((function(){}))}}),r.push(t),this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(n)),o.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because pool has been purged")),r.removeInUse(t),[4,this._destroy(t)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:return f(n,this._activeResourceCounts),this._processPendingAcquireRequests(e),[7];case 10:return[2]}}))}))},e.prototype._purgeKey=function(e){return n(this,void 0,void 0,(function(){var t,r,n;return o(this,(function(o){switch(o.label){case 0:if(t=this._pools[e],r=[],null==t)return[3,2];for(;t.length>0;)null!=(n=t.pop())&&(null!=this._removeIdleObserver&&this._removeIdleObserver(n),r.push(this._destroy(n)));return t.close(),delete this._pools[e],[4,Promise.all(r)];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))},e.prototype._processPendingAcquireRequests=function(e){var t=this,r=e.asKey(),n=this._acquireRequests[r];if(null!=n){var o=n.shift();null!=o?this._acquire(o.context,e,o.requireNew).catch((function(e){return o.reject(e),{resource:null,pool:null}})).then((function(n){var i=n.resource,a=n.pool;null!=i&&null!=a?o.isCompleted()?t._release(e,i,a).catch((function(e){t._log.isDebugEnabled()&&t._log.debug("".concat(i," could not be release back to the pool. Cause: ").concat(e))})):o.resolve(i):o.isCompleted()||(null==t._acquireRequests[r]&&(t._acquireRequests[r]=[]),t._acquireRequests[r].unshift(o))})).catch((function(e){return o.reject(e)})):delete this._acquireRequests[r]}},e}();function l(e,t){var r,n=null!==(r=t[e])&&void 0!==r?r:0;t[e]=n+1}function f(e,t){var r,n=(null!==(r=t[e])&&void 0!==r?r:0)-1;n>0?t[e]=n:delete t[e]}var h=function(){function e(e,t,r,n,o,i,a){this._key=e,this._context=t,this._resolve=n,this._reject=o,this._timeoutId=i,this._log=a,this._completed=!1,this._config=null!=r?r:{}}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireNew",{get:function(){var e;return null!==(e=this._config.requireNew)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))},e.prototype.reject=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))},e}(),d=function(){function e(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},e.prototype.filter=function(e){return this._elements=this._elements.filter(e),this},e.prototype.apply=function(e){this._elements.forEach(e),this._elementsInUse.forEach(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){var e=this._elements.pop();return null!=e&&this._elementsInUse.add(e),e},e.prototype.push=function(e){return this._elementsInUse.delete(e),this._elements.push(e)},e.prototype.pushInUse=function(e){this._elementsInUse.add(e)},e.prototype.removeInUse=function(e){this._elementsInUse.delete(e)},e}();t.default=c},7041:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(326),a=function(){function e(e){this._createSession=e}return e.prototype.execute=function(e,t,r){return n(this,void 0,void 0,(function(){var a,u,s=this;return o(this,(function(c){switch(c.label){case 0:a=this._createSession({database:e.database,bookmarkManager:e.bookmarkManager,impersonatedUser:e.impersonatedUser,auth:e.auth}),l=e.signal,f="abort",h=function(){return n(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,a.close()];case 1:return[2,e.sent()]}}))}))},"function"==typeof(null==l?void 0:l.addEventListener)&&l.addEventListener(f,h),u={uninstall:function(){"function"==typeof(null==l?void 0:l.removeEventListener)&&l.removeEventListener(f,h)}},a._configureTransactionExecutor(!0,i.TELEMETRY_APIS.EXECUTE_QUERY),c.label=1;case 1:return c.trys.push([1,,3,5]),[4,("READ"===e.routing?a.executeRead.bind(a):a.executeWrite.bind(a))((function(i){return n(s,void 0,void 0,(function(){var n;return o(this,(function(o){switch(o.label){case 0:return n=i.run(t,r),[4,e.resultTransformer(n)];case 1:return[2,o.sent()]}}))}))}),e.transactionConfig)];case 2:return[2,c.sent()];case 3:return u.uninstall(),[4,a.close()];case 4:return c.sent(),[7];case 5:return[2]}var l,f,h}))}))},e}();t.default=a},3389:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.resolve=function(){throw new Error("Abstract function")},e.prototype._resolveToItself=function(e){return Promise.resolve([e])},e}();t.default=r},8341:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(7509);function o(e){return Promise.resolve([e])}var i=function(){function e(e){this._resolverFunction=null!=e?e:o}return e.prototype.resolve=function(e){var t=this;return new Promise((function(r){return r(t._resolverFunction(e.asHostPort()))})).then((function(e){if(!Array.isArray(e))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map((function(e){return n.ServerAddress.fromUrl(e)}))}))},e}();t.default=i},9470:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfiguredCustomResolver=t.BaseHostNameResolver=void 0;var o=n(r(3389));t.BaseHostNameResolver=o.default;var i=n(r(8341));t.ConfiguredCustomResolver=i.default},7509:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAddress=void 0;var a=r(6587),u=i(r(407)),s=function(){function e(e,t,r,n){this._host=(0,a.assertString)(e,"host"),this._resolved=null!=t?(0,a.assertString)(t,"resolved"):null,this._port=(0,a.assertNumber)(r,"port"),this._hostPort=n,this._stringValue=null!=t?"".concat(n,"(").concat(t,")"):"".concat(n)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return null!=this._resolved?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(t){return new e(this._host,t,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(t){var r=u.parseDatabaseUrl(t);return new e(r.host,null,r.port,r.hostAndPort)},e}();t.ServerAddress=s},5022:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.floorMod=t.floorDiv=t.assertValidZoneId=t.assertValidNanosecond=t.assertValidSecond=t.assertValidMinute=t.assertValidHour=t.assertValidDay=t.assertValidMonth=t.assertValidYear=t.timeZoneOffsetInSeconds=t.totalNanoseconds=t.newDate=t.toStandardDate=t.isoStringToStandardDate=t.dateToIsoString=t.timeZoneOffsetToIsoString=t.timeToIsoString=t.durationToIsoString=t.dateToEpochDay=t.localDateTimeToEpochSecond=t.localTimeToNanoOfDay=t.normalizeNanosecondsForDuration=t.normalizeSecondsForDuration=t.SECONDS_PER_DAY=t.DAYS_PER_400_YEAR_CYCLE=t.DAYS_0000_TO_1970=t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE=t.NANOS_PER_MILLISECOND=t.NANOS_PER_SECOND=t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE=t.MINUTES_PER_HOUR=t.NANOSECOND_OF_SECOND_RANGE=t.SECOND_OF_MINUTE_RANGE=t.MINUTE_OF_HOUR_RANGE=t.HOUR_OF_DAY_RANGE=t.DAY_OF_MONTH_RANGE=t.MONTH_OF_YEAR_RANGE=t.YEAR_RANGE=void 0;var a=i(r(3371)),u=r(9691),s=r(6587),c=function(){function e(e,t){this._minNumber=e,this._maxNumber=t,this._minInteger=(0,a.int)(e),this._maxInteger=(0,a.int)(t)}return e.prototype.contains=function(e){if((0,a.isInt)(e)&&e instanceof a.default)return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger);if("bigint"==typeof e){var t=(0,a.int)(e);return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger)}return e>=this._minNumber&&e<=this._maxNumber},e.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},e}();function l(e,r,n){e=(0,a.int)(e),r=(0,a.int)(r),n=(0,a.int)(n);var o=e.multiply(365);return o=(o=(o=e.greaterThanOrEqual(0)?o.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):o.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(r.multiply(367).subtract(362).div(12))).add(n.subtract(1)),r.greaterThan(2)&&(o=o.subtract(1),function(e){return!(!(e=(0,a.int)(e)).modulo(4).equals(0)||e.modulo(100).equals(0)&&!e.modulo(400).equals(0))}(e)||(o=o.subtract(1))),o.subtract(t.DAYS_0000_TO_1970)}t.YEAR_RANGE=new c(-999999999,999999999),t.MONTH_OF_YEAR_RANGE=new c(1,12),t.DAY_OF_MONTH_RANGE=new c(1,31),t.HOUR_OF_DAY_RANGE=new c(0,23),t.MINUTE_OF_HOUR_RANGE=new c(0,59),t.SECOND_OF_MINUTE_RANGE=new c(0,59),t.NANOSECOND_OF_SECOND_RANGE=new c(0,999999999),t.MINUTES_PER_HOUR=60,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.NANOS_PER_SECOND=1e9,t.NANOS_PER_MILLISECOND=1e6,t.NANOS_PER_MINUTE=t.NANOS_PER_SECOND*t.SECONDS_PER_MINUTE,t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE*t.MINUTES_PER_HOUR,t.DAYS_0000_TO_1970=719528,t.DAYS_PER_400_YEAR_CYCLE=146097,t.SECONDS_PER_DAY=86400,t.normalizeSecondsForDuration=function(e,r){return(0,a.int)(e).add(p(r,t.NANOS_PER_SECOND))},t.normalizeNanosecondsForDuration=function(e){return v(e,t.NANOS_PER_SECOND)},t.localTimeToNanoOfDay=function(e,r,n,o){e=(0,a.int)(e),r=(0,a.int)(r),n=(0,a.int)(n),o=(0,a.int)(o);var i=e.multiply(t.NANOS_PER_HOUR);return(i=(i=i.add(r.multiply(t.NANOS_PER_MINUTE))).add(n.multiply(t.NANOS_PER_SECOND))).add(o)},t.localDateTimeToEpochSecond=function(e,r,n,o,i,u,s){var c=l(e,r,n),f=function(e,r,n){e=(0,a.int)(e),r=(0,a.int)(r),n=(0,a.int)(n);var o=e.multiply(t.SECONDS_PER_HOUR);return(o=o.add(r.multiply(t.SECONDS_PER_MINUTE))).add(n)}(o,i,u);return c.multiply(t.SECONDS_PER_DAY).add(f)},t.dateToEpochDay=l,t.durationToIsoString=function(e,r,n,o){var i=b(e),u=b(r),s=function(e,r){var n,o;e=(0,a.int)(e),r=(0,a.int)(r);var i=e.isNegative(),u=r.greaterThan(0);return n=i&&u?e.equals(-1)?"-0":e.add(1).toString():e.toString(),u&&(o=y(i?r.negate().add(2*t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND):r.add(t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND))),null!=o?n+o:n}(n,o);return"P".concat(i,"M").concat(u,"DT").concat(s,"S")},t.timeToIsoString=function(e,t,r,n){var o=b(e,2),i=b(t,2),a=b(r,2),u=y(n);return"".concat(o,":").concat(i,":").concat(a).concat(u)},t.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var r=e.isNegative();r&&(e=e.multiply(-1));var n=r?"-":"+",o=b(e.div(t.SECONDS_PER_HOUR),2),i=b(e.div(t.SECONDS_PER_MINUTE).modulo(t.MINUTES_PER_HOUR),2),u=e.modulo(t.SECONDS_PER_MINUTE),s=u.equals(0)?null:b(u,2);return null!=s?"".concat(n).concat(o,":").concat(i,":").concat(s):"".concat(n).concat(o,":").concat(i)},t.dateToIsoString=function(e,t,r){var n=function(e){var t=(0,a.int)(e);return t.isNegative()||t.greaterThan(9999)?b(t,6,{usePositiveSign:!0}):b(t,4)}(e),o=b(t,2),i=b(r,2);return"".concat(n,"-").concat(o,"-").concat(i)},t.isoStringToStandardDate=function(e){return new Date(e)},t.toStandardDate=function(e){return new Date(e)},t.newDate=function(e){return new Date(e)},t.totalNanoseconds=function(e,r){return n=r=null!=r?r:0,o=e.getMilliseconds()*t.NANOS_PER_MILLISECOND,n instanceof a.default?n.add(o):"bigint"==typeof n?n+BigInt(o):n+o;var n,o},t.timeZoneOffsetInSeconds=function(e){var r=e.getSeconds()>=e.getUTCSeconds()?e.getSeconds()-e.getUTCSeconds():e.getSeconds()-e.getUTCSeconds()+60,n=e.getTimezoneOffset();return 0===n?0+r:-1*n*t.SECONDS_PER_MINUTE+r},t.assertValidYear=function(e){return d(e,t.YEAR_RANGE,"Year")},t.assertValidMonth=function(e){return d(e,t.MONTH_OF_YEAR_RANGE,"Month")},t.assertValidDay=function(e){return d(e,t.DAY_OF_MONTH_RANGE,"Day")},t.assertValidHour=function(e){return d(e,t.HOUR_OF_DAY_RANGE,"Hour")},t.assertValidMinute=function(e){return d(e,t.MINUTE_OF_HOUR_RANGE,"Minute")},t.assertValidSecond=function(e){return d(e,t.SECOND_OF_MINUTE_RANGE,"Second")},t.assertValidNanosecond=function(e){return d(e,t.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var f=new Map,h=function(e,t){return(0,u.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(e,'"'))};function d(e,t,r){if((0,s.assertNumberOrInteger)(e,r),!t.contains(e))throw(0,u.newError)("".concat(r," is expected to be in range ").concat(t.toString()," but was: ").concat(e.toString()));return e}function p(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var r=e.div(t);return e.isPositive()!==t.isPositive()&&r.multiply(t).notEquals(e)&&(r=r.subtract(1)),r}function v(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(p(e,t).multiply(t))}function y(e){return(e=(0,a.int)(e)).equals(0)?"":"."+b(e,9)}function b(e,t,r){var n=(e=(0,a.int)(e)).isNegative();n&&(e=e.negate());var o=e.toString();if(null!=t)for(;o.length<t;)o="0"+o;return n?"-"+o:!0===(null==r?void 0:r.usePositiveSign)?"+"+o:o}t.assertValidZoneId=function(e,t){var r=f.get(t);if(!0!==r){if(!1===r)throw h(t,e);try{Intl.DateTimeFormat(void 0,{timeZone:t}),f.set(t,!0)}catch(r){throw f.set(t,!1),h(t,e)}}},t.floorDiv=p,t.floorMod=v},6189:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionExecutor=void 0;var s=r(9691),c=r(326);function l(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,u([e,t],a(r),!1))}function f(e){return clearTimeout(e)}var h=function(){function e(e,t,r,n,o){void 0===o&&(o={setTimeout:l,clearTimeout:f}),this._maxRetryTimeMs=d(e,3e4),this._initialRetryDelayMs=d(t,1e3),this._multiplier=d(r,2),this._jitterFactor=d(n,.2),this._setTimeout=o.setTimeout,this._clearTimeout=o.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=c.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return e.prototype.execute=function(e,t,r){var n=this,o={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){o.apiTransactionConfig=void 0}}};return new Promise((function(i,a){n._executeTransactionInsidePromise(e,t,i,a,r,o).catch(a)})).catch((function(i){var a=Date.now(),u=n._initialRetryDelayMs;return n._retryTransactionPromise(e,t,i,a,u,r,o)}))},e.prototype.close=function(){var e=this;this._inFlightTimeoutIds.forEach((function(t){return e._clearTimeout(t)})),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(e,t,r,n,o,i,a){var u=this;return Date.now()-n>this._maxRetryTimeMs||!(0,s.isRetriableError)(r)?Promise.reject(r):new Promise((function(r,n){var s=u._computeDelayWithJitter(o),c=u._setTimeout((function(){u._inFlightTimeoutIds=u._inFlightTimeoutIds.filter((function(e){return e!==c})),u._executeTransactionInsidePromise(e,t,r,n,i,a).catch(n)}),s);u._inFlightTimeoutIds.push(c)})).catch((function(r){var s=o*u._multiplier;return u._retryTransactionPromise(e,t,r,n,s,i,a)}))},e.prototype._executeTransactionInsidePromise=function(e,t,r,a,u,s){return o(this,void 0,void 0,(function(){var o,c,l,f,h,d,p=this;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),c=e(null!=(null==s?void 0:s.apiTransactionConfig)?n({},null==s?void 0:s.apiTransactionConfig):void 0),this.pipelineBegin?(l=c,[3,3]):[3,1];case 1:return[4,c];case 2:l=i.sent(),i.label=3;case 3:return o=l,[3,5];case 4:return f=i.sent(),a(f),[2];case 5:return h=null!=u?u:function(e){return e},d=h(o),this._safeExecuteTransactionWork(d,t).then((function(e){return p._handleTransactionWorkSuccess(e,o,r,a)})).catch((function(e){return p._handleTransactionWorkFailure(e,o,a)})),[2]}}))}))},e.prototype._safeExecuteTransactionWork=function(e,t){try{var r=t(e);return Promise.resolve(r)}catch(e){return Promise.reject(e)}},e.prototype._handleTransactionWorkSuccess=function(e,t,r,n){t.isOpen()?t.commit().then((function(){r(e)})).catch((function(e){n(e)})):r(e)},e.prototype._handleTransactionWorkFailure=function(e,t,r){t.isOpen()?t.rollback().catch((function(e){})).then((function(){return r(e)})).catch(r):r(e)},e.prototype._computeDelayWithJitter=function(e){var t=e*this._jitterFactor,r=e-t,n=e+t;return Math.random()*(n-r)+r},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,s.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,s.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,s.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,s.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();function d(e,t){return null!=e?e:t}t.TransactionExecutor=h},754:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxConfig=void 0;var a=i(r(6587)),u=r(9691),s=r(3371),c=function(){function e(e,t){!function(e){null!=e&&a.assertObject(e,"Transaction config")}(e),this.timeout=function(e,t){if(a.isObject(e)&&null!=e.timeout){a.assertNumberOrInteger(e.timeout,"Transaction timeout"),function(e){return"number"==typeof e.timeout&&!Number.isInteger(e.timeout)}(e)&&!0===(null==t?void 0:t.isInfoEnabled())&&(null==t||t.info("Transaction timeout expected to be an integer, got: ".concat(e.timeout,". The value will be rounded up.")));var r=(0,s.int)(e.timeout,{ceilFloat:!0});if(r.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return r}return null}(e,t),this.metadata=function(e){if(a.isObject(e)&&null!=e.metadata){var t=e.metadata;if(a.assertObject(t,"config.metadata"),0!==Object.keys(t).length)return t}return null}(e)}return e.empty=function(){return l},e.prototype.isEmpty=function(){return Object.values(this).every((function(e){return null==e}))},e}();t.TxConfig=c;var l=new c({})},407:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Url=t.formatIPv6Address=t.formatIPv4Address=t.defaultPortForScheme=t.parseDatabaseUrl=void 0;var i=r(6587),a=function(e,t,r,n,o){this.scheme=e,this.host=t,this.port=r,this.hostAndPort=n,this.query=o};function u(e,t,r){if(""===(e=(null!=e?e:"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(r,"'"));return e}function s(e){var t="["===e.charAt(0),r="]"===e.charAt(e.length-1);if(t||r){if(t&&r)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function c(e){return"http"===e?7474:"https"===e?7473:7687}t.Url=a,t.parseDatabaseUrl=function(e){var t;(0,i.assertString)(e,"URL");var r,l=function(e){return(e=e.trim()).includes("://")?{schemeMissing:!1,url:e}:{schemeMissing:!0,url:"none://".concat(e)}}(e),f=function(e){function t(e,t){var r=e.indexOf(t);return r>=0?[e.substring(0,r),e[r],e.substring(r+1)]:[e,"",""]}var r,i={};return":"===(r=t(e,":"))[1]&&(i.scheme=decodeURIComponent(r[0]),e=r[2]),"#"===(r=t(e,"#"))[1]&&(i.fragment=decodeURIComponent(r[2]),e=r[0]),"?"===(r=t(e,"?"))[1]&&(i.query=r[2],e=r[0]),e.startsWith("//")?(r=t(e.substr(2),"/"),(i=n(n({},i),function(e){var r,n,i,a,u={};"@"===(n=e,i="@",a=n.lastIndexOf(i),r=a>=0?[n.substring(0,a),n[a],n.substring(a+1)]:["","",n])[1]&&(u.userInfo=decodeURIComponent(r[0]),e=r[2]);var s=o(function(e,r,n){var o=t(e,r),i=t(o[2],n);return[i[0],i[2]]}(e,"[","]"),2),c=s[0],l=s[1];return""!==c?(u.host=c,r=t(l,":")):(r=t(e,":"),u.host=r[0]),":"===r[1]&&(u.port=r[2]),u}(r[0]))).path=r[1]+r[2]):i.path=e,i}(l.url),h=l.schemeMissing?null:function(e){return null!=e?(":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e):null}(f.scheme),d=function(e,t){if(null==e)throw new Error("Unable to extract host from null or undefined URL");return e.trim()}(f.host),p=function(e){if(""===e||null==e)throw new Error("Illegal host ".concat(e));return e.includes(":")?s(e):e}(d),v=function(e,t){var r="string"==typeof e?parseInt(e,10):e;return null==r||isNaN(r)?c(t):r}(f.port,h),y="".concat(p,":").concat(v),b=function(e,t){var r=null!=e?function(e){return"?"===(null==(e=(null!=e?e:"").trim())?void 0:e.charAt(0))&&(e=e.substring(1,e.length)),e}(e):null,n={};return null!=r&&r.split("&").forEach((function(e){var r=e.split("=");if(2!==r.length)throw new Error("Invalid parameters: '".concat(r.toString(),"' in URL '").concat(t,"'."));var o=u(r[0],"key",t),i=u(r[1],"value",t);if(void 0!==n[o])throw new Error("Duplicated query parameters with key '".concat(o,"' in URL '").concat(t,"'"));n[o]=i})),n}(null!==(t=f.query)&&void 0!==t?t:"string"!=typeof(r=f.resourceName)?null:o(r.split("?"),2)[1],e);return new a(h,d,v,y,b)},t.formatIPv4Address=function(e,t){return"".concat(e,":").concat(t)},t.formatIPv6Address=function(e,t){var r=s(e);return"".concat(r,":").concat(t)},t.defaultPortForScheme=c},6587:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ENCRYPTION_OFF=t.ENCRYPTION_ON=t.equals=t.validateQueryAndParameters=t.toNumber=t.assertValidDate=t.assertNumberOrInteger=t.assertNumber=t.assertString=t.assertObject=t.isString=t.isObject=t.isEmptyObjectOrNull=void 0;var u=i(r(3371)),s=r(4027);function c(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function l(e,t){if(!f(e))throw new TypeError((0,s.stringify)(t)+" expected to be string but was: "+(0,s.stringify)(e));return e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}t.ENCRYPTION_ON="ENCRYPTION_ON",t.ENCRYPTION_OFF="ENCRYPTION_OFF",t.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!c(e))return!1;for(var t in e)if(void 0!==e[t])return!1;return!0},t.isObject=c,t.validateQueryAndParameters=function(e,t,r){var n,o,i="",a=null!=t?t:{},u=null!==(n=null==r?void 0:r.skipAsserts)&&void 0!==n&&n;return"string"==typeof e?i=e:e instanceof String?i=e.toString():"object"==typeof e&&null!=e.text&&(i=e.text,a=null!==(o=e.parameters)&&void 0!==o?o:{}),u||(function(e){if(l(e,"Cypher query"),0===e.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.")}(i),function(e){if(!c(e)){var t=null!=e.constructor?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(JSON.stringify(e)))}}(a)),{validatedQuery:i,params:a}},t.assertObject=function(e,t){if(!c(e))throw new TypeError(t+" expected to be an object but was: "+(0,s.stringify)(e));return e},t.assertString=l,t.assertNumber=function(e,t){if("number"!=typeof e)throw new TypeError(t+" expected to be a number but was: "+(0,s.stringify)(e));return e},t.assertNumberOrInteger=function(e,t){if("number"!=typeof e&&"bigint"!=typeof e&&!(0,u.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,s.stringify)(e));return e},t.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,s.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,s.stringify)(e));return e},t.isString=f,t.equals=function e(t,r){var n,o;if(t===r)return!0;if(null===t||null===r)return!1;if("object"==typeof t&&"object"==typeof r){var i=Object.keys(t),u=Object.keys(r);if(i.length!==u.length)return!1;try{for(var s=a(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(!e(t[l],r[l]))return!1}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return!0}return!1},t.toNumber=function(e){return e instanceof u.default?e.toNumber():"bigint"==typeof e?(0,u.int)(e).toNumber():e}},4027:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var n=r(93);t.stringify=function(e,t){return JSON.stringify(e,(function(e,r){return(0,n.isBrokenObject)(r)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(r)}:"bigint"==typeof r?"".concat(r,"n"):!0!==(null==t?void 0:t.useCustomToString)||"object"!=typeof r||Array.isArray(r)||"function"!=typeof r.toString||r.toString===Object.prototype.toString?r:null==r?void 0:r.toString()}))}},1985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationFilterMinimumSeverityLevel=void 0;var r={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};t.notificationFilterMinimumSeverityLevel=r,Object.freeze(r);var n={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};t.notificationFilterDisabledCategory=n,Object.freeze(n);var o=n;t.notificationFilterDisabledClassification=o;t.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},1866:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildNotificationsFromMetadata=t.buildGqlStatusObjectFromMetadata=t.polyfillNotification=t.polyfillGqlStatusObject=t.GqlStatusObject=t.Notification=t.notificationClassification=t.notificationCategory=t.notificationSeverityLevel=void 0;var c=a(r(4027)),l=r(6995),f=r(1053),h={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unexpected error"}},d={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};t.notificationSeverityLevel=d,Object.freeze(d);var p=Object.values(d),v={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};t.notificationCategory=v,Object.freeze(v);var y=Object.values(v),b=v;t.notificationClassification=b;var m=function(e){this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=P(e.position),this.severityLevel=T(e.severity),this.rawSeverityLevel=e.severity,this.category=x(e.category),this.rawCategory=e.category};t.Notification=m;var g=function(){function e(e){var t;this.gqlStatus=e.gql_status,this.statusDescription=e.status_description,this.diagnosticRecord=null!==(t=e.diagnostic_record)&&void 0!==t?t:{},this.position=null!=this.diagnosticRecord._position?P(this.diagnosticRecord._position):void 0,this.severity=T(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=x(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=null!=e.neo4j_code,Object.freeze(this)}return Object.defineProperty(e.prototype,"diagnosticRecordAsJsonString",{get:function(){return c.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),e}();function _(e){var t,r,n;if(null!=e.neo4j_code)return new m({code:e.neo4j_code,title:e.title,description:e.description,severity:null===(t=e.diagnostic_record)||void 0===t?void 0:t._severity,category:null===(r=e.diagnostic_record)||void 0===r?void 0:r._classification,position:null===(n=e.diagnostic_record)||void 0===n?void 0:n._position})}function w(e){var t,r=e.severity===d.WARNING?h.WARNING:h.INFORMATION,o={gql_status:r.gql_status,status_description:null!==(t=e.description)&&void 0!==t?t:r.status_description,neo4j_code:e.code,title:e.title,diagnostic_record:n({},f.rawPolyfilledDiagnosticRecord)};return null!=e.severity&&(o.diagnostic_record._severity=e.severity),null!=e.category&&(o.diagnostic_record._classification=e.category),null!=e.position&&(o.diagnostic_record._position=e.position),new g(o)}t.GqlStatusObject=g,t.polyfillNotification=_,t.polyfillGqlStatusObject=w;var O={SUCCESS:new g({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new g({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new g(n(n({},h.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new g({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(O),t.buildGqlStatusObjectFromMetadata=function(e){var t,r;if(null!=e.statuses)return e.statuses.map((function(e){return new g(e)}));var n,o=!0===(null==(n=e.stream_summary)?void 0:n.have_records_streamed)?O.SUCCESS:!1===(null==n?void 0:n.has_keys)?O.OMITTED_RESULT:!0===(null==n?void 0:n.pulled)?O.NO_DATA:O.NO_DATA_UNKNOWN_SUBCONDITION;return s([o],u(null!==(r=null===(t=e.notifications)||void 0===t?void 0:t.map(w))&&void 0!==r?r:[]),!1).sort((function(e,t){return E(e)-E(t)}))};var S=Object.freeze({"02":0,"01":1,"00":2});function E(e){var t,r,n=null===(t=e.gqlStatus)||void 0===t?void 0:t.slice(0,2);return null!==(r=S[n])&&void 0!==r?r:9999}function P(e){return null==e?{}:{offset:l.util.toNumber(e.offset),line:l.util.toNumber(e.line),column:l.util.toNumber(e.column)}}function T(e){return p.includes(e)?e:d.UNKNOWN}function x(e){return y.includes(e)?e:b.UNKNOWN}t.buildNotificationsFromMetadata=function(e){return null!=e.notifications?e.notifications.map((function(e){return new m(e)})):null!=e.statuses?e.statuses.map(_).filter((function(e){return null!=e})):[]},t.default=m},4820:function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var a=r(9691),u=function(){function e(e,t,r){this.keys=e,this.length=e.length,this._fields=t,this._fieldLookup=null!=r?r:function(e){var t={};return e.forEach((function(e,r){t[e]=r})),t}(e)}return e.prototype.forEach=function(e){var t,r;try{for(var n=o(this.entries()),a=n.next();!a.done;a=n.next()){var u=i(a.value,2),s=u[0];e(u[1],s,this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.map=function(e){var t,r,n=[];try{for(var a=o(this.entries()),u=a.next();!u.done;u=a.next()){var s=i(u.value,2),c=s[0],l=s[1];n.push(e(l,c,this))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},e.prototype.entries=function(){var e;return n(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,[this.keys[e],this._fields[e]]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))},e.prototype.values=function(){var e;return n(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))},e.prototype[Symbol.iterator]=function(){var e;return n(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))},e.prototype.toObject=function(){var e,t,r={};try{for(var n=o(this.entries()),a=n.next();!a.done;a=n.next()){var u=i(a.value,2),s=u[0],c=u[1];r[s]=c}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.get=function(e){var t;if("number"!=typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '".concat(e.toString(),"', available keys are: [")+this.keys.toString()+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[t]},e.prototype.has=function(e){return"number"==typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]},e}();t.default=u},8917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){this.keys=e,this.records=t,this.summary=r}},6033:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ServerInfo=t.queryType=void 0;var n=r(6995),o=r(1866),i=function(){function e(e,t,r,n){var i,l,f;this.query={text:e,parameters:t},this.queryType=r.type,this.counters=new s(null!==(i=r.stats)&&void 0!==i?i:{}),this.updateStatistics=this.counters,this.plan=(null!=r.plan||null!=r.profile)&&new a(null!==(l=r.plan)&&void 0!==l?l:r.profile),this.profile=null!=r.profile&&new u(r.profile),this.notifications=(0,o.buildNotificationsFromMetadata)(r),this.gqlStatusObjects=(0,o.buildGqlStatusObjectFromMetadata)(r),this.server=new c(r.server,n),this.resultConsumedAfter=r.result_consumed_after,this.resultAvailableAfter=r.result_available_after,this.database={name:null!==(f=r.db)&&void 0!==f?f:null}}return e.prototype.hasPlan=function(){return this.plan instanceof a},e.prototype.hasProfile=function(){return this.profile instanceof u},e}(),a=function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=null!=t.children?t.children.map((function(t){return new e(t)})):[]};t.Plan=a;var u=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=l("dbHits",t),this.rows=l("rows",t),this.pageCacheMisses=l("pageCacheMisses",t),this.pageCacheHits=l("pageCacheHits",t),this.pageCacheHitRatio=l("pageCacheHitRatio",t),this.time=l("time",t),this.children=null!=t.children?t.children.map((function(t){return new e(t)})):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();t.ProfiledPlan=u;t.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var s=function(){function e(e){var t=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(e).forEach((function(r){var o=r.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}));o in t._stats?t._stats[o]=n.util.toNumber(e[r]):"systemUpdates"===o?t._systemUpdates=n.util.toNumber(e[r]):"containsSystemUpdates"===o?t._containsSystemUpdates=e[r]:"containsUpdates"===o&&(t._containsUpdates=e[r])})),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var e=this;return void 0!==this._containsUpdates?this._containsUpdates:Object.keys(this._stats).reduce((function(t,r){return t+e._stats[r]}),0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();t.QueryStatistics=s;var c=function(e,t){null!=e&&(this.address=e.address,this.agent=e.version),this.protocolVersion=t};function l(e,t,r){if(void 0===r&&(r=0),!1!==t&&e in t){var o=t[e];return n.util.toNumber(o)}return r}t.ServerInfo=c,t.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},t.default=i},1573:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(8917)),u=r(9691),s=new(function(){function e(){}return e.prototype.eagerResultTransformer=function(){return c},e.prototype.eager=function(){return c},e.prototype.mappedResultTransformer=function(e){return l(e)},e.prototype.mapped=function(e){return l(e)},e.prototype.first=function(){return f},e.prototype.summary=function(){return h},e}());function c(e){return n(this,void 0,void 0,(function(){var t,r,n,i;return o(this,(function(o){switch(o.label){case 0:return[4,e];case 1:return t=o.sent(),r=t.summary,n=t.records,[4,e.keys()];case 2:return i=o.sent(),[2,new a.default(i,n,r)]}}))}))}function l(e){var t=this;if(null==e||null==e.collect&&null==e.map)throw(0,u.newError)("Requires a map or/and a collect functions.");return function(r){return n(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){var o={records:[],keys:[]};r.subscribe({onKeys:function(e){o.keys=e},onNext:function(t){if(null!=e.map){var r=e.map(t);void 0!==r&&o.records.push(r)}else o.records.push(t)},onCompleted:function(r){if(null!=e.collect)t(e.collect(o.records,r,o.keys));else{var n={records:o.records,summary:r,keys:o.keys};t(n)}},onError:function(e){n(e)}})}))];case 1:return[2,t.sent()]}}))}))}}function f(e){return n(this,void 0,void 0,(function(){var t,r,n,i;return o(this,(function(o){switch(o.label){case 0:return[4,(t=e[Symbol.asyncIterator]()).next()];case 1:r=o.sent(),n=r.value,i=r.done,o.label=2;case 2:return o.trys.push([2,,3,6]),!0===i?[2,void 0]:[2,n];case 3:return null==t.return?[3,5]:[4,t.return()];case 4:o.sent(),o.label=5;case 5:return[7];case 6:return[2]}}))}))}function h(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,e.summary()];case 1:return[2,t.sent()]}}))}))}Object.freeze(s),t.default=s},9512:function(e,t,r){var n,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(6033)),s=r(6995),c=r(9691),l=s.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(e){console.log("Uncaught error when processing result: "+e)},h=function(e){},d=function(e){},p=function(){function e(e,t,r,o,i){var a;void 0===i&&(i={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[n]="Result",this._stack=null!=(a=new Error("")).stack?a.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=e,this._p=null,this._query=t,this._parameters=null!=r?r:{},this._connectionHolder=null!=o?o:l,this._keys=null,this._summary=null,this._error=null,this._watermarks=i}return e.prototype.keys=function(){var e=this;return null!==this._keys?Promise.resolve(this._keys):null!==this._error?Promise.reject(this._error):new Promise((function(t,r){e._streamObserverPromise.then((function(n){return n.subscribe(e._decorateObserver({onKeys:function(e){return t(e)},onError:function(e){return r(e)}}))})).catch(r)}))},e.prototype.summary=function(){var e=this;return null!==this._summary?Promise.resolve(this._summary):null!==this._error?Promise.reject(this._error):new Promise((function(t,r){e._streamObserverPromise.then((function(n){n.cancel(),n.subscribe(e._decorateObserver({onCompleted:function(e){return t(e)},onError:function(e){return r(e)}}))})).catch(r)}))},e.prototype._getOrCreatePromise=function(){var e=this;return null==this._p&&(this._p=new Promise((function(t,r){var n=[],o={onNext:function(e){n.push(e)},onCompleted:function(e){t({records:n,summary:e})},onError:function(e){r(e)}};e.subscribe(o)}))),this._p},e.prototype[Symbol.asyncIterator]=function(){var e=this;if(!this.isOpen()){var t=(0,c.newError)("Result is already consumed");return{next:function(){return Promise.reject(t)},peek:function(){return Promise.reject(t)}}}var r={paused:!0,firstRun:!0,finished:!1},n=function(){var t,n;if(null!=r.streaming){var o=null!==(n=null===(t=r.queuedObserver)||void 0===t?void 0:t.size)&&void 0!==n?n:0,i=o>=e._watermarks.high,a=o<=e._watermarks.low;i&&!r.paused?(r.paused=!0,r.streaming.pause()):(a&&r.paused||r.firstRun&&!i)&&(r.firstRun=!1,r.paused=!1,r.streaming.resume())}},a=function(){return o(e,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return void 0!==r.queuedObserver?[3,2]:(r.queuedObserver=this._createQueuedResultObserver(n),e=r,[4,this._subscribe(r.queuedObserver,!0).catch((function(){}))]);case 1:e.streaming=t.sent(),n(),t.label=2;case 2:return[2,r.queuedObserver]}}))}))},u=function(e){if(void 0===e)throw(0,c.newError)("InvalidState: Result stream finished without Summary",c.PROTOCOL_ERROR);return!0};return{next:function(){return o(e,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return r.finished&&u(r.summary)?[2,{done:!0,value:r.summary}]:[4,a()];case 1:return[4,t.sent().dequeue()];case 2:return!0===(e=t.sent()).done&&(r.finished=e.done,r.summary=e.value),[2,e]}}))}))},return:function(t){return o(e,void 0,void 0,(function(){var e,n;return i(this,(function(o){switch(o.label){case 0:return r.finished&&u(r.summary)?[2,{done:!0,value:null!=t?t:r.summary}]:(null===(n=r.streaming)||void 0===n||n.cancel(),[4,a()]);case 1:return[4,o.sent().dequeueUntilDone()];case 2:return e=o.sent(),r.finished=!0,e.value=null!=t?t:e.value,r.summary=e.value,[2,e]}}))}))},peek:function(){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return r.finished&&u(r.summary)?[2,{done:!0,value:r.summary}]:[4,a()];case 1:return[4,e.sent().head()];case 2:return[2,e.sent()]}}))}))}}},e.prototype.then=function(e,t){return this._getOrCreatePromise().then(e,t)},e.prototype.catch=function(e){return this._getOrCreatePromise().catch(e)},e.prototype.finally=function(e){return this._getOrCreatePromise().finally(e)},e.prototype.subscribe=function(e){this._subscribe(e).catch((function(){}))},e.prototype.isOpen=function(){return null===this._summary&&null===this._error},e.prototype._subscribe=function(e,t){void 0===t&&(t=!1);var r=this._decorateObserver(e);return this._streamObserverPromise.then((function(e){return t&&e.pause(),e.subscribe(r),e})).catch((function(e){return null!=r.onError&&r.onError(e),Promise.reject(e)}))},e.prototype._decorateObserver=function(e){var t,r,n,o=this,i=null!==(t=e.onCompleted)&&void 0!==t?t:h,a=null!==(r=e.onError)&&void 0!==r?r:f,u=null!==(n=e.onKeys)&&void 0!==n?n:d;return{onNext:null!=e.onNext?e.onNext.bind(e):void 0,onKeys:function(t){return o._keys=t,u.call(e,t)},onCompleted:function(t){o._releaseConnectionAndGetSummary(t).then((function(t){return null!==o._summary?i.call(e,o._summary):(o._summary=t,i.call(e,t))})).catch(a)},onError:function(t){o._connectionHolder.releaseConnection().then((function(){!function(e,t){null!=t&&(e.stack=e.toString()+"\n"+t)}(t,o._stack),o._error=t,a.call(e,t)})).catch(a)}}},e.prototype._cancel=function(){null===this._summary&&null===this._error&&this._streamObserverPromise.then((function(e){return e.cancel()})).catch((function(){}))},e.prototype._releaseConnectionAndGetSummary=function(e){var t=s.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),r=t.validatedQuery,n=t.params,o=this._connectionHolder;return o.getConnection().then((function(e){return o.releaseConnection().then((function(){return null==e?void 0:e.getProtocolVersion()}))}),(function(e){})).then((function(t){return new u.default(r,n,e,t)}))},e.prototype._createQueuedResultObserver=function(e){var t=this;function r(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}function n(e){return e instanceof Error}function a(){var t;return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:if(u.length>0){if(o=null!==(t=u.shift())&&void 0!==t?t:(0,c.newError)("Unexpected empty buffer",c.PROTOCOL_ERROR),e(),n(o))throw o;return[2,o]}return s.resolvable=r(),[4,s.resolvable.promise];case 1:return[2,i.sent()]}}))}))}var u=[],s={resolvable:null},l={onNext:function(e){l._push({done:!1,value:e})},onCompleted:function(e){l._push({done:!0,value:e})},onError:function(e){l._push(e)},_push:function(t){if(null!==s.resolvable){var r=s.resolvable;s.resolvable=null,n(t)?r.reject(t):r.resolve(t)}else u.push(t),e()},dequeue:a,dequeueUntilDone:function(){return o(t,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,a()];case 1:return!0===(e=t.sent()).done?[2,e]:[3,0];case 2:return[2]}}))}))},head:function(){return o(t,void 0,void 0,(function(){var t,o;return i(this,(function(i){switch(i.label){case 0:if(u.length>0){if(n(t=u[0]))throw t;return[2,t]}s.resolvable=r(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,s.resolvable.promise];case 2:return t=i.sent(),u.unshift(t),[2,t];case 3:throw o=i.sent(),u.unshift(o),o;case 4:return e(),[7];case 5:return[2]}}))}))},get size(){return u.length}};return l},e}();n=Symbol.toStringTag,t.default=p},5481:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(2696),c=r(6587),l=r(326),f=r(9691),h=u(r(9512)),d=r(3618),p=r(6189),v=r(9730),y=r(754),b=u(r(4569)),m=u(r(5909)),g=function(){function e(e){var t=e.mode,r=e.connectionProvider,n=e.bookmarks,o=e.database,i=e.config,a=e.reactive,u=e.fetchSize,s=e.impersonatedUser,c=e.bookmarkManager,f=e.notificationFilter,h=e.auth,y=e.log;this._mode=t,this._database=o,this._reactive=a,this._fetchSize=u,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new d.ConnectionHolder({mode:l.ACCESS_MODE_READ,auth:h,database:o,bookmarks:n,connectionProvider:r,impersonatedUser:s,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:y}),this._writeConnectionHolder=new d.ConnectionHolder({mode:l.ACCESS_MODE_WRITE,auth:h,database:o,bookmarks:n,connectionProvider:r,impersonatedUser:s,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:y}),this._open=!0,this._hasTx=!1,this._impersonatedUser=s,this._lastBookmarks=null!=n?n:v.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(e){var t,r=null!==(t=null==e?void 0:e.maxTransactionRetryTime)&&void 0!==t?t:null;return new p.TransactionExecutor(r)}(i),this._databaseNameResolved=""!==this._database;var b=this._calculateWatermaks();this._lowRecordWatermark=b.low,this._highRecordWatermark=b.high,this._results=[],this._bookmarkManager=c,this._notificationFilter=f,this._log=y}return e.prototype.run=function(e,t,r){var i=this,a=(0,c.validateQueryAndParameters)(e,t),u=a.validatedQuery,s=a.params,f=null!=r?new y.TxConfig(r,this._log):y.TxConfig.empty(),h=this._run(u,s,(function(e){return n(i,void 0,void 0,(function(){var t,r=this;return o(this,(function(n){switch(n.label){case 0:return[4,this._bookmarks()];case 1:return t=n.sent(),this._assertSessionIsOpen(),[2,e.run(u,s,{bookmarks:t,txConfig:f,mode:this._mode,database:this._database,apiTelemetryConfig:{api:l.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(e){return r._onCompleteCallback(e,t)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}}))}))}));return this._results.push(h),h},e.prototype._run=function(e,t,r){var n=this._acquireAndConsumeConnection(r),o=n.connectionHolder,i=n.resultPromise.catch((function(e){return Promise.resolve(new s.FailedObserver({error:e}))})),a={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new h.default(i,e,t,o,a)},e.prototype._acquireConnection=function(e){var t=this,r=this._acquireAndConsumeConnection(e),i=r.connectionHolder;return r.resultPromise.then((function(e){return n(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.releaseConnection()];case 1:return t.sent(),[2,e]}}))}))}))},e.prototype._acquireAndConsumeConnection=function(e){var t,r=this._connectionHolderWithMode(this._mode);return t=this._open?!this._hasTx&&r.initializeConnection()?r.getConnection().then((function(t){return e(t)})):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:r,resultPromise:t}},e.prototype.beginTransaction=function(e){var t=e,r=y.TxConfig.empty();return null!=t&&(r=new y.TxConfig(t,this._log)),this._beginTransaction(this._mode,r,{api:l.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},e.prototype._beginTransaction=function(t,r,n){var o=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var i=e._validateSessionMode(t),a=this._connectionHolderWithMode(i);a.initializeConnection(),this._hasTx=!0;var u=new b.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(e,t,r){return o._updateBookmarks(e,t,r)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:n});return u._begin((function(){return o._bookmarks()}),r),u},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){var e;return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:return void 0===(t=r.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(t),!1),i(this._configuredBookmarks),!1))]}}))}))},e.prototype.readTransaction=function(e,t){var r=new y.TxConfig(t,this._log);return this._runTransaction(l.ACCESS_MODE_READ,r,e)},e.prototype.writeTransaction=function(e,t){var r=new y.TxConfig(t,this._log);return this._runTransaction(l.ACCESS_MODE_WRITE,r,e)},e.prototype._runTransaction=function(e,t,r){var n=this;return this._transactionExecutor.execute((function(r){return n._beginTransaction(e,t,r)}),r)},e.prototype.executeRead=function(e,t){var r=new y.TxConfig(t,this._log);return this._executeInTransaction(l.ACCESS_MODE_READ,r,e)},e.prototype.executeWrite=function(e,t){var r=new y.TxConfig(t,this._log);return this._executeInTransaction(l.ACCESS_MODE_WRITE,r,e)},e.prototype._executeInTransaction=function(e,t,r){var n=this;return this._transactionExecutor.execute((function(r){return n._beginTransaction(e,t,r)}),r,m.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(e){if(!this._databaseNameResolved){var t=null!=e?e:"";this._database=t,this._readConnectionHolder.setDatabase(t),this._writeConnectionHolder.setDatabase(t),this._databaseNameResolved=!0}},e.prototype._getConnectionAcquistionBookmarks=function(){var e;return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:return void 0===(t=r.sent())?[2,this._lastBookmarks]:[2,new v.Bookmarks(a(a([],i(this._configuredBookmarks),!1),i(t),!1))]}}))}))},e.prototype._updateBookmarks=function(e,t,r){var n,o,i;null==e||e.isEmpty()||(null===(n=this._bookmarkManager)||void 0===n||n.updateBookmarks(null!==(o=null==t?void 0:t.values())&&void 0!==o?o:[],null!==(i=null==e?void 0:e.values())&&void 0!==i?i:[]).catch((function(){})),this._lastBookmarks=e,this._configuredBookmarks=v.Bookmarks.empty())},e.prototype.close=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this._open?(this._open=!1,this._results.forEach((function(e){return e._cancel()})),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return e.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._connectionHolderWithMode=function(e){if(e===l.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===l.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+e)},e.prototype._onCompleteCallback=function(e,t){this._updateBookmarks(new v.Bookmarks(e.bookmark),t,e.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===l.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e.prototype._configureTransactionExecutor=function(e,t){this._transactionExecutor.pipelineBegin=e,this._transactionExecutor.telemetryApi=t},e._validateSessionMode=function(e){var t=null!=e?e:l.ACCESS_MODE_WRITE;if(t!==l.ACCESS_MODE_READ&&t!==l.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+t);return t},e}();t.default=g},7093:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPoint=t.Point=void 0;var n=r(6587),o="__isPoint__",i=function(){function e(e,t,r,o){this.srid=(0,n.assertNumberOrInteger)(e,"SRID"),this.x=(0,n.assertNumber)(t,"X coordinate"),this.y=(0,n.assertNumber)(r,"Y coordinate"),this.z=null==o?o:(0,n.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return null==this.z||isNaN(this.z)?"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),"}"):"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),", z=").concat(a(this.z),"}")},e}();function a(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}t.Point=i,Object.defineProperty(i.prototype,o,{value:!0,enumerable:!1,configurable:!1,writable:!1}),t.isPoint=function(e){return null!=e&&!0===e[o]}},5459:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isDateTime=t.DateTime=t.isLocalDateTime=t.LocalDateTime=t.isDate=t.Date=t.isTime=t.Time=t.isLocalTime=t.LocalTime=t.isDuration=t.Duration=void 0;var u=i(r(5022)),s=r(6587),c=r(9691),l=i(r(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},h="__isDuration__",d="__isLocalTime__",p="__isTime__",v="__isDate__",y="__isLocalDateTime__",b="__isDateTime__",m=function(){function e(e,t,r,n){this.months=(0,s.assertNumberOrInteger)(e,"Months"),this.days=(0,s.assertNumberOrInteger)(t,"Days"),(0,s.assertNumberOrInteger)(r,"Seconds"),(0,s.assertNumberOrInteger)(n,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(r,n),this.nanoseconds=u.normalizeNanosecondsForDuration(n),Object.freeze(this)}return e.prototype.toString=function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();t.Duration=m,Object.defineProperty(m.prototype,h,f),t.isDuration=function(e){return E(e,h)};var g=function(){function e(e,t,r,n){this.hour=u.assertValidHour(e),this.minute=u.assertValidMinute(t),this.second=u.assertValidSecond(r),this.nanosecond=u.assertValidNanosecond(n),Object.freeze(this)}return e.fromStandardDate=function(t,r){T(t,r);var n=u.totalNanoseconds(t,r);return new e(t.getHours(),t.getMinutes(),t.getSeconds(),n instanceof l.default?n.toInt():"bigint"==typeof n?(0,l.int)(n).toInt():n)},e.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalTime=g,Object.defineProperty(g.prototype,d,f),t.isLocalTime=function(e){return E(e,d)};var _=function(){function e(e,t,r,n,o){this.hour=u.assertValidHour(e),this.minute=u.assertValidMinute(t),this.second=u.assertValidSecond(r),this.nanosecond=u.assertValidNanosecond(n),this.timeZoneOffsetSeconds=(0,s.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(t,r){return T(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),(0,l.toNumber)(u.totalNanoseconds(t,r)),u.timeZoneOffsetInSeconds(t))},e.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();t.Time=_,Object.defineProperty(_.prototype,p,f),t.isTime=function(e){return E(e,p)};var w=function(){function e(e,t,r){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(r),Object.freeze(this)}return e.fromStandardDate=function(t){return T(t),new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return u.dateToIsoString(this.year,this.month,this.day)},e}();t.Date=w,Object.defineProperty(w.prototype,v,f),t.isDate=function(e){return E(e,v)};var O=function(){function e(e,t,r,n,o,i,a){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(r),this.hour=u.assertValidHour(n),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(a),Object.freeze(this)}return e.fromStandardDate=function(t,r){return T(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,l.toNumber)(u.totalNanoseconds(t,r)))},e.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return P(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalDateTime=O,Object.defineProperty(O.prototype,y,f),t.isLocalDateTime=function(e){return E(e,y)};var S=function(){function e(e,t,r,n,o,i,l,f,h){this.year=u.assertValidYear(e),this.month=u.assertValidMonth(t),this.day=u.assertValidDay(r),this.hour=u.assertValidHour(n),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(l);var d=a(function(e,t){var r=null!=e,n=null!=t&&""!==t;if(!r&&!n)throw(0,c.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var o=[void 0,void 0];return r&&((0,s.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e),n&&((0,s.assertString)(t,"Time zone ID"),u.assertValidZoneId("Time zone ID",t),o[1]=t),o}(f,h),2),p=d[0],v=d[1];this.timeZoneOffsetSeconds=p,this.timeZoneId=null!=v?v:void 0,Object.freeze(this)}return e.fromStandardDate=function(t,r){return T(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,l.toNumber)(u.totalNanoseconds(t,r)),u.timeZoneOffsetInSeconds(t),null)},e.prototype.toStandardDate=function(){return u.toStandardDate(this._toUTC())},e.prototype.toString=function(){var e;return P(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(null!=this.timeZoneOffsetSeconds?u.timeZoneOffsetToIsoString(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0):"")+(null!=this.timeZoneId?"[".concat(this.timeZoneId,"]"):"")},e.prototype._toUTC=function(){var e;if(void 0===this.timeZoneOffsetSeconds)throw new Error("Requires DateTime created with time zone offset");var t=u.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0);return(0,l.int)(t).multiply(1e3).add((0,l.int)(this.nanosecond).div(1e6)).toNumber()},e}();function E(e,t){return null!=e&&!0===e[t]}function P(e,t,r,n,o,i,a){return u.dateToIsoString(e,t,r)+"T"+u.timeToIsoString(n,o,i,a)}function T(e,t){(0,s.assertValidDate)(e,"Standard date"),null!=t&&(0,s.assertNumberOrInteger)(t,"Nanosecond")}t.DateTime=S,Object.defineProperty(S.prototype,b,f),t.isDateTime=function(e){return E(e,b)}},5909:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=r},4569:function(e,t,r){var n,o,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=t.connectionHolder,n=t.onClose,i=t.onBookmarks,a=t.onConnection,u=t.reactive,s=t.fetchSize,c=t.impersonatedUser,l=t.highRecordWatermark,f=t.lowRecordWatermark,h=t.notificationFilter,d=t.apiTelemetryConfig,p=e.call(this,{connectionHolder:r,onClose:n,onBookmarks:i,onConnection:a,reactive:u,fetchSize:s,impersonatedUser:c,highRecordWatermark:l,lowRecordWatermark:f,notificationFilter:h,apiTelemetryConfig:d})||this;return p[o]="TransactionPromise",p}return i(t,e),t.prototype.then=function(e,t){return this._getOrCreateBeginPromise().then(e,t)},t.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},t.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},t.prototype._getOrCreateBeginPromise=function(){var e=this;return null==this._beginPromise&&(this._beginPromise=new Promise((function(t,r){e._resolve=t,e._reject=r,null!=e._beginError&&r(e._beginError),null!=e._beginMetadata&&t(e._toTransaction())}))),this._beginPromise},t.prototype._toTransaction=function(){return a(a({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},t.prototype._begin=function(t,r){return e.prototype._begin.call(this,t,r,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},t.prototype._onBeginError=function(e){this._beginError=e,null!=this._reject&&this._reject(e)},t.prototype._onBeginMetadata=function(e){this._beginMetadata=null!=e?e:{},null!=this._resolve&&this._resolve(this._toTransaction())},t}(u(r(9473)).default);o=Symbol.toStringTag,t.default=s},9473:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(6587),u=r(3618),s=r(9730),c=r(754),l=r(2696),f=r(9691),h=i(r(9512)),d=function(){function e(e){var t=e.connectionHolder,r=e.onClose,n=e.onBookmarks,o=e.onConnection,i=e.reactive,a=e.fetchSize,u=e.impersonatedUser,c=e.highRecordWatermark,l=e.lowRecordWatermark,f=e.notificationFilter,h=e.apiTelemetryConfig,d=this;this._connectionHolder=t,this._reactive=i,this._state=p.ACTIVE,this._onClose=r,this._onBookmarks=n,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._fetchSize=a,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=u,this._lowRecordWatermak=l,this._highRecordWatermark=c,this._bookmarks=s.Bookmarks.empty(),this._notificationFilter=f,this._apiTelemetryConfig=h,this._acceptActive=function(){},this._activePromise=new Promise((function(e,t){d._acceptActive=e}))}return e.prototype._begin=function(e,t,r){var i=this;this._connectionHolder.getConnection().then((function(a){return n(i,void 0,void 0,(function(){var n,i=this;return o(this,(function(o){switch(o.label){case 0:return this._onConnection(),null==a?[3,2]:(n=this,[4,e()]);case 1:return n._bookmarks=o.sent(),[2,a.beginTransaction({bookmarks:this._bookmarks,txConfig:t,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(e){null!=r&&r.onError(e),i._onError(e).catch((function(){}))},afterComplete:function(e){null!=r&&r.onComplete(e),i._onComplete(e)}})];case 2:throw(0,f.newError)("No connection available")}}))}))})).catch((function(e){null!=r&&r.onError(e),i._onError(e).catch((function(){}))})).finally((function(){return i._acceptActive()}))},e.prototype.run=function(e,t){var r=(0,a.validateQueryAndParameters)(e,t),n=r.validatedQuery,o=r.params,i=this._state.run(n,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(i),i},e.prototype.commit=function(){var e=this,t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(t){return e._onCompleteCallback(t,e._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=t.state,this._onClose(),new Promise((function(e,r){t.result.subscribe({onCompleted:function(){return e()},onError:function(e){return r(e)}})}))},e.prototype.rollback=function(){var e=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=e.state,this._onClose(),new Promise((function(t,r){e.result.subscribe({onCompleted:function(){return t()},onError:function(e){return r(e)}})}))},e.prototype.isOpen=function(){return this._state===p.ACTIVE},e.prototype.close=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._onErrorCallback=function(e){return this._state===p.FAILED?Promise.resolve(null):(this._state=p.FAILED,this._onClose(),this._results.forEach((function(t){t.isOpen()&&t._streamObserverPromise.then((function(t){return t.onError(e)})).catch((function(e){}))})),this._connectionHolder.releaseConnection())},e.prototype._onCompleteCallback=function(e,t){this._onBookmarks(new s.Bookmarks(null==e?void 0:e.bookmark),null!=t?t:s.Bookmarks.empty(),null==e?void 0:e.db)},e}(),p={ACTIVE:{commit:function(e){return{result:v(!0,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.SUCCEEDED}},rollback:function(e){return{result:v(!1,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:p.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError,i=r.onComplete,a=r.onConnection,u=r.reactive,h=r.fetchSize,d=r.highRecordWatermark,p=r.lowRecordWatermark,v=r.preparationJob,b=null!=v?v:Promise.resolve();return y(n.getConnection().then((function(e){return b.then((function(){return e}))})).then((function(r){if(a(),null!=r)return r.run(e,t,{bookmarks:s.Bookmarks.empty(),txConfig:c.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:u,fetchSize:h,highRecordWatermark:d,lowRecordWatermark:p});throw(0,f.newError)("No connection available")})).catch((function(e){return new l.FailedObserver({error:e,onError:o})})),e,t,n,d,p)}},FAILED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:y(new l.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:r}),"COMMIT",{},t,0,0),state:p.FAILED}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:y(new l.CompletedObserver,"ROLLBACK",{},t,0,0),state:p.FAILED}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,y(new l.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,t,n,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:y(new l.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:r}),"COMMIT",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:y(new l.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:r}),"ROLLBACK",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:p.SUCCEEDED,connectionHolder:t}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,y(new l.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,t,n,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:y(new l.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:r}),"COMMIT",{},t,0,0),state:p.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:y(new l.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:p.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,y(new l.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,t,n,0,0)}}};function v(e,t,r,n,o,i,a){var u=null!=a?a:Promise.resolve(),s=t.getConnection().then((function(e){return u.then((function(){return e}))})).then((function(t){return o(),i.forEach((function(e){return e._cancel()})),Promise.all(i.map((function(e){return e.summary()}))).then((function(o){if(null!=t)return e?t.commitTransaction({beforeError:r,afterComplete:n}):t.rollbackTransaction({beforeError:r,afterComplete:n});throw(0,f.newError)("No connection available")}))})).catch((function(e){return new l.FailedObserver({error:e,onError:r})}));return new h.default(s,e?"COMMIT":"ROLLBACK",{},t,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function y(e,t,r,n,o,i){return void 0===n&&(n=u.EMPTY_CONNECTION_HOLDER),new h.default(Promise.resolve(e),t,r,new u.ReadOnlyConnectionHolder(null!=n?n:u.EMPTY_CONNECTION_HOLDER),{low:i,high:o})}t.default=d},6872:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InternalConfig=t.Config=void 0;var o=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};t.Config=o;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);t.InternalConfig=i},7857:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WRITE=t.READ=t.Driver=void 0;var a=r(9305),u=i(r(3466)),s=a.internal.constants.FETCH_ALL,c=a.driver.READ,l=a.driver.WRITE;t.READ=c,t.WRITE=l;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.rxSession=function(e){var t=void 0===e?{}:e,r=t.defaultAccessMode,n=void 0===r?l:r,o=t.bookmarks,i=t.database,a=void 0===i?"":i,s=t.fetchSize,c=t.impersonatedUser,f=t.bookmarkManager,d=t.notificationFilter,p=t.auth;return new u.default({session:this._newSession({defaultAccessMode:n,bookmarkOrBookmarks:o,database:a,impersonatedUser:c,auth:p,reactive:!1,fetchSize:h(s,this._config.fetchSize),bookmarkManager:f,notificationFilter:d,log:this._log}),config:this._config,log:this._log})},t}(a.Driver);function h(e,t){var r=parseInt(e,10);if(r>0||r===s)return r;if(0===r||r<0)throw new Error("The fetch size can only be a positive value or ".concat(s," for ALL. However fetchSize = ").concat(r));return t}t.Driver=f,t.default=f},1187:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnboundRelationship=t.Relationship=t.Node=t.Record=t.ServerInfo=t.GqlStatusObject=t.Notification=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ResultSummary=t.RxResult=t.RxManagedTransaction=t.RxTransaction=t.RxSession=t.EagerResult=t.Result=t.ManagedTransaction=t.Transaction=t.Session=t.Driver=t.temporal=t.spatial=t.graph=t.error=t.routing=t.session=t.types=t.logging=t.auth=t.isRetryableError=t.Neo4jError=t.integer=t.isUnboundRelationship=t.isRelationship=t.isPathSegment=t.isPath=t.isNode=t.isDateTime=t.isLocalDateTime=t.isDate=t.isTime=t.isLocalTime=t.isDuration=t.isPoint=t.isInt=t.int=t.hasReachableServer=t.driver=t.authTokenManagers=void 0,t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.bookmarkManager=t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=t.Integer=t.Point=t.PathSegment=t.Path=void 0;var a=r(7857);Object.defineProperty(t,"Driver",{enumerable:!0,get:function(){return a.Driver}});var u=i(r(3659)),s=r(9305);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return s.authTokenManagers}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(t,"isRetryableError",{enumerable:!0,get:function(){return s.isRetryableError}}),Object.defineProperty(t,"error",{enumerable:!0,get:function(){return s.error}}),Object.defineProperty(t,"Integer",{enumerable:!0,get:function(){return s.Integer}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return s.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return s.isNode}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return s.isPath}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return s.isPathSegment}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return s.isRelationship}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return s.isUnboundRelationship}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return s.Node}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return s.PathSegment}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return s.Relationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return s.UnboundRelationship}}),Object.defineProperty(t,"Record",{enumerable:!0,get:function(){return s.Record}}),Object.defineProperty(t,"ResultSummary",{enumerable:!0,get:function(){return s.ResultSummary}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return s.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return s.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return s.QueryStatistics}}),Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return s.Notification}}),Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return s.GqlStatusObject}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return s.ServerInfo}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return s.Result}}),Object.defineProperty(t,"EagerResult",{enumerable:!0,get:function(){return s.EagerResult}}),Object.defineProperty(t,"auth",{enumerable:!0,get:function(){return s.auth}}),Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return s.Session}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return s.Transaction}}),Object.defineProperty(t,"ManagedTransaction",{enumerable:!0,get:function(){return s.ManagedTransaction}}),Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return s.bookmarkManager}}),Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return s.routing}}),Object.defineProperty(t,"resultTransformers",{enumerable:!0,get:function(){return s.resultTransformers}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return s.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return s.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return s.notificationSeverityLevel}}),Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return s.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return s.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return s.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return s.clientCertificateProviders}});var c=r(6672),l=i(r(3466));t.RxSession=l.default;var f=i(r(5742));t.RxTransaction=f.default;var h=i(r(1530));t.RxManagedTransaction=h.default;var d=i(r(3057));t.RxResult=d.default;var p=s.internal.util,v=p.ENCRYPTION_ON,y=p.assertString,b=p.isEmptyObjectOrNull,m=s.internal.serverAddress.ServerAddress,g=s.internal.urlUtil,_="neo4j-javascript/"+u.default;function w(e,t,r){void 0===r&&(r={}),y(e,"Bolt URL");var n,o=g.parseDatabaseUrl(e),i=!1,l=!1;switch(o.scheme){case"bolt":break;case"bolt+s":l=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":l=!0,n="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":l=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=!0;break;case"neo4j+ssc":l=!0,n="TRUST_ALL_CERTIFICATES",i=!0;break;default:throw new Error("Unknown scheme: ".concat(o.scheme))}if(l){if("encrypted"in r||"trust"in r)throw new Error("Encryption/trust can only be configured either through URL or config, not both");r.encrypted=v,r.trust=n,r.clientCertificate=(0,s.resolveCertificateProvider)(r.clientCertificate)}var f=function(e){if("object"==typeof(t=e)&&null!=t&&"getToken"in t&&"handleSecurityException"in t&&"function"==typeof t.getToken&&"function"==typeof t.handleSecurityException)return e;var t,r=e;return(r=r||{}).scheme=r.scheme||"none",(0,s.staticAuthTokenManager)({authToken:r})}(t);r.userAgent=r.userAgent||_,r.boltAgent=s.internal.boltAgent.fromVersion(u.default);var h=m.fromUrl(o.hostAndPort),d={address:h,typename:i?"Routing":"Direct",routing:i};return new a.Driver(d,r,function(){if(i)return function(e,t,r,n){return new c.RoutingConnectionProvider({id:e,config:t,log:r,hostNameResolver:n,authTokenManager:f,address:h,userAgent:t.userAgent,boltAgent:t.boltAgent,routingContext:o.query})};if(!b(o.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(e,"'"));return function(e,t,r){return new c.DirectConnectionProvider({id:e,config:t,log:r,authTokenManager:f,address:h,userAgent:t.userAgent,boltAgent:t.boltAgent})}}())}function O(e,t){return n(this,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:r=w(e,{scheme:"none",principal:"",credentials:""},t),n.label=1;case 1:return n.trys.push([1,,3,5]),[4,r.getNegotiatedProtocolVersion()];case 2:return n.sent(),[2,!0];case 3:return[4,r.close()];case 4:return n.sent(),[7];case 5:return[2]}}))}))}t.driver=w,t.hasReachableServer=O;var S={console:function(e){return{level:e,logger:function(e,t){return console.log("".concat(r.g.Date.now()," ").concat(e.toUpperCase()," ").concat(t))}}}};t.logging=S;var E={Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,PathSegment:s.PathSegment,Path:s.Path,Result:s.Result,EagerResult:s.EagerResult,ResultSummary:s.ResultSummary,Record:s.Record,Point:s.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Integer:s.Integer};t.types=E;var P={READ:a.READ,WRITE:a.WRITE};t.session=P;var T={toNumber:s.toNumber,toString:s.toString,inSafeRange:s.inSafeRange};t.integer=T;var x={isPoint:s.isPoint};t.spatial=x;var C={isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime};t.temporal=C;var j={isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship};t.graph=j;var A={authTokenManagers:s.authTokenManagers,driver:w,hasReachableServer:O,int:s.int,isInt:s.isInt,isPoint:s.isPoint,isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime,isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship,integer:T,Neo4jError:s.Neo4jError,isRetryableError:s.isRetryableError,auth:s.auth,logging:S,types:E,session:P,routing:s.routing,error:s.error,graph:j,spatial:x,temporal:C,Driver:a.Driver,Session:s.Session,Transaction:s.Transaction,ManagedTransaction:s.ManagedTransaction,Result:s.Result,EagerResult:s.EagerResult,RxSession:l.default,RxTransaction:f.default,RxManagedTransaction:h.default,RxResult:d.default,ResultSummary:s.ResultSummary,Plan:s.Plan,ProfiledPlan:s.ProfiledPlan,QueryStatistics:s.QueryStatistics,Notification:s.Notification,GqlStatusObject:s.GqlStatusObject,ServerInfo:s.ServerInfo,Record:s.Record,Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,Path:s.Path,PathSegment:s.PathSegment,Point:s.Point,Integer:s.Integer,Duration:s.Duration,LocalTime:s.LocalTime,Time:s.Time,Date:s.Date,LocalDateTime:s.LocalDateTime,DateTime:s.DateTime,bookmarkManager:s.bookmarkManager,resultTransformers:s.resultTransformers,notificationCategory:s.notificationCategory,notificationSeverityLevel:s.notificationSeverityLevel,notificationFilterDisabledCategory:s.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:s.notificationFilterMinimumSeverityLevel,clientCertificateProviders:s.clientCertificateProviders};t.default=A},9823:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(9305),o=r(8813),i=r(9419),a=(n.internal.logger.Logger,n.error.SERVICE_UNAVAILABLE),u=function(){function e(e){var t=void 0===e?{}:e,r=t.maxRetryTimeout,n=void 0===r?3e4:r,o=t.initialDelay,i=void 0===o?1e3:o,a=t.delayMultiplier,u=void 0===a?2:a,c=t.delayJitter,l=void 0===c?.2:c,f=t.logger,h=void 0===f?null:f;this._maxRetryTimeout=s(n,3e4),this._initialDelay=s(i,1e3),this._delayMultiplier=s(u,2),this._delayJitter=s(l,.2),this._logger=h}return e.prototype.retry=function(e){var t=this;return e.pipe((0,i.retryWhen)((function(e){var r=[],u=Date.now(),s=1,c=t._initialDelay;return e.pipe((0,i.mergeMap)((function(e){if(!(0,n.isRetriableError)(e))return(0,o.throwError)((function(){return e}));if(r.push(e),s>=2&&Date.now()-u>=t._maxRetryTimeout){var l=(0,n.newError)("Failed after retried for ".concat(s," times in ").concat(t._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return l.seenErrors=r,(0,o.throwError)((function(){return l}))}var f=t._computeNextDelay(c);return c*=t._delayMultiplier,s++,t._logger&&t._logger.warn("Transaction failed and will be retried in ".concat(f)),(0,o.of)(1).pipe((0,i.delay)(f))})))})))},e.prototype._computeNextDelay=function(e){var t=e*this._delayJitter;return e-t+2*t*Math.random()},e}();function s(e,t){return e||0===e?e:t}t.default=u},3057:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(9305),a=r(8813),u=r(9419),s=function(){function e(e,t){var r=e.pipe((0,u.publishReplay)(1),(0,u.refCount)());this._result=r,this._keys=r.pipe((0,u.mergeMap)((function(e){return(0,a.from)(e.keys())})),(0,u.publishReplay)(1),(0,u.refCount)()),this._records=void 0,this._controls=new c,this._summary=new a.ReplaySubject,this._state=t||0}return e.prototype.keys=function(){return this._keys},e.prototype.records=function(){var e=this,t=this._result.pipe((0,u.mergeMap)((function(t){return new a.Observable((function(r){return e._startStreaming({result:t,recordsObserver:r})}))})));return t.push=function(){return e._push()},t},e.prototype.consume=function(){var e=this;return this._result.pipe((0,u.mergeMap)((function(t){return new a.Observable((function(r){return e._startStreaming({result:t,summaryObserver:r})}))})))},e.prototype.pause=function(){this._controls.pause()},e.prototype.resume=function(){return this._controls.resume()},e.prototype.push=function(){return this._controls.push()},e.prototype._startStreaming=function(e){var t=void 0===e?{}:e,r=t.result,n=t.recordsObserver,o=void 0===n?null:n,a=t.summaryObserver,u=void 0===a?null:a,s=[];return u&&s.push(this._summary.subscribe(u)),this._state<1?(this._state=1,this._setupRecordsStream(r),o?s.push(this._records.subscribe(o)):r._cancel(),s.push({unsubscribe:function(){r._cancel&&r._cancel()}})):o&&o.error((0,i.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){s.forEach((function(e){return e.unsubscribe()}))}},e.prototype._toObservable=function(){var t=this;return new a.Observable((function(r){t._result.subscribe({complete:function(){return r.complete()},next:function(n){return r.next(new e(function(e){return new a.Observable((function(t){t.next(e),t.complete()}))}(n)),t._state)},error:function(e){return r.error(e)}})}))},e.prototype._setupRecordsStream=function(e){var t=this;return this._records||(this._records=function(e,t,r){var i=this;void 0===r&&(r=new c);var u=new a.Subject,s=function(a){return n(i,void 0,void 0,(function(){var n,i,c,l;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),r.pushing=!0,[4,a];case 1:return n=o.sent(),i=n.done,c=n.value,i?(u.complete(),t.complete()):(u.next(c),r.paused||s(e.next()).catch((function(){}))),[3,4];case 2:return l=o.sent(),u.error(l),t.error(l),[3,4];case 3:return r.pushing=!1,[7];case 4:return[2]}}))}))};function l(t){return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,s(e.next(t))];case 1:return r.sent(),[2]}}))}))}return r.pusher=l,l(),u}(e[Symbol.asyncIterator](),{complete:function(){return n(t,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return this._state=2,r=(t=this._summary).next,[4,e.summary()];case 1:return r.apply(t,[n.sent()]),this._summary.complete(),[2]}}))}))},error:function(e){t._state=2,t._summary.error(e)}},this._controls)),this._records},e}();t.default=s;var c=function(){function e(e){void 0===e&&(e=function(){return n(t,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))});var t=this;this._paused=!1,this._pushing=!1,this._push=e}return e.prototype.pause=function(){this._paused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pushing",{get:function(){return this._pushing},set:function(e){this._pushing=e},enumerable:!1,configurable:!0}),e.prototype.resume=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=this._paused,this._paused=!1,!e||this._pushing?[3,2]:[4,this._push()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.push=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,e.sent()]}}))}))},Object.defineProperty(e.prototype,"pusher",{get:function(){return this._push},set:function(e){this._push=e},enumerable:!1,configurable:!0}),e}()},3466:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(8813),i=r(9419),a=n(r(3057)),u=r(9305),s=n(r(5742)),c=n(r(1530)),l=n(r(9823)),f=u.internal.constants,h=f.ACCESS_MODE_READ,d=f.ACCESS_MODE_WRITE,p=f.TELEMETRY_APIS,v=u.internal.txConfig.TxConfig,y=function(){function e(e){var t=void 0===e?{}:e,r=t.session,n=t.config,o=t.log;this._session=r,this._retryLogic=function(e){var t=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new l.default({maxRetryTimeout:t})}(n),this._log=o}return e.prototype.run=function(e,t,r){var n=this;return new a.default(new o.Observable((function(o){try{o.next(n._session.run(e,t,r)),o.complete()}catch(e){o.error(e)}return function(){}})))},e.prototype.beginTransaction=function(e){return this._beginTransaction(this._session._mode,e,{api:p.UNMANAGED_TRANSACTION})},e.prototype.readTransaction=function(e,t){return this._runTransaction(h,e,t)},e.prototype.writeTransaction=function(e,t){return this._runTransaction(d,e,t)},e.prototype.executeRead=function(e,t){return this._executeInTransaction(h,e,t)},e.prototype.executeWrite=function(e,t){return this._executeInTransaction(d,e,t)},e.prototype._executeInTransaction=function(e,t,r){return this._runTransaction(e,t,r,(function(e){return new c.default({run:e.run.bind(e)})}))},e.prototype.close=function(){var e=this;return new o.Observable((function(t){e._session.close().then((function(){t.complete()})).catch((function(e){return t.error(e)}))}))},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},e.prototype._beginTransaction=function(e,t,r){var n=this,i=v.empty();return t&&(i=new v(t,this._log)),new o.Observable((function(t){try{n._session._beginTransaction(e,i,r).then((function(e){t.next(new s.default(e)),t.complete()})).catch((function(e){return t.error(e)}))}catch(e){t.error(e)}return function(){}}))},e.prototype._runTransaction=function(e,t,r,n){var a=this;void 0===n&&(n=function(e){return e});var u=v.empty();r&&(u=new v(r));var s={apiTelemetryConfig:{api:p.MANAGED_TRANSACTION,onTelemetrySuccess:function(){s.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,o.of)(1).pipe((0,i.mergeMap)((function(){return a._beginTransaction(e,u,s.apiTelemetryConfig)})),(0,i.mergeMap)((function(e){return(0,o.defer)((function(){try{return t(n(e))}catch(e){return(0,o.throwError)((function(){return e}))}})).pipe((0,i.catchError)((function(t){return e.rollback().pipe((0,i.concatWith)((0,o.throwError)((function(){return t}))))})),(0,i.concatWith)(e.commit()))}))))},e}();t.default=y},1530:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(r(3057)),n(r(5742));var o=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=o},5742:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(8813),i=n(r(3057)),a=(n(r(9305)),function(){function e(e){this._txc=e}return e.prototype.run=function(e,t){var r=this;return new i.default(new o.Observable((function(n){try{n.next(r._txc.run(e,t)),n.complete()}catch(e){n.error(e)}return function(){}})))},e.prototype.commit=function(){var e=this;return new o.Observable((function(t){e._txc.commit().then((function(){t.complete()})).catch((function(e){return t.error(e)}))}))},e.prototype.rollback=function(){var e=this;return new o.Observable((function(t){e._txc.rollback().then((function(){t.complete()})).catch((function(e){return t.error(e)}))}))},e.prototype.isOpen=function(){return this._txc.isOpen()},e.prototype.close=function(){var e=this;return new o.Observable((function(t){e._txc.close().then((function(){t.complete()})).catch((function(e){return t.error(e)}))}))},e}());t.default=a},3659:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default="5.26.0"},481:(e,t,r)=>{e.exports=r(137)},137:e=>{e.exports=class{constructor(e,t,r,n){let o;if("object"==typeof e){let i=e;e=i.k_p,t=i.k_i,r=i.k_d,n=i.dt,o=i.i_max}this.k_p="number"==typeof e?e:1,this.k_i=t||0,this.k_d=r||0,this.dt=n||0,this.i_max=o||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let t=this.dt;if(!t){let e=Date.now();t=0===this.lastTime?0:(e-this.lastTime)/1e3,this.lastTime=e}"number"==typeof t&&0!==t||(t=1);let r=this.target-this.currentValue;if(this.sumError=this.sumError+r*t,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let e=this.sumError>0?1:-1;this.sumError=e*this.i_max}let n=(r-this.lastError)/t;return this.lastError=r,this.k_p*r+this.k_i*this.sumError+this.k_d*n}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},1803:e=>{var t,r,n=document.attachEvent,o=!1;function i(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,o=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,o.style.width=r.offsetWidth+1+"px",o.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight}function a(e){var t=this;i(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=u((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}if(!n){var u=(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return r(e)}),s=(t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return t(e)}),c=!1,l="",f="animationstart",h="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(c=!0),!1===c)for(var v=0;v<h.length;v++)if(void 0!==p.style[h[v]+"AnimationName"]){l="-"+h[v].toLowerCase()+"-",f=d[v],c=!0;break}var y="resizeanim",b="@"+l+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",m=l+"animation: 1ms "+y+"; "}e.exports=function(e,t){return n?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!o){var e=(b||"")+".resize-triggers { "+(m||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),t.appendChild(r),o=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),i(e),e.addEventListener("scroll",a,!0),f&&e.__resizeTriggers__.addEventListener(f,(function(t){t.animationName==y&&i(e)}))),e.__resizeListeners__.push(t)),function(){n?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",a),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}},8813:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var i=r(4662);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return i.Observable}});var a=r(8918);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var u=r(3327);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return u.observable}});var s=r(3110);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var c=r(2483);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return c.Subject}});var l=r(1637);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var f=r(1242);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var h=r(95);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return h.AsyncSubject}});var d=r(3692);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var p=r(7961);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var v=r(2886);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return v.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return v.queueScheduler}});var y=r(3862);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return y.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return y.animationFrameScheduler}});var b=r(182);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return b.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return b.VirtualAction}});var m=r(8986);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var g=r(8014);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return g.Subscription}});var _=r(5);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var w=r(7800);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var O=r(2706);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return O.pipe}});var S=r(1342);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return S.noop}});var E=r(6640);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return E.identity}});var P=r(1751);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return P.isObservable}});var T=r(6894);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return T.lastValueFrom}});var x=r(9060);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return x.firstValueFrom}});var C=r(7057);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return C.ArgumentOutOfRangeError}});var j=r(2823);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return j.EmptyError}});var A=r(1759);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return A.NotFoundError}});var k=r(9686);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return k.ObjectUnsubscribedError}});var R=r(1505);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var I=r(1554);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return I.TimeoutError}});var M=r(5788);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return M.UnsubscriptionError}});var N=r(2713);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return N.bindCallback}});var D=r(8561);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return D.bindNodeCallback}});var L=r(3247);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var U=r(3865);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return U.concat}});var F=r(7579);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return F.connectable}});var B=r(9353);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return B.defer}});var z=r(8616);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return z.empty}});var V=r(9105);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return V.forkJoin}});var W=r(4917);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return W.from}});var G=r(5337);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return G.fromEvent}});var q=r(347);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return q.fromEventPattern}});var H=r(7610);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return H.generate}});var Y=r(4209);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return Y.iif}});var X=r(6472);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return X.interval}});var Z=r(2833);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return Z.merge}});var K=r(8655);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return K.never}});var $=r(1004);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return $.of}});var Q=r(6102);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return Q.onErrorResumeNext}});var J=r(7740);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return J.pairs}});var ee=r(1699);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var te=r(5584);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return te.race}});var re=r(9376);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return re.range}});var ne=r(1103);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return ne.throwError}});var oe=r(4092);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return oe.timer}});var ie=r(7853);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return ie.using}});var ae=r(7286);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ae.zip}});var ue=r(1656);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return ue.scheduled}});var se=r(8616);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return se.EMPTY}});var ce=r(8655);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return ce.NEVER}}),o(r(6038),t);var le=r(3413);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return le.config}});var fe=r(3146);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return fe.audit}});var he=r(3231);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return he.auditTime}});var de=r(8015);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return de.buffer}});var pe=r(5572);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return pe.bufferCount}});var ve=r(7210);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return ve.bufferTime}});var ye=r(8995);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return ye.bufferToggle}});var be=r(8831);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return be.bufferWhen}});var me=r(8118);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return me.catchError}});var ge=r(6625);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return ge.combineAll}});var _e=r(6728);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return _e.combineLatestAll}});var we=r(8239);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return we.combineLatestWith}});var Oe=r(8158);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return Oe.concatAll}});var Se=r(9135);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return Se.concatMap}});var Ee=r(9938);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return Ee.concatMapTo}});var Pe=r(9669);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return Pe.concatWith}});var Te=r(1483);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return Te.connect}});var xe=r(1038);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return xe.count}});var Ce=r(4461);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Ce.debounce}});var je=r(8079);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return je.debounceTime}});var Ae=r(378);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return Ae.defaultIfEmpty}});var ke=r(914);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return ke.delay}});var Re=r(8766);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return Re.delayWhen}});var Ie=r(7441);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return Ie.dematerialize}});var Me=r(5365);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return Me.distinct}});var Ne=r(8937);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return Ne.distinctUntilChanged}});var De=r(9612);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return De.distinctUntilKeyChanged}});var Le=r(4520);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return Le.elementAt}});var Ue=r(1776);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return Ue.endWith}});var Fe=r(5510);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Fe.every}});var Be=r(1551);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return Be.exhaust}});var ze=r(2752);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return ze.exhaustAll}});var Ve=r(4753);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return Ve.exhaustMap}});var We=r(7661);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return We.expand}});var Ge=r(783);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return Ge.filter}});var qe=r(3555);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return qe.finalize}});var He=r(7714);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return He.find}});var Ye=r(9756);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return Ye.findIndex}});var Xe=r(8275);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return Xe.first}});var Ze=r(7815);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Ze.groupBy}});var Ke=r(490);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return Ke.ignoreElements}});var $e=r(9356);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return $e.isEmpty}});var Qe=r(8669);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return Qe.last}});var Je=r(5471);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Je.map}});var et=r(3218);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return et.mapTo}});var tt=r(2360);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return tt.materialize}});var rt=r(1415);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return rt.max}});var nt=r(7302);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return nt.mergeAll}});var ot=r(6902);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return ot.flatMap}});var it=r(983);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return it.mergeMap}});var at=r(6586);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return at.mergeMapTo}});var ut=r(4408);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return ut.mergeScan}});var st=r(8253);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return st.mergeWith}});var ct=r(2669);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return ct.min}});var lt=r(9247);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return lt.multicast}});var ft=r(5184);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ft.observeOn}});var ht=r(1226);Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return ht.onErrorResumeNextWith}});var dt=r(1518);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return dt.pairwise}});var pt=r(4912);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return pt.pluck}});var vt=r(766);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return vt.publish}});var yt=r(7220);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return yt.publishBehavior}});var bt=r(6106);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return bt.publishLast}});var mt=r(8157);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return mt.publishReplay}});var gt=r(5600);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return gt.raceWith}});var _t=r(9139);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return _t.reduce}});var wt=r(8522);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return wt.repeat}});var Ot=r(6566);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return Ot.repeatWhen}});var St=r(7835);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return St.retry}});var Et=r(9843);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return Et.retryWhen}});var Pt=r(7561);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Pt.refCount}});var Tt=r(1731);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Tt.sample}});var xt=r(6086);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return xt.sampleTime}});var Ct=r(8624);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Ct.scan}});var jt=r(582);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return jt.sequenceEqual}});var At=r(8977);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return At.share}});var kt=r(3133);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return kt.shareReplay}});var Rt=r(3001);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return Rt.single}});var It=r(3982);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return It.skip}});var Mt=r(9098);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Mt.skipLast}});var Nt=r(7372);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Nt.skipUntil}});var Dt=r(4721);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Dt.skipWhile}});var Lt=r(269);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Lt.startWith}});var Ut=r(8960);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ut.subscribeOn}});var Ft=r(8774);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Ft.switchAll}});var Bt=r(3879);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Bt.switchMap}});var zt=r(3274);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return zt.switchMapTo}});var Vt=r(8712);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Vt.switchScan}});var Wt=r(846);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Wt.take}});var Gt=r(8330);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return Gt.takeLast}});var qt=r(4780);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return qt.takeUntil}});var Ht=r(2129);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return Ht.takeWhile}});var Yt=r(3964);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Yt.tap}});var Xt=r(8941);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return Xt.throttle}});var Zt=r(7640);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return Zt.throttleTime}});var Kt=r(4869);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Kt.throwIfEmpty}});var $t=r(489);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return $t.timeInterval}});var Qt=r(1554);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Qt.timeout}});var Jt=r(4862);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Jt.timeoutWith}});var er=r(6505);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return er.timestamp}});var tr=r(2343);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return tr.toArray}});var rr=r(5477);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return rr.window}});var nr=r(6746);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return nr.windowCount}});var or=r(8208);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return or.windowTime}});var ir=r(6637);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return ir.windowToggle}});var ar=r(1141);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return ar.windowWhen}});var ur=r(5442);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return ur.withLatestFrom}});var sr=r(187);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return sr.zipAll}});var cr=r(8538);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return cr.zipWith}})},95:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return o(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t._hasValue,o=t._value,i=t.thrownError,a=t.isStopped,u=t._isComplete;r?e.error(i):(a||u)&&(n&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,r=t._hasValue,n=t._value;t._isComplete||(this._isComplete=!0,r&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},t}(r(2483).Subject);t.AsyncSubject=i},1637:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var i=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r(2483).Subject);t.BehaviorSubject=i},7800:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var n,o=r(8616),i=r(1004),a=r(1103),u=r(1018);(n=t.NotificationKind||(t.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var s=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){return c(this,e)},e.prototype.do=function(e,t,r){var n=this,o=n.kind,i=n.value,a=n.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==t?void 0:t(a):null==r?void 0:r()},e.prototype.accept=function(e,t,r){var n;return u.isFunction(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,n=e.error,u="N"===t?i.of(r):"E"===t?a.throwError((function(){return n})):"C"===t?o.EMPTY:0;if(!u)throw new TypeError("Unexpected notification kind "+t);return u},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function c(e,t){var r,n,o,i=e,a=i.kind,u=i.value,s=i.error;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(r=t.next)||void 0===r||r.call(t,u):"E"===a?null===(n=t.error)||void 0===n||n.call(t,s):null===(o=t.complete)||void 0===o||o.call(t)}t.Notification=s,t.observeNotification=c},9052:(e,t)=>{function r(e,t,r){return{kind:e,value:t,error:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=r("C",void 0,void 0),t.errorNotification=function(e){return r("E",void 0,e)},t.nextNotification=function(e){return r("N",e,void 0)},t.createNotification=r},4662:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var n=r(5),o=r(8014),i=r(3327),a=r(2706),u=r(3413),s=r(1018),c=r(9223),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i,a=this,u=(i=e)&&i instanceof n.Subscriber||function(e){return e&&s.isFunction(e.next)&&s.isFunction(e.error)&&s.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new n.SafeSubscriber(e,t,r);return c.errorContext((function(){var e=a,t=e.operator,r=e.source;u.add(t?t.call(u,r):r?a._subscribe(u):a._trySubscribe(u))})),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=f(t))((function(t,o){var i=new n.SafeSubscriber({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:u.config.Promise)&&void 0!==t?t:Promise}t.Observable=l},1242:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var i=r(2483),a=r(9568),u=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=a.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=r,o._timestampProvider=n,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,r),o}return o(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,o=r._buffer,i=r._infiniteTimeWindow,a=r._timestampProvider,u=r._windowTime;n||(o.push(t),!i&&o.push(a.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),o=0;o<n.length&&!e.closed;o+=r?1:2)e.next(n[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){for(var a=r.now(),u=0,s=1;s<n.length&&n[s]<=a;s+=2)u=s;u&&n.splice(0,u+1)}},t}(i.Subject);t.ReplaySubject=u},8986:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var n=r(9568),o=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=n.dateTimestampProvider.now,e}();t.Scheduler=o},2483:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var a=r(4662),u=r(8014),s=r(9686),c=r(7479),l=r(9223),f=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=i(t.currentObservers),a=o.next();!a.done;a=o.next())a.value.next(e)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;l.errorContext((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,o=r.isStopped,i=r.observers;return n||o?u.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new u.Subscription((function(){t.currentObservers=null,c.arrRemove(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,o=t.isStopped;r?e.error(n):o&&e.complete()},t.prototype.asObservable=function(){var e=new a.Observable;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(a.Observable);t.Subject=f;var h=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return o(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:u.EMPTY_SUBSCRIPTION},t}(f);t.AnonymousSubject=h},5:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var i=r(1018),a=r(8014),u=r(3413),s=r(7315),c=r(1342),l=r(9052),f=r(9155),h=r(9223),d=function(e){function r(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,a.isSubscription(r)&&r.add(n)):n.destination=t.EMPTY_OBSERVER,n}return o(r,e),r.create=function(e,t,r){return new b(e,t,r)},r.prototype.next=function(e){this.isStopped?g(l.nextNotification(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?g(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?g(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(a.Subscription);t.Subscriber=d;var p=Function.prototype.bind;function v(e,t){return p.call(e,t)}var y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),b=function(e){function t(t,r,n){var o,a,s=e.call(this)||this;return i.isFunction(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&u.config.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&v(t.next,a),error:t.error&&v(t.error,a),complete:t.complete&&v(t.complete,a)}):o=t,s.destination=new y(o),s}return o(t,e),t}(d);function m(e){u.config.useDeprecatedSynchronousErrorHandling?h.captureError(e):s.reportUnhandledError(e)}function g(e,t){var r=u.config.onStoppedNotification;r&&f.timeoutProvider.setTimeout((function(){return r(e,t)}))}t.SafeSubscriber=b,t.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}},8014:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var a=r(1018),u=r(5788),s=r(7479),c=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,s,c;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var h=n(f),d=h.next();!d.done;d=h.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}else f.remove(this);var p=this.initialTeardown;if(a.isFunction(p))try{p()}catch(e){c=e instanceof u.UnsubscriptionError?e.errors:[e]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var y=n(v),b=y.next();!b.done;b=y.next()){var m=b.value;try{l(m)}catch(e){c=null!=c?c:[],e instanceof u.UnsubscriptionError?c=i(i([],o(c)),o(e.errors)):c.push(e)}}}catch(e){r={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(r)throw r.error}}}if(c)throw new u.UnsubscriptionError(c)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&s.arrRemove(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&s.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){a.isFunction(e)?e():e.unsubscribe()}t.Subscription=c,t.EMPTY_SUBSCRIPTION=c.EMPTY,t.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&a.isFunction(e.remove)&&a.isFunction(e.add)&&a.isFunction(e.unsubscribe)}},3413:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9060:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var n=r(2823),o=r(5);t.firstValueFrom=function(e,t){var r="object"==typeof t;return new Promise((function(i,a){var u=new o.SafeSubscriber({next:function(e){i(e),u.unsubscribe()},error:a,complete:function(){r?i(t.defaultValue):a(new n.EmptyError)}});e.subscribe(u)}))}},6894:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var n=r(2823);t.lastValueFrom=function(e,t){var r="object"==typeof t;return new Promise((function(o,i){var a,u=!1;e.subscribe({next:function(e){a=e,u=!0},error:i,complete:function(){u?o(a):r?o(t.defaultValue):i(new n.EmptyError)}})}))}},8918:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var i=r(4662),a=r(8014),u=r(7561),s=r(3111),c=r(7843),l=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,c.hasLift(t)&&(n.lift=t.lift),n}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new a.Subscription;var r=this.getSubject();t.add(this.source.subscribe(s.createOperatorSubscriber(r,void 0,(function(){e._teardown(),r.complete()}),(function(t){e._teardown(),r.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return u.refCount()(this)},t}(i.Observable);t.ConnectableObservable=l},2713:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var n=r(1439);t.bindCallback=function(e,t,r){return n.bindCallbackInternals(!1,e,t,r)}},1439:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var i=r(8613),a=r(4662),u=r(8960),s=r(1251),c=r(5184),l=r(95);t.bindCallbackInternals=function e(t,r,f,h){if(f){if(!i.isScheduler(f))return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(t,r,h).apply(this,n).pipe(s.mapOneOrManyArgs(f))};h=f}return h?function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(t,r).apply(this,n).pipe(u.subscribeOn(h),c.observeOn(h))}:function(){for(var e=this,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var s=new l.AsyncSubject,c=!0;return new a.Observable((function(a){var u=s.subscribe(a);if(c){c=!1;var l=!1,f=!1;r.apply(e,o(o([],n(i)),[function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t){var n=e.shift();if(null!=n)return void s.error(n)}s.next(1<e.length?e:e[0]),f=!0,l&&s.complete()}])),f&&s.complete(),l=!0}return u}))}}},8561:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var n=r(1439);t.bindNodeCallback=function(e,t,r){return n.bindCallbackInternals(!0,e,t,r)}},3247:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var n=r(4662),o=r(7360),i=r(4917),a=r(6640),u=r(1251),s=r(1107),c=r(6013),l=r(3111),f=r(7110);function h(e,t,r){return void 0===r&&(r=a.identity),function(n){d(t,(function(){for(var o=e.length,a=new Array(o),u=o,s=o,c=function(o){d(t,(function(){var c=i.from(e[o],t),f=!1;c.subscribe(l.createOperatorSubscriber(n,(function(e){a[o]=e,f||(f=!0,s--),s||n.next(r(a.slice()))}),(function(){--u||n.complete()})))}),n)},f=0;f<o;f++)c(f)}),n)}}function d(e,t,r){e?f.executeSchedule(r,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popScheduler(e),l=s.popResultSelector(e),f=o.argsArgArrayOrObject(e),d=f.args,p=f.keys;if(0===d.length)return i.from([],r);var v=new n.Observable(h(d,r,p?function(e){return c.createObject(p,e)}:a.identity));return l?v.pipe(u.mapOneOrManyArgs(l)):v},t.combineLatestInit=h},3865:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var n=r(8158),o=r(1107),i=r(4917);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.concatAll()(i.from(e,o.popScheduler(e)))}},7579:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var n=r(2483),o=r(4662),i=r(9353),a={connector:function(){return new n.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=a);var r=null,n=t.connector,u=t.resetOnDisconnect,s=void 0===u||u,c=n(),l=new o.Observable((function(e){return c.subscribe(e)}));return l.connect=function(){return r&&!r.closed||(r=i.defer((function(){return e})).subscribe(c),s&&r.add((function(){return c=n()}))),r},l}},9353:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var n=r(4662),o=r(9445);t.defer=function(e){return new n.Observable((function(t){o.innerFrom(e()).subscribe(t)}))}},3110:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var n=r(4662),o=r(4746),i=r(9507);function a(e){return new n.Observable((function(t){var r=e||o.performanceTimestampProvider,n=r.now(),a=0,u=function(){t.closed||(a=i.animationFrameProvider.requestAnimationFrame((function(o){a=0;var i=r.now();t.next({timestamp:e?i:o,elapsed:i-n}),u()})))};return u(),function(){a&&i.animationFrameProvider.cancelAnimationFrame(a)}}))}t.animationFrames=function(e){return e?a(e):u};var u=a()},8616:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var n=r(4662);t.EMPTY=new n.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new n.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},9105:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var n=r(4662),o=r(7360),i=r(9445),a=r(1107),u=r(3111),s=r(1251),c=r(6013);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popResultSelector(e),l=o.argsArgArrayOrObject(e),f=l.args,h=l.keys,d=new n.Observable((function(e){var t=f.length;if(t)for(var r=new Array(t),n=t,o=t,a=function(t){var a=!1;i.innerFrom(f[t]).subscribe(u.createOperatorSubscriber(e,(function(e){a||(a=!0,o--),r[t]=e}),(function(){return n--}),void 0,(function(){n&&a||(o||e.next(h?c.createObject(h,r):r),e.complete())})))},s=0;s<t;s++)a(s);else e.complete()}));return r?d.pipe(s.mapOneOrManyArgs(r)):d}},4917:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var n=r(1656),o=r(9445);t.from=function(e,t){return t?n.scheduled(e,t):o.innerFrom(e)}},5337:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var o=r(9445),i=r(4662),a=r(983),u=r(8046),s=r(1018),c=r(1251),l=["addListener","removeListener"],f=["addEventListener","removeEventListener"],h=["on","off"];function d(e,t){return function(r){return function(n){return e[r](t,n)}}}t.fromEvent=function e(t,r,p,v){if(s.isFunction(p)&&(v=p,p=void 0),v)return e(t,r,p).pipe(c.mapOneOrManyArgs(v));var y=n(function(e){return s.isFunction(e.addEventListener)&&s.isFunction(e.removeEventListener)}(t)?f.map((function(e){return function(n){return t[e](r,n,p)}})):function(e){return s.isFunction(e.addListener)&&s.isFunction(e.removeListener)}(t)?l.map(d(t,r)):function(e){return s.isFunction(e.on)&&s.isFunction(e.off)}(t)?h.map(d(t,r)):[],2),b=y[0],m=y[1];if(!b&&u.isArrayLike(t))return a.mergeMap((function(t){return e(t,r,p)}))(o.innerFrom(t));if(!b)throw new TypeError("Invalid event target");return new i.Observable((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return b(t),function(){return m(t)}}))}},347:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var n=r(4662),o=r(1018),i=r(1251);t.fromEventPattern=function e(t,r,a){return a?e(t,r).pipe(i.mapOneOrManyArgs(a)):new n.Observable((function(e){var n=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1===t.length?t[0]:t)},i=t(n);return o.isFunction(r)?function(){return r(n,i)}:void 0}))}},6824:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var n=r(4662);t.fromSubscribable=function(e){return new n.Observable((function(t){return e.subscribe(t)}))}},7610:function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var o=r(6640),i=r(8613),a=r(9353),u=r(8808);t.generate=function(e,t,r,s,c){var l,f,h,d;function p(){var e;return n(this,(function(n){switch(n.label){case 0:e=d,n.label=1;case 1:return t&&!t(e)?[3,4]:[4,h(e)];case 2:n.sent(),n.label=3;case 3:return e=r(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(d=(l=e).initialState,t=l.condition,r=l.iterate,f=l.resultSelector,h=void 0===f?o.identity:f,c=l.scheduler):(d=e,!s||i.isScheduler(s)?(h=o.identity,c=s):h=s),a.defer(c?function(){return u.scheduleIterable(p(),c)}:p)}},4209:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var n=r(9353);t.iif=function(e,t,r){return n.defer((function(){return e()?t:r}))}},9445:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof a?a(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var u=r(8046),s=r(7629),c=r(4662),l=r(1116),f=r(1358),h=r(7614),d=r(6368),p=r(9137),v=r(1018),y=r(7315),b=r(3327);function m(e){return new c.Observable((function(t){var r=e[b.observable]();if(v.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function g(e){return new c.Observable((function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()}))}function _(e){return new c.Observable((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y.reportUnhandledError)}))}function w(e){return new c.Observable((function(t){var r,n;try{for(var o=a(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()}))}function O(e){return new c.Observable((function(t){(function(e,t){var r,a,u,s;return n(this,void 0,void 0,(function(){var n,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),r=i(e),o.label=1;case 1:return[4,r.next()];case 2:if((a=o.sent()).done)return[3,4];if(n=a.value,t.next(n),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=o.sent(),u={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),a&&!a.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function S(e){return O(p.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return m(e);if(u.isArrayLike(e))return g(e);if(s.isPromise(e))return _(e);if(f.isAsyncIterable(e))return O(e);if(d.isIterable(e))return w(e);if(p.isReadableStreamLike(e))return S(e)}throw h.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=g,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=O,t.fromReadableStreamLike=S},6472:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var n=r(7961),o=r(4092);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.asyncScheduler),e<0&&(e=0),o.timer(e,e,t)}},2833:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var n=r(7302),o=r(9445),i=r(8616),a=r(1107),u=r(4917);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popScheduler(e),s=a.popNumber(e,1/0),c=e;return c.length?1===c.length?o.innerFrom(c[0]):n.mergeAll(s)(u.from(c,r)):i.EMPTY}},8655:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var n=r(4662),o=r(1342);t.NEVER=new n.Observable(o.noop),t.never=function(){return t.NEVER}},1004:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var n=r(1107),o=r(4917);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.popScheduler(e);return o.from(e,r)}},6102:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var n=r(4662),o=r(8535),i=r(3111),a=r(1342),u=r(9445);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.argsOrArgArray(e);return new n.Observable((function(e){var t=0,n=function(){if(t<r.length){var o=void 0;try{o=u.innerFrom(r[t++])}catch(e){return void n()}var s=new i.OperatorSubscriber(e,void 0,a.noop,a.noop);o.subscribe(s),s.add(n)}else e.complete()};n()}))}},7740:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var n=r(4917);t.pairs=function(e,t){return n.from(Object.entries(e),t)}},1699:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(245),o=r(783),i=r(9445);t.partition=function(e,t,r){return[o.filter(t,r)(i.innerFrom(e)),o.filter(n.not(t,r))(i.innerFrom(e))]}},5584:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var n=r(4662),o=r(9445),i=r(8535),a=r(3111);function u(e){return function(t){for(var r=[],n=function(n){r.push(o.innerFrom(e[n]).subscribe(a.createOperatorSubscriber(t,(function(e){if(r){for(var o=0;o<r.length;o++)o!==n&&r[o].unsubscribe();r=null}t.next(e)}))))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new n.Observable(u(e))},t.raceInit=u},9376:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var n=r(4662),o=r(8616);t.range=function(e,t,r){if(null==t&&(t=e,e=0),t<=0)return o.EMPTY;var i=t+e;return new n.Observable(r?function(t){var n=e;return r.schedule((function(){n<i?(t.next(n++),this.schedule()):t.complete()}))}:function(t){for(var r=e;r<i&&!t.closed;)t.next(r++);t.complete()})}},1103:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var n=r(4662),o=r(1018);t.throwError=function(e,t){var r=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(r())};return new n.Observable(t?function(e){return t.schedule(i,0,e)}:i)}},4092:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var n=r(4662),o=r(7961),i=r(8613),a=r(1074);t.timer=function(e,t,r){void 0===e&&(e=0),void 0===r&&(r=o.async);var u=-1;return null!=t&&(i.isScheduler(t)?r=t:u=t),new n.Observable((function(t){var n=a.isValidDate(e)?+e-r.now():e;n<0&&(n=0);var o=0;return r.schedule((function(){t.closed||(t.next(o++),0<=u?this.schedule(void 0,u):t.complete())}),n)}))}},7853:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var n=r(4662),o=r(9445),i=r(8616);t.using=function(e,t){return new n.Observable((function(r){var n=e(),a=t(n);return(a?o.innerFrom(a):i.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}}))}},7286:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=r(4662),a=r(9445),u=r(8535),s=r(8616),c=r(3111),l=r(1107);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popResultSelector(e),f=u.argsOrArgArray(e);return f.length?new i.Observable((function(e){var t=f.map((function(){return[]})),i=f.map((function(){return!1}));e.add((function(){t=i=null}));for(var u=function(u){a.innerFrom(f[u]).subscribe(c.createOperatorSubscriber(e,(function(a){if(t[u].push(a),t.every((function(e){return e.length}))){var s=t.map((function(e){return e.shift()}));e.next(r?r.apply(void 0,o([],n(s))):s),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[u]=!0,!t[u].length&&e.complete()})))},s=0;!e.closed&&s<f.length;s++)u(s);return function(){t=i=null}})):s.EMPTY}},3111:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var i=r(5);t.createOperatorSubscriber=function(e,t,r,n,o){return new a(e,t,r,n,o)};var a=function(e){function t(t,r,n,o,i,a){var u=e.call(this,t)||this;return u.onFinalize=i,u.shouldUnsubscribe=a,u._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return o(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(i.Subscriber);t.OperatorSubscriber=a},3146:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var n=r(7843),o=r(9445),i=r(3111);t.audit=function(e){return n.operate((function(t,r){var n=!1,a=null,u=null,s=!1,c=function(){if(null==u||u.unsubscribe(),u=null,n){n=!1;var e=a;a=null,r.next(e)}s&&r.complete()},l=function(){u=null,s&&r.complete()};t.subscribe(i.createOperatorSubscriber(r,(function(t){n=!0,a=t,u||o.innerFrom(e(t)).subscribe(u=i.createOperatorSubscriber(r,c,l))}),(function(){s=!0,(!n||!u||u.closed)&&r.complete()})))}))}},3231:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var n=r(7961),o=r(3146),i=r(4092);t.auditTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),o.audit((function(){return i.timer(e,t)}))}},8015:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var n=r(7843),o=r(1342),i=r(3111),a=r(9445);t.buffer=function(e){return n.operate((function(t,r){var n=[];return t.subscribe(i.createOperatorSubscriber(r,(function(e){return n.push(e)}),(function(){r.next(n),r.complete()}))),a.innerFrom(e).subscribe(i.createOperatorSubscriber(r,(function(){var e=n;n=[],r.next(e)}),o.noop)),function(){n=null}}))}},5572:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var o=r(7843),i=r(3111),a=r(7479);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,o.operate((function(r,o){var u=[],s=0;r.subscribe(i.createOperatorSubscriber(o,(function(r){var i,c,l,f,h=null;s++%t==0&&u.push([]);try{for(var d=n(u),p=d.next();!p.done;p=d.next())(b=p.value).push(r),e<=b.length&&(h=null!=h?h:[]).push(b)}catch(e){i={error:e}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(i)throw i.error}}if(h)try{for(var v=n(h),y=v.next();!y.done;y=v.next()){var b=y.value;a.arrRemove(u,b),o.next(b)}}catch(e){l={error:e}}finally{try{y&&!y.done&&(f=v.return)&&f.call(v)}finally{if(l)throw l.error}}}),(function(){var e,t;try{for(var r=n(u),i=r.next();!i.done;i=r.next()){var a=i.value;o.next(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){u=null})))}))}},7210:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var o=r(8014),i=r(7843),a=r(3111),u=r(7479),s=r(7961),c=r(1107),l=r(7110);t.bufferTime=function(e){for(var t,r,f=[],h=1;h<arguments.length;h++)f[h-1]=arguments[h];var d=null!==(t=c.popScheduler(f))&&void 0!==t?t:s.asyncScheduler,p=null!==(r=f[0])&&void 0!==r?r:null,v=f[1]||1/0;return i.operate((function(t,r){var i=[],s=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),u.arrRemove(i,e),r.next(t),s&&f()},f=function(){if(i){var t=new o.Subscription;r.add(t);var n={buffer:[],subs:t};i.push(n),l.executeSchedule(t,d,(function(){return c(n)}),e)}};null!==p&&p>=0?l.executeSchedule(r,d,f,p,!0):s=!0,f();var h=a.createOperatorSubscriber(r,(function(e){var t,r,o=i.slice();try{for(var a=n(o),u=a.next();!u.done;u=a.next()){var s=u.value,l=s.buffer;l.push(e),v<=l.length&&c(s)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}),(function(){for(;null==i?void 0:i.length;)r.next(i.shift().buffer);null==h||h.unsubscribe(),r.complete(),r.unsubscribe()}),void 0,(function(){return i=null}));t.subscribe(h)}))}},8995:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var o=r(8014),i=r(7843),a=r(9445),u=r(3111),s=r(1342),c=r(7479);t.bufferToggle=function(e,t){return i.operate((function(r,i){var l=[];a.innerFrom(e).subscribe(u.createOperatorSubscriber(i,(function(e){var r=[];l.push(r);var n=new o.Subscription;n.add(a.innerFrom(t(e)).subscribe(u.createOperatorSubscriber(i,(function(){c.arrRemove(l,r),i.next(r),n.unsubscribe()}),s.noop)))}),s.noop)),r.subscribe(u.createOperatorSubscriber(i,(function(e){var t,r;try{for(var o=n(l),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}),(function(){for(;l.length>0;)i.next(l.shift());i.complete()})))}))}},8831:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var n=r(7843),o=r(1342),i=r(3111),a=r(9445);t.bufferWhen=function(e){return n.operate((function(t,r){var n=null,u=null,s=function(){null==u||u.unsubscribe();var t=n;n=[],t&&r.next(t),a.innerFrom(e()).subscribe(u=i.createOperatorSubscriber(r,s,o.noop))};s(),t.subscribe(i.createOperatorSubscriber(r,(function(e){return null==n?void 0:n.push(e)}),(function(){n&&r.next(n),r.complete()}),void 0,(function(){return n=u=null})))}))}},8118:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var n=r(9445),o=r(3111),i=r(7843);t.catchError=function e(t){return i.operate((function(r,i){var a,u=null,s=!1;u=r.subscribe(o.createOperatorSubscriber(i,void 0,void 0,(function(o){a=n.innerFrom(t(o,e(t)(r))),u?(u.unsubscribe(),u=null,a.subscribe(i)):s=!0}))),s&&(u.unsubscribe(),u=null,a.subscribe(i))}))}},6625:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var n=r(6728);t.combineAll=n.combineLatestAll},2551:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var i=r(3247),a=r(7843),u=r(8535),s=r(1251),c=r(2706),l=r(1107);t.combineLatest=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var f=l.popResultSelector(t);return f?c.pipe(e.apply(void 0,o([],n(t))),s.mapOneOrManyArgs(f)):a.operate((function(e,r){i.combineLatestInit(o([e],n(u.argsOrArgArray(t))))(r)}))}},6728:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var n=r(3247),o=r(3638);t.combineLatestAll=function(e){return o.joinAllInternals(n.combineLatest,e)}},8239:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var i=r(2551);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.combineLatest.apply(void 0,o([],n(e)))}},7601:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var i=r(7843),a=r(8158),u=r(1107),s=r(4917);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popScheduler(e);return i.operate((function(t,i){a.concatAll()(s.from(o([t],n(e)),r)).subscribe(i)}))}},8158:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var n=r(7302);t.concatAll=function(){return n.mergeAll(1)}},9135:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var n=r(983),o=r(1018);t.concatMap=function(e,t){return o.isFunction(t)?n.mergeMap(e,t,1):n.mergeMap(e,1)}},9938:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var n=r(9135),o=r(1018);t.concatMapTo=function(e,t){return o.isFunction(t)?n.concatMap((function(){return e}),t):n.concatMap((function(){return e}))}},9669:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var i=r(7601);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concat.apply(void 0,o([],n(e)))}},1483:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var n=r(2483),o=r(9445),i=r(7843),a=r(6824),u={connector:function(){return new n.Subject}};t.connect=function(e,t){void 0===t&&(t=u);var r=t.connector;return i.operate((function(t,n){var i=r();o.innerFrom(e(a.fromSubscribable(i))).subscribe(n),n.add(t.subscribe(i))}))}},1038:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var n=r(9139);t.count=function(e){return n.reduce((function(t,r,n){return!e||e(r,n)?t+1:t}),0)}},4461:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var n=r(7843),o=r(1342),i=r(3111),a=r(9445);t.debounce=function(e){return n.operate((function(t,r){var n=!1,u=null,s=null,c=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var e=u;u=null,r.next(e)}};t.subscribe(i.createOperatorSubscriber(r,(function(t){null==s||s.unsubscribe(),n=!0,u=t,s=i.createOperatorSubscriber(r,c,o.noop),a.innerFrom(e(t)).subscribe(s)}),(function(){c(),r.complete()}),void 0,(function(){u=s=null})))}))}},8079:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var n=r(7961),o=r(7843),i=r(3111);t.debounceTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),o.operate((function(r,n){var o=null,a=null,u=null,s=function(){if(o){o.unsubscribe(),o=null;var e=a;a=null,n.next(e)}};function c(){var r=u+e,i=t.now();if(i<r)return o=this.schedule(void 0,r-i),void n.add(o);s()}r.subscribe(i.createOperatorSubscriber(n,(function(r){a=r,u=t.now(),o||(o=t.schedule(c,e),n.add(o))}),(function(){s(),n.complete()}),void 0,(function(){a=o=null})))}))}},378:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var n=r(7843),o=r(3111);t.defaultIfEmpty=function(e){return n.operate((function(t,r){var n=!1;t.subscribe(o.createOperatorSubscriber(r,(function(e){n=!0,r.next(e)}),(function(){n||r.next(e),r.complete()})))}))}},914:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var n=r(7961),o=r(8766),i=r(4092);t.delay=function(e,t){void 0===t&&(t=n.asyncScheduler);var r=i.timer(e,t);return o.delayWhen((function(){return r}))}},8766:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var n=r(3865),o=r(846),i=r(490),a=r(3218),u=r(983),s=r(9445);t.delayWhen=function e(t,r){return r?function(a){return n.concat(r.pipe(o.take(1),i.ignoreElements()),a.pipe(e(t)))}:u.mergeMap((function(e,r){return s.innerFrom(t(e,r)).pipe(o.take(1),a.mapTo(e))}))}},7441:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var n=r(7800),o=r(7843),i=r(3111);t.dematerialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){return n.observeNotification(e,t)})))}))}},5365:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var n=r(7843),o=r(3111),i=r(1342),a=r(9445);t.distinct=function(e,t){return n.operate((function(r,n){var u=new Set;r.subscribe(o.createOperatorSubscriber(n,(function(t){var r=e?e(t):t;u.has(r)||(u.add(r),n.next(t))}))),t&&a.innerFrom(t).subscribe(o.createOperatorSubscriber(n,(function(){return u.clear()}),i.noop))}))}},8937:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var n=r(6640),o=r(7843),i=r(3111);function a(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=n.identity),e=null!=e?e:a,o.operate((function(r,n){var o,a=!0;r.subscribe(i.createOperatorSubscriber(n,(function(r){var i=t(r);!a&&e(o,i)||(a=!1,o=i,n.next(r))})))}))}},9612:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var n=r(8937);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}},4520:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var n=r(7057),o=r(783),i=r(4869),a=r(378),u=r(846);t.elementAt=function(e,t){if(e<0)throw new n.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(s){return s.pipe(o.filter((function(t,r){return r===e})),u.take(1),r?a.defaultIfEmpty(t):i.throwIfEmpty((function(){return new n.ArgumentOutOfRangeError})))}}},1776:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var i=r(3865),a=r(1004);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return i.concat(t,a.of.apply(void 0,o([],n(e))))}}},5510:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var n=r(7843),o=r(3111);t.every=function(e,t){return n.operate((function(r,n){var i=0;r.subscribe(o.createOperatorSubscriber(n,(function(o){e.call(t,o,i++,r)||(n.next(!1),n.complete())}),(function(){n.next(!0),n.complete()})))}))}},1551:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var n=r(2752);t.exhaust=n.exhaustAll},2752:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var n=r(4753),o=r(6640);t.exhaustAll=function(){return n.exhaustMap(o.identity)}},4753:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var n=r(5471),o=r(9445),i=r(7843),a=r(3111);t.exhaustMap=function e(t,r){return r?function(i){return i.pipe(e((function(e,i){return o.innerFrom(t(e,i)).pipe(n.map((function(t,n){return r(e,t,i,n)})))})))}:i.operate((function(e,r){var n=0,i=null,u=!1;e.subscribe(a.createOperatorSubscriber(r,(function(e){i||(i=a.createOperatorSubscriber(r,void 0,(function(){i=null,u&&r.complete()})),o.innerFrom(t(e,n++)).subscribe(i))}),(function(){u=!0,!i&&r.complete()})))}))}},7661:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var n=r(7843),o=r(1983);t.expand=function(e,t,r){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,n.operate((function(n,i){return o.mergeInternals(n,i,e,t,void 0,!0,r)}))}},783:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var n=r(7843),o=r(3111);t.filter=function(e,t){return n.operate((function(r,n){var i=0;r.subscribe(o.createOperatorSubscriber(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}},3555:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var n=r(7843);t.finalize=function(e){return n.operate((function(t,r){try{t.subscribe(r)}finally{r.add(e)}}))}},7714:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var n=r(7843),o=r(3111);function i(e,t,r){var n="index"===r;return function(r,i){var a=0;r.subscribe(o.createOperatorSubscriber(i,(function(o){var u=a++;e.call(t,o,u,r)&&(i.next(n?u:o),i.complete())}),(function(){i.next(n?-1:void 0),i.complete()})))}}t.find=function(e,t){return n.operate(i(e,t,"value"))},t.createFind=i},9756:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var n=r(7843),o=r(7714);t.findIndex=function(e,t){return n.operate(o.createFind(e,t,"index"))}},8275:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var n=r(2823),o=r(783),i=r(846),a=r(378),u=r(4869),s=r(6640);t.first=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,r){return e(t,r,c)})):s.identity,i.take(1),r?a.defaultIfEmpty(t):u.throwIfEmpty((function(){return new n.EmptyError})))}}},6902:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var n=r(983);t.flatMap=n.mergeMap},7815:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var n=r(4662),o=r(9445),i=r(2483),a=r(7843),u=r(3111);t.groupBy=function(e,t,r,s){return a.operate((function(a,c){var l;t&&"function"!=typeof t?(r=t.duration,l=t.element,s=t.connector):l=t;var f=new Map,h=function(e){f.forEach(e),e(c)},d=function(e){return h((function(t){return t.error(e)}))},p=0,v=!1,y=new u.OperatorSubscriber(c,(function(t){try{var a=e(t),h=f.get(a);if(!h){f.set(a,h=s?s():new i.Subject);var b=(g=a,_=h,(w=new n.Observable((function(e){p++;var t=_.subscribe(e);return function(){t.unsubscribe(),0==--p&&v&&y.unsubscribe()}}))).key=g,w);if(c.next(b),r){var m=u.createOperatorSubscriber(h,(function(){h.complete(),null==m||m.unsubscribe()}),void 0,void 0,(function(){return f.delete(a)}));y.add(o.innerFrom(r(b)).subscribe(m))}}h.next(l?l(t):t)}catch(e){d(e)}var g,_,w}),(function(){return h((function(e){return e.complete()}))}),d,(function(){return f.clear()}),(function(){return v=!0,0===p}));a.subscribe(y)}))}},490:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var n=r(7843),o=r(3111),i=r(1342);t.ignoreElements=function(){return n.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,i.noop))}))}},9356:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var n=r(7843),o=r(3111);t.isEmpty=function(){return n.operate((function(e,t){e.subscribe(o.createOperatorSubscriber(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}},3638:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var n=r(6640),o=r(1251),i=r(2706),a=r(983),u=r(2343);t.joinAllInternals=function(e,t){return i.pipe(u.toArray(),a.mergeMap((function(t){return e(t)})),t?o.mapOneOrManyArgs(t):n.identity)}},8669:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var n=r(2823),o=r(783),i=r(8330),a=r(4869),u=r(378),s=r(6640);t.last=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?o.filter((function(t,r){return e(t,r,c)})):s.identity,i.takeLast(1),r?u.defaultIfEmpty(t):a.throwIfEmpty((function(){return new n.EmptyError})))}}},5471:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var n=r(7843),o=r(3111);t.map=function(e,t){return n.operate((function(r,n){var i=0;r.subscribe(o.createOperatorSubscriber(n,(function(r){n.next(e.call(t,r,i++))})))}))}},3218:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var n=r(5471);t.mapTo=function(e){return n.map((function(){return e}))}},2360:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var n=r(7800),o=r(7843),i=r(3111);t.materialize=function(){return o.operate((function(e,t){e.subscribe(i.createOperatorSubscriber(t,(function(e){t.next(n.Notification.createNext(e))}),(function(){t.next(n.Notification.createComplete()),t.complete()}),(function(e){t.next(n.Notification.createError(e)),t.complete()})))}))}},1415:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var n=r(9139),o=r(1018);t.max=function(e){return n.reduce(o.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}},361:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var i=r(7843),a=r(8535),u=r(7302),s=r(1107),c=r(4917);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popScheduler(e),l=s.popNumber(e,1/0);return e=a.argsOrArgArray(e),i.operate((function(t,i){u.mergeAll(l)(c.from(o([t],n(e)),r)).subscribe(i)}))}},7302:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var n=r(983),o=r(6640);t.mergeAll=function(e){return void 0===e&&(e=1/0),n.mergeMap(o.identity,e)}},1983:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var n=r(9445),o=r(7110),i=r(3111);t.mergeInternals=function(e,t,r,a,u,s,c,l){var f=[],h=0,d=0,p=!1,v=function(){!p||f.length||h||t.complete()},y=function(e){return h<a?b(e):f.push(e)},b=function(e){s&&t.next(e),h++;var l=!1;n.innerFrom(r(e,d++)).subscribe(i.createOperatorSubscriber(t,(function(e){null==u||u(e),s?y(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{h--;for(var e=function(){var e=f.shift();c?o.executeSchedule(t,c,(function(){return b(e)})):b(e)};f.length&&h<a;)e();v()}catch(e){t.error(e)}})))};return e.subscribe(i.createOperatorSubscriber(t,y,(function(){p=!0,v()}))),function(){null==l||l()}}},983:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var n=r(5471),o=r(9445),i=r(7843),a=r(1983),u=r(1018);t.mergeMap=function e(t,r,s){return void 0===s&&(s=1/0),u.isFunction(r)?e((function(e,i){return n.map((function(t,n){return r(e,t,i,n)}))(o.innerFrom(t(e,i)))}),s):("number"==typeof r&&(s=r),i.operate((function(e,r){return a.mergeInternals(e,r,t,s)})))}},6586:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var n=r(983),o=r(1018);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=1/0),o.isFunction(t)?n.mergeMap((function(){return e}),t,r):("number"==typeof t&&(r=t),n.mergeMap((function(){return e}),r))}},4408:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var n=r(7843),o=r(1983);t.mergeScan=function(e,t,r){return void 0===r&&(r=1/0),n.operate((function(n,i){var a=t;return o.mergeInternals(n,i,(function(t,r){return e(a,t,r)}),r,(function(e){a=e}),!1,void 0,(function(){return a=null}))}))}},8253:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var i=r(361);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.merge.apply(void 0,o([],n(e)))}},2669:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var n=r(9139),o=r(1018);t.min=function(e){return n.reduce(o.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t})}},9247:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var n=r(8918),o=r(1018),i=r(1483);t.multicast=function(e,t){var r=o.isFunction(e)?e:function(){return e};return o.isFunction(t)?i.connect(t,{connector:r}):function(e){return new n.ConnectableObservable(e,r)}}},5184:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var n=r(7110),o=r(7843),i=r(3111);t.observeOn=function(e,t){return void 0===t&&(t=0),o.operate((function(r,o){r.subscribe(i.createOperatorSubscriber(o,(function(r){return n.executeSchedule(o,e,(function(){return o.next(r)}),t)}),(function(){return n.executeSchedule(o,e,(function(){return o.complete()}),t)}),(function(r){return n.executeSchedule(o,e,(function(){return o.error(r)}),t)})))}))}},1226:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var i=r(8535),a=r(6102);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.argsOrArgArray(e);return function(e){return a.onErrorResumeNext.apply(void 0,o([e],n(r)))}}t.onErrorResumeNextWith=u,t.onErrorResumeNext=u},1518:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var n=r(7843),o=r(3111);t.pairwise=function(){return n.operate((function(e,t){var r,n=!1;e.subscribe(o.createOperatorSubscriber(t,(function(e){var o=r;r=e,n&&t.next([o,e]),n=!0})))}))}},2171:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(245),o=r(783);t.partition=function(e,t){return function(r){return[o.filter(e,t)(r),o.filter(n.not(e,t))(r)]}}},4912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var n=r(5471);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return n.map((function(t){for(var n=t,o=0;o<r;o++){var i=null==n?void 0:n[e[o]];if(void 0===i)return;n=i}return n}))}},766:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var n=r(2483),o=r(9247),i=r(1483);t.publish=function(e){return e?function(t){return i.connect(e)(t)}:function(e){return o.multicast(new n.Subject)(e)}}},7220:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var n=r(1637),o=r(8918);t.publishBehavior=function(e){return function(t){var r=new n.BehaviorSubject(e);return new o.ConnectableObservable(t,(function(){return r}))}}},6106:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var n=r(95),o=r(8918);t.publishLast=function(){return function(e){var t=new n.AsyncSubject;return new o.ConnectableObservable(e,(function(){return t}))}}},8157:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var n=r(1242),o=r(9247),i=r(1018);t.publishReplay=function(e,t,r,a){r&&!i.isFunction(r)&&(a=r);var u=i.isFunction(r)?r:void 0;return function(r){return o.multicast(new n.ReplaySubject(e,t,a),u)(r)}}},4440:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var i=r(8535),a=r(5600);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.raceWith.apply(void 0,o([],n(i.argsOrArgArray(e))))}},5600:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var i=r(5584),a=r(7843),u=r(6640);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?a.operate((function(t,r){i.raceInit(o([t],n(e)))(r)})):u.identity}},9139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var n=r(6384),o=r(7843);t.reduce=function(e,t){return o.operate(n.scanInternals(e,t,arguments.length>=2,!1,!0))}},7561:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var n=r(7843),o=r(3111);t.refCount=function(){return n.operate((function(e,t){var r=null;e._refCount++;var n=o.createOperatorSubscriber(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var n=e._connection,o=r;r=null,!n||o&&n!==o||n.unsubscribe(),t.unsubscribe()}}));e.subscribe(n),n.closed||(r=e.connect())}))}},8522:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var n=r(8616),o=r(7843),i=r(3111),a=r(9445),u=r(4092);t.repeat=function(e){var t,r,s=1/0;return null!=e&&("object"==typeof e?(t=e.count,s=void 0===t?1/0:t,r=e.delay):s=e),s<=0?function(){return n.EMPTY}:o.operate((function(e,t){var n,o=0,c=function(){if(null==n||n.unsubscribe(),n=null,null!=r){var e="number"==typeof r?u.timer(r):a.innerFrom(r(o)),s=i.createOperatorSubscriber(t,(function(){s.unsubscribe(),l()}));e.subscribe(s)}else l()},l=function(){var r=!1;n=e.subscribe(i.createOperatorSubscriber(t,void 0,(function(){++o<s?n?c():r=!0:t.complete()}))),r&&c()};l()}))}},6566:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var n=r(9445),o=r(2483),i=r(7843),a=r(3111);t.repeatWhen=function(e){return i.operate((function(t,r){var i,u,s=!1,c=!1,l=!1,f=function(){return l&&c&&(r.complete(),!0)},h=function(){l=!1,i=t.subscribe(a.createOperatorSubscriber(r,void 0,(function(){l=!0,!f()&&(u||(u=new o.Subject,n.innerFrom(e(u)).subscribe(a.createOperatorSubscriber(r,(function(){i?h():s=!0}),(function(){c=!0,f()})))),u).next()}))),s&&(i.unsubscribe(),i=null,s=!1,h())};h()}))}},7835:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var n=r(7843),o=r(3111),i=r(6640),a=r(4092),u=r(9445);t.retry=function(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"==typeof e?e:{count:e}).count,s=void 0===r?1/0:r,c=t.delay,l=t.resetOnSuccess,f=void 0!==l&&l;return s<=0?i.identity:n.operate((function(e,t){var r,n=0,i=function(){var l=!1;r=e.subscribe(o.createOperatorSubscriber(t,(function(e){f&&(n=0),t.next(e)}),void 0,(function(e){if(n++<s){var f=function(){r?(r.unsubscribe(),r=null,i()):l=!0};if(null!=c){var h="number"==typeof c?a.timer(c):u.innerFrom(c(e,n)),d=o.createOperatorSubscriber(t,(function(){d.unsubscribe(),f()}),(function(){t.complete()}));h.subscribe(d)}else f()}else t.error(e)}))),l&&(r.unsubscribe(),r=null,i())};i()}))}},9843:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var n=r(9445),o=r(2483),i=r(7843),a=r(3111);t.retryWhen=function(e){return i.operate((function(t,r){var i,u,s=!1,c=function(){i=t.subscribe(a.createOperatorSubscriber(r,void 0,void 0,(function(t){u||(u=new o.Subject,n.innerFrom(e(u)).subscribe(a.createOperatorSubscriber(r,(function(){return i?c():s=!0})))),u&&u.next(t)}))),s&&(i.unsubscribe(),i=null,s=!1,c())};c()}))}},1731:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var n=r(9445),o=r(7843),i=r(1342),a=r(3111);t.sample=function(e){return o.operate((function(t,r){var o=!1,u=null;t.subscribe(a.createOperatorSubscriber(r,(function(e){o=!0,u=e}))),n.innerFrom(e).subscribe(a.createOperatorSubscriber(r,(function(){if(o){o=!1;var e=u;u=null,r.next(e)}}),i.noop))}))}},6086:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var n=r(7961),o=r(1731),i=r(6472);t.sampleTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),o.sample(i.interval(e,t))}},8624:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var n=r(7843),o=r(6384);t.scan=function(e,t){return n.operate(o.scanInternals(e,t,arguments.length>=2,!0))}},6384:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var n=r(3111);t.scanInternals=function(e,t,r,o,i){return function(a,u){var s=r,c=t,l=0;a.subscribe(n.createOperatorSubscriber(u,(function(t){var r=l++;c=s?e(c,t,r):(s=!0,t),o&&u.next(c)}),i&&function(){s&&u.next(c),u.complete()}))}}},582:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var n=r(7843),o=r(3111),i=r(9445);t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),n.operate((function(r,n){var a={buffer:[],complete:!1},u={buffer:[],complete:!1},s=function(e){n.next(e),n.complete()},c=function(e,r){var i=o.createOperatorSubscriber(n,(function(n){var o=r.buffer,i=r.complete;0===o.length?i?s(!1):e.buffer.push(n):!t(n,o.shift())&&s(!1)}),(function(){e.complete=!0;var t=r.complete,n=r.buffer;t&&s(0===n.length),null==i||i.unsubscribe()}));return i};r.subscribe(c(a,u)),i.innerFrom(e).subscribe(c(u,a))}))}},8977:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var i=r(9445),a=r(2483),u=r(5),s=r(7843);function c(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(!0!==t){if(!1!==t){var s=new u.SafeSubscriber({next:function(){s.unsubscribe(),e()}});return i.innerFrom(t.apply(void 0,o([],n(r)))).subscribe(s)}}else e()}t.share=function(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new a.Subject}:t,n=e.resetOnError,o=void 0===n||n,l=e.resetOnComplete,f=void 0===l||l,h=e.resetOnRefCountZero,d=void 0===h||h;return function(e){var t,n,a,l=0,h=!1,p=!1,v=function(){null==n||n.unsubscribe(),n=void 0},y=function(){v(),t=a=void 0,h=p=!1},b=function(){var e=t;y(),null==e||e.unsubscribe()};return s.operate((function(e,s){l++,p||h||v();var m=a=null!=a?a:r();s.add((function(){0!=--l||p||h||(n=c(b,d))})),m.subscribe(s),!t&&l>0&&(t=new u.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){p=!0,v(),n=c(y,o,e),m.error(e)},complete:function(){h=!0,v(),n=c(y,f),m.complete()}}),i.innerFrom(e).subscribe(t))}))(e)}}},3133:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var n=r(1242),o=r(8977);t.shareReplay=function(e,t,r){var i,a,u,s,c=!1;return e&&"object"==typeof e?(i=e.bufferSize,s=void 0===i?1/0:i,a=e.windowTime,t=void 0===a?1/0:a,c=void 0!==(u=e.refCount)&&u,r=e.scheduler):s=null!=e?e:1/0,o.share({connector:function(){return new n.ReplaySubject(s,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},3001:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var n=r(2823),o=r(1505),i=r(1759),a=r(7843),u=r(3111);t.single=function(e){return a.operate((function(t,r){var a,s=!1,c=!1,l=0;t.subscribe(u.createOperatorSubscriber(r,(function(n){c=!0,e&&!e(n,l++,t)||(s&&r.error(new o.SequenceError("Too many matching values")),s=!0,a=n)}),(function(){s?(r.next(a),r.complete()):r.error(c?new i.NotFoundError("No matching values"):new n.EmptyError)})))}))}},3982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var n=r(783);t.skip=function(e){return n.filter((function(t,r){return e<=r}))}},9098:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var n=r(6640),o=r(7843),i=r(3111);t.skipLast=function(e){return e<=0?n.identity:o.operate((function(t,r){var n=new Array(e),o=0;return t.subscribe(i.createOperatorSubscriber(r,(function(t){var i=o++;if(i<e)n[i]=t;else{var a=i%e,u=n[a];n[a]=t,r.next(u)}}))),function(){n=null}}))}},7372:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var n=r(7843),o=r(3111),i=r(9445),a=r(1342);t.skipUntil=function(e){return n.operate((function(t,r){var n=!1,u=o.createOperatorSubscriber(r,(function(){null==u||u.unsubscribe(),n=!0}),a.noop);i.innerFrom(e).subscribe(u),t.subscribe(o.createOperatorSubscriber(r,(function(e){return n&&r.next(e)})))}))}},4721:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var n=r(7843),o=r(3111);t.skipWhile=function(e){return n.operate((function(t,r){var n=!1,i=0;t.subscribe(o.createOperatorSubscriber(r,(function(t){return(n||(n=!e(t,i++)))&&r.next(t)})))}))}},269:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var n=r(3865),o=r(1107),i=r(7843);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.popScheduler(e);return i.operate((function(t,o){(r?n.concat(e,t,r):n.concat(e,t)).subscribe(o)}))}},8960:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var n=r(7843);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.operate((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}},8774:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var n=r(3879),o=r(6640);t.switchAll=function(){return n.switchMap(o.identity)}},3879:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var n=r(9445),o=r(7843),i=r(3111);t.switchMap=function(e,t){return o.operate((function(r,o){var a=null,u=0,s=!1,c=function(){return s&&!a&&o.complete()};r.subscribe(i.createOperatorSubscriber(o,(function(r){null==a||a.unsubscribe();var s=0,l=u++;n.innerFrom(e(r,l)).subscribe(a=i.createOperatorSubscriber(o,(function(e){return o.next(t?t(r,e,l,s++):e)}),(function(){a=null,c()})))}),(function(){s=!0,c()})))}))}},3274:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var n=r(3879),o=r(1018);t.switchMapTo=function(e,t){return o.isFunction(t)?n.switchMap((function(){return e}),t):n.switchMap((function(){return e}))}},8712:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var n=r(3879),o=r(7843);t.switchScan=function(e,t){return o.operate((function(r,o){var i=t;return n.switchMap((function(t,r){return e(i,t,r)}),(function(e,t){return i=t,t}))(r).subscribe(o),function(){i=null}}))}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var n=r(8616),o=r(7843),i=r(3111);t.take=function(e){return e<=0?function(){return n.EMPTY}:o.operate((function(t,r){var n=0;t.subscribe(i.createOperatorSubscriber(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}},8330:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var o=r(8616),i=r(7843),a=r(3111);t.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate((function(t,r){var o=[];t.subscribe(a.createOperatorSubscriber(r,(function(t){o.push(t),e<o.length&&o.shift()}),(function(){var e,t;try{for(var i=n(o),a=i.next();!a.done;a=i.next()){var u=a.value;r.next(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}r.complete()}),void 0,(function(){o=null})))}))}},4780:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var n=r(7843),o=r(3111),i=r(9445),a=r(1342);t.takeUntil=function(e){return n.operate((function(t,r){i.innerFrom(e).subscribe(o.createOperatorSubscriber(r,(function(){return r.complete()}),a.noop)),!r.closed&&t.subscribe(r)}))}},2129:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var n=r(7843),o=r(3111);t.takeWhile=function(e,t){return void 0===t&&(t=!1),n.operate((function(r,n){var i=0;r.subscribe(o.createOperatorSubscriber(n,(function(r){var o=e(r,i++);(o||t)&&n.next(r),!o&&n.complete()})))}))}},3964:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var n=r(1018),o=r(7843),i=r(3111),a=r(6640);t.tap=function(e,t,r){var u=n.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return u?o.operate((function(e,t){var r;null===(r=u.subscribe)||void 0===r||r.call(u);var n=!0;e.subscribe(i.createOperatorSubscriber(t,(function(e){var r;null===(r=u.next)||void 0===r||r.call(u,e),t.next(e)}),(function(){var e;n=!1,null===(e=u.complete)||void 0===e||e.call(u),t.complete()}),(function(e){var r;n=!1,null===(r=u.error)||void 0===r||r.call(u,e),t.error(e)}),(function(){var e,t;n&&(null===(e=u.unsubscribe)||void 0===e||e.call(u)),null===(t=u.finalize)||void 0===t||t.call(u)})))})):a.identity}},8941:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var n=r(7843),o=r(3111),i=r(9445);t.throttle=function(e,t){return n.operate((function(r,n){var a=null!=t?t:{},u=a.leading,s=void 0===u||u,c=a.trailing,l=void 0!==c&&c,f=!1,h=null,d=null,p=!1,v=function(){null==d||d.unsubscribe(),d=null,l&&(m(),p&&n.complete())},y=function(){d=null,p&&n.complete()},b=function(t){return d=i.innerFrom(e(t)).subscribe(o.createOperatorSubscriber(n,v,y))},m=function(){if(f){f=!1;var e=h;h=null,n.next(e),!p&&b(e)}};r.subscribe(o.createOperatorSubscriber(n,(function(e){f=!0,h=e,(!d||d.closed)&&(s?m():b(e))}),(function(){p=!0,(!(l&&f&&d)||d.closed)&&n.complete()})))}))}},7640:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var n=r(7961),o=r(8941),i=r(4092);t.throttleTime=function(e,t,r){void 0===t&&(t=n.asyncScheduler);var a=i.timer(e,t);return o.throttle((function(){return a}),r)}},4869:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var n=r(2823),o=r(7843),i=r(3111);function a(){return new n.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=a),o.operate((function(t,r){var n=!1;t.subscribe(i.createOperatorSubscriber(r,(function(e){n=!0,r.next(e)}),(function(){return n?r.complete():r.error(e())})))}))}},489:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var n=r(7961),o=r(7843),i=r(3111);t.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),o.operate((function(t,r){var n=e.now();t.subscribe(i.createOperatorSubscriber(r,(function(t){var o=e.now(),i=o-n;n=o,r.next(new a(t,i))})))}))};var a=function(e,t){this.value=e,this.interval=t};t.TimeInterval=a},1554:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var n=r(7961),o=r(1074),i=r(7843),a=r(9445),u=r(5568),s=r(3111),c=r(7110);function l(e){throw new t.TimeoutError(e)}t.TimeoutError=u.createErrorClass((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}})),t.timeout=function(e,t){var r=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,u=r.first,f=r.each,h=r.with,d=void 0===h?l:h,p=r.scheduler,v=void 0===p?null!=t?t:n.asyncScheduler:p,y=r.meta,b=void 0===y?null:y;if(null==u&&null==f)throw new TypeError("No timeout provided.");return i.operate((function(e,t){var r,n,o=null,i=0,l=function(e){n=c.executeSchedule(t,v,(function(){try{r.unsubscribe(),a.innerFrom(d({meta:b,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe(s.createOperatorSubscriber(t,(function(e){null==n||n.unsubscribe(),i++,t.next(o=e),f>0&&l(f)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),o=null}))),!i&&l(null!=u?"number"==typeof u?u:+u-v.now():f)}))}},4862:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var n=r(7961),o=r(1074),i=r(1554);t.timeoutWith=function(e,t,r){var a,u,s;if(r=null!=r?r:n.async,o.isValidDate(e)?a=e:"number"==typeof e&&(u=e),!t)throw new TypeError("No observable provided to switch to");if(s=function(){return t},null==a&&null==u)throw new TypeError("No timeout provided.");return i.timeout({first:a,each:u,scheduler:r,with:s})}},6505:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var n=r(9568),o=r(5471);t.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),o.map((function(t){return{value:t,timestamp:e.now()}}))}},2343:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var n=r(9139),o=r(7843),i=function(e,t){return e.push(t),e};t.toArray=function(){return o.operate((function(e,t){n.reduce(i,[])(e).subscribe(t)}))}},5477:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var n=r(2483),o=r(7843),i=r(3111),a=r(1342),u=r(9445);t.window=function(e){return o.operate((function(t,r){var o=new n.Subject;r.next(o.asObservable());var s=function(e){o.error(e),r.error(e)};return t.subscribe(i.createOperatorSubscriber(r,(function(e){return null==o?void 0:o.next(e)}),(function(){o.complete(),r.complete()}),s)),u.innerFrom(e).subscribe(i.createOperatorSubscriber(r,(function(){o.complete(),r.next(o=new n.Subject)}),a.noop,s)),function(){null==o||o.unsubscribe(),o=null}}))}},6746:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var o=r(2483),i=r(7843),a=r(3111);t.windowCount=function(e,t){void 0===t&&(t=0);var r=t>0?t:e;return i.operate((function(t,i){var u=[new o.Subject],s=0;i.next(u[0].asObservable()),t.subscribe(a.createOperatorSubscriber(i,(function(t){var a,c;try{for(var l=n(u),f=l.next();!f.done;f=l.next())f.value.next(t)}catch(e){a={error:e}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(a)throw a.error}}var h=s-e+1;if(h>=0&&h%r==0&&u.shift().complete(),++s%r==0){var d=new o.Subject;u.push(d),i.next(d.asObservable())}}),(function(){for(;u.length>0;)u.shift().complete();i.complete()}),(function(e){for(;u.length>0;)u.shift().error(e);i.error(e)}),(function(){u=null})))}))}},8208:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var n=r(2483),o=r(7961),i=r(8014),a=r(7843),u=r(3111),s=r(7479),c=r(1107),l=r(7110);t.windowTime=function(e){for(var t,r,f=[],h=1;h<arguments.length;h++)f[h-1]=arguments[h];var d=null!==(t=c.popScheduler(f))&&void 0!==t?t:o.asyncScheduler,p=null!==(r=f[0])&&void 0!==r?r:null,v=f[1]||1/0;return a.operate((function(t,r){var o=[],a=!1,c=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),s.arrRemove(o,e),a&&f()},f=function(){if(o){var t=new i.Subscription;r.add(t);var a=new n.Subject,u={window:a,subs:t,seen:0};o.push(u),r.next(a.asObservable()),l.executeSchedule(t,d,(function(){return c(u)}),e)}};null!==p&&p>=0?l.executeSchedule(r,d,f,p,!0):a=!0,f();var h=function(e){return o.slice().forEach(e)},y=function(e){h((function(t){var r=t.window;return e(r)})),e(r),r.unsubscribe()};return t.subscribe(u.createOperatorSubscriber(r,(function(e){h((function(t){t.window.next(e),v<=++t.seen&&c(t)}))}),(function(){return y((function(e){return e.complete()}))}),(function(e){return y((function(t){return t.error(e)}))}))),function(){o=null}}))}},6637:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var o=r(2483),i=r(8014),a=r(7843),u=r(9445),s=r(3111),c=r(1342),l=r(7479);t.windowToggle=function(e,t){return a.operate((function(r,a){var f=[],h=function(e){for(;0<f.length;)f.shift().error(e);a.error(e)};u.innerFrom(e).subscribe(s.createOperatorSubscriber(a,(function(e){var r=new o.Subject;f.push(r);var n,d=new i.Subscription;try{n=u.innerFrom(t(e))}catch(e){return void h(e)}a.next(r.asObservable()),d.add(n.subscribe(s.createOperatorSubscriber(a,(function(){l.arrRemove(f,r),r.complete(),d.unsubscribe()}),c.noop,h)))}),c.noop)),r.subscribe(s.createOperatorSubscriber(a,(function(e){var t,r,o=f.slice();try{for(var i=n(o),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),(function(){for(;0<f.length;)f.shift().complete();a.complete()}),h,(function(){for(;0<f.length;)f.shift().unsubscribe()})))}))}},1141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var n=r(2483),o=r(7843),i=r(3111),a=r(9445);t.windowWhen=function(e){return o.operate((function(t,r){var o,u,s=function(e){o.error(e),r.error(e)},c=function(){var t;null==u||u.unsubscribe(),null==o||o.complete(),o=new n.Subject,r.next(o.asObservable());try{t=a.innerFrom(e())}catch(e){return void s(e)}t.subscribe(u=i.createOperatorSubscriber(r,c,c,s))};c(),t.subscribe(i.createOperatorSubscriber(r,(function(e){return o.next(e)}),(function(){o.complete(),r.complete()}),s,(function(){null==u||u.unsubscribe(),o=null})))}))}},5442:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var i=r(7843),a=r(3111),u=r(9445),s=r(6640),c=r(1342),l=r(1107);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popResultSelector(e);return i.operate((function(t,i){for(var l=e.length,f=new Array(l),h=e.map((function(){return!1})),d=!1,p=function(t){u.innerFrom(e[t]).subscribe(a.createOperatorSubscriber(i,(function(e){f[t]=e,d||h[t]||(h[t]=!0,(d=h.every(s.identity))&&(h=null))}),c.noop))},v=0;v<l;v++)p(v);t.subscribe(a.createOperatorSubscriber(i,(function(e){if(d){var t=o([e],n(f));i.next(r?r.apply(void 0,o([],n(t))):t)}})))}))}},5918:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var i=r(7286),a=r(7843);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.operate((function(t,r){i.zip.apply(void 0,o([t],n(e))).subscribe(r)}))}},187:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var n=r(7286),o=r(3638);t.zipAll=function(e){return o.joinAllInternals(n.zip,e)}},8538:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var i=r(5918);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.zip.apply(void 0,o([],n(e)))}},6985:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var n=r(4662);t.scheduleArray=function(e,t){return new n.Observable((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}},854:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var n=r(4662),o=r(7110);t.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.Observable((function(r){o.executeSchedule(r,t,(function(){var n=e[Symbol.asyncIterator]();o.executeSchedule(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}},8808:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var n=r(4662),o=r(1964),i=r(1018),a=r(7110);t.scheduleIterable=function(e,t){return new n.Observable((function(r){var n;return a.executeSchedule(r,t,(function(){n=e[o.iterator](),a.executeSchedule(r,t,(function(){var e,t,o;try{t=(e=n.next()).value,o=e.done}catch(e){return void r.error(e)}o?r.complete():r.next(t)}),0,!0)})),function(){return i.isFunction(null==n?void 0:n.return)&&n.return()}}))}},9567:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var n=r(9445),o=r(5184),i=r(8960);t.scheduleObservable=function(e,t){return n.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},9589:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var n=r(9445),o=r(5184),i=r(8960);t.schedulePromise=function(e,t){return n.innerFrom(e).pipe(i.subscribeOn(t),o.observeOn(t))}},4953:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var n=r(854),o=r(9137);t.scheduleReadableStreamLike=function(e,t){return n.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),t)}},1656:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var n=r(9567),o=r(9589),i=r(6985),a=r(8808),u=r(854),s=r(1116),c=r(7629),l=r(8046),f=r(6368),h=r(1358),d=r(7614),p=r(9137),v=r(4953);t.scheduled=function(e,t){if(null!=e){if(s.isInteropObservable(e))return n.scheduleObservable(e,t);if(l.isArrayLike(e))return i.scheduleArray(e,t);if(c.isPromise(e))return o.schedulePromise(e,t);if(h.isAsyncIterable(e))return u.scheduleAsyncIterable(e,t);if(f.isIterable(e))return a.scheduleIterable(e,t);if(p.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,t)}throw d.createInvalidObservableTypeError(e)}},4671:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var i=function(e){function t(t,r){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(8014).Subscription);t.Action=i},2628:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var i=r(5267),a=r(9507),u=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return o(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=a.animationFrameProvider.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,r,n){var o;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var i=t.actions;null!=r&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==r&&(a.animationFrameProvider.cancelAnimationFrame(r),t._scheduled=void 0)},t}(i.AsyncAction);t.AnimationFrameAction=u},3229:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(r(5648).AsyncScheduler);t.AnimationFrameScheduler=i},5006:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var i=r(5267),a=r(6293),u=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return o(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=a.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){var o;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var i=t.actions;null!=r&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==r&&(a.immediateProvider.clearImmediate(r),t._scheduled===r&&(t._scheduled=void 0))},t}(i.AsyncAction);t.AsapAction=u},827:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(r(5648).AsyncScheduler);t.AsapScheduler=i},5267:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var i=r(4671),a=r(5649),u=r(7479),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return o(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),a.intervalProvider.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&a.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,u.arrRemove(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i.Action);t.AsyncAction=s},5648:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var i=r(8986),a=function(e){function t(t,r){void 0===r&&(r=i.Scheduler.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return o(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(i.Scheduler);t.AsyncScheduler=a},4212:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var i=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return o(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.flush(this),0)},t}(r(5267).AsyncAction);t.QueueAction=i},1293:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(5648).AsyncScheduler);t.QueueScheduler=i},182:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var i=r(5267),a=r(8014),u=function(e){function t(t,r){void 0===t&&(t=s),void 0===r&&(r=1/0);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return o(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(5648).AsyncScheduler);t.VirtualTimeScheduler=u;var s=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o.index=n,o.active=!0,o.index=t.index=n,o}return o(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,n)}return a.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var o=e.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);t.VirtualAction=s},3862:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var n=r(2628),o=r(3229);t.animationFrameScheduler=new o.AnimationFrameScheduler(n.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},9507:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var i=r(8014);t.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,n=cancelAnimationFrame,o=t.animationFrameProvider.delegate;o&&(r=o.requestAnimationFrame,n=o.cancelAnimationFrame);var a=r((function(t){n=void 0,e(t)}));return new i.Subscription((function(){return null==n?void 0:n(a)}))},requestAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.animationFrameProvider.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,o([],n(e)))},cancelAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.animationFrameProvider.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,o([],n(e)))},delegate:void 0}},3692:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var n=r(5006),o=r(827);t.asapScheduler=new o.AsapScheduler(n.AsapAction),t.asap=t.asapScheduler},7961:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var n=r(5267),o=r(5648);t.asyncScheduler=new o.AsyncScheduler(n.AsyncAction),t.async=t.asyncScheduler},9568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},6293:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var i=r(7245),a=i.Immediate.setImmediate,u=i.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.immediateProvider.delegate;return((null==i?void 0:i.setImmediate)||a).apply(void 0,o([],n(e)))},clearImmediate:function(e){var r=t.immediateProvider.delegate;return((null==r?void 0:r.clearImmediate)||u)(e)},delegate:void 0}},5649:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=t.intervalProvider.delegate;return(null==u?void 0:u.setInterval)?u.setInterval.apply(u,n([e,o],r(i))):setInterval.apply(void 0,n([e,o],r(i)))},clearInterval:function(e){var r=t.intervalProvider.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}},4746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},2886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var n=r(4212),o=r(1293);t.queueScheduler=new o.QueueScheduler(n.QueueAction),t.queue=t.queueScheduler},9155:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u=t.timeoutProvider.delegate;return(null==u?void 0:u.setTimeout)?u.setTimeout.apply(u,n([e,o],r(i))):setTimeout.apply(void 0,n([e,o],r(i)))},clearTimeout:function(e){var r=t.timeoutProvider.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}},1964:(e,t)=>{function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=r,t.iterator=r()},3327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},6038:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7057:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var n=r(5568);t.ArgumentOutOfRangeError=n.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},2823:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var n=r(5568);t.EmptyError=n.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},7245:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var r,n=1,o={};function i(e){return e in o&&(delete o[e],!0)}t.Immediate={setImmediate:function(e){var t=n++;return o[t]=!0,r||(r=Promise.resolve()),r.then((function(){return i(t)&&e()})),t},clearImmediate:function(e){i(e)}},t.TestTools={pending:function(){return Object.keys(o).length}}},1759:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var n=r(5568);t.NotFoundError=n.createErrorClass((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},9686:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var n=r(5568);t.ObjectUnsubscribedError=n.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},1505:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var n=r(5568);t.SequenceError=n.createErrorClass((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},5788:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var n=r(5568);t.UnsubscriptionError=n.createErrorClass((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},1107:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var n=r(1018),o=r(8613);function i(e){return e[e.length-1]}t.popResultSelector=function(e){return n.isFunction(i(e))?e.pop():void 0},t.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof i(e)?e.pop():t}},7360:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var r=Array.isArray,n=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((u=t)&&"object"==typeof u&&n(u)===o){var a=i(t);return{args:a.map((function(e){return t[e]})),keys:a}}}var u;return{args:e,keys:null}}},8535:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var r=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&r(e[0])?e[0]:e}},7479:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}},5568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},6013:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}},9223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var n=r(3413),o=null;t.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var r=o,i=r.errorThrown,a=r.error;if(o=null,i)throw a}}else e()},t.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},7110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=t.schedule((function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}},6640:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},8046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},1358:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var n=r(1018);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},1074:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},1018:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},1116:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var n=r(3327),o=r(1018);t.isInteropObservable=function(e){return o.isFunction(e[n.observable])}},6368:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var n=r(1964),o=r(1018);t.isIterable=function(e){return o.isFunction(null==e?void 0:e[n.iterator])}},1751:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var n=r(4662),o=r(1018);t.isObservable=function(e){return!!e&&(e instanceof n.Observable||o.isFunction(e.lift)&&o.isFunction(e.subscribe))}},7629:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var n=r(1018);t.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}},9137:function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof o?Promise.resolve(r.value.v).then(c,l):f(a[0][2],r)}catch(e){f(a[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function f(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var a=r(1018);t.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,(function(){var t,r,i;return n(this,(function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,o(t.read())];case 3:return r=n.sent(),i=r.value,r.done?[4,o(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,o(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))},t.isReadableStreamLike=function(e){return a.isFunction(null==e?void 0:e.getReader)}},8613:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var n=r(1018);t.isScheduler=function(e){return e&&n.isFunction(e.schedule)}},7843:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var n=r(1018);function o(e){return n.isFunction(null==e?void 0:e.lift)}t.hasLift=o,t.operate=function(e){return function(t){if(o(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},1251:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var i=r(5471),a=Array.isArray;t.mapOneOrManyArgs=function(e){return i.map((function(t){return function(e,t){return a(t)?e.apply(void 0,o([],n(t))):e(t)}(e,t)}))}},1342:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},245:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(r,n){return!e.call(t,r,n)}}},2706:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var n=r(6640);function o(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},7315:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var n=r(3413),o=r(9155);t.reportUnhandledError=function(e){o.timeoutProvider.setTimeout((function(){var t=n.config.onUnhandledError;if(!t)throw e;t(e)}))}},7614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},9419:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var n=r(3146);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return n.audit}});var o=r(3231);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return o.auditTime}});var i=r(8015);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return i.buffer}});var a=r(5572);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var u=r(7210);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return u.bufferTime}});var s=r(8995);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return s.bufferToggle}});var c=r(8831);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return c.bufferWhen}});var l=r(8118);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return l.catchError}});var f=r(6625);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var h=r(6728);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return h.combineLatestAll}});var d=r(2551);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return d.combineLatest}});var p=r(8239);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return p.combineLatestWith}});var v=r(7601);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return v.concat}});var y=r(8158);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return y.concatAll}});var b=r(9135);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return b.concatMap}});var m=r(9938);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var g=r(9669);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return g.concatWith}});var _=r(1483);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return _.connect}});var w=r(1038);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return w.count}});var O=r(4461);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return O.debounce}});var S=r(8079);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return S.debounceTime}});var E=r(378);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return E.defaultIfEmpty}});var P=r(914);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return P.delay}});var T=r(8766);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return T.delayWhen}});var x=r(7441);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return x.dematerialize}});var C=r(5365);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return C.distinct}});var j=r(8937);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return j.distinctUntilChanged}});var A=r(9612);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return A.distinctUntilKeyChanged}});var k=r(4520);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return k.elementAt}});var R=r(1776);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return R.endWith}});var I=r(5510);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return I.every}});var M=r(1551);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return M.exhaust}});var N=r(2752);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return N.exhaustAll}});var D=r(4753);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return D.exhaustMap}});var L=r(7661);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return L.expand}});var U=r(783);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return U.filter}});var F=r(3555);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return F.finalize}});var B=r(7714);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return B.find}});var z=r(9756);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return z.findIndex}});var V=r(8275);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return V.first}});var W=r(7815);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return W.groupBy}});var G=r(490);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return G.ignoreElements}});var q=r(9356);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return q.isEmpty}});var H=r(8669);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return H.last}});var Y=r(5471);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Y.map}});var X=r(3218);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return X.mapTo}});var Z=r(2360);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return Z.materialize}});var K=r(1415);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return K.max}});var $=r(361);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return $.merge}});var Q=r(7302);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return Q.mergeAll}});var J=r(6902);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return J.flatMap}});var ee=r(983);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var te=r(6586);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return te.mergeMapTo}});var re=r(4408);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return re.mergeScan}});var ne=r(8253);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return ne.mergeWith}});var oe=r(2669);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return oe.min}});var ie=r(9247);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return ie.multicast}});var ae=r(5184);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ae.observeOn}});var ue=r(1226);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return ue.onErrorResumeNext}});var se=r(1518);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return se.pairwise}});var ce=r(2171);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ce.partition}});var le=r(4912);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return le.pluck}});var fe=r(766);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return fe.publish}});var he=r(7220);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return he.publishBehavior}});var de=r(6106);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return de.publishLast}});var pe=r(8157);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return pe.publishReplay}});var ve=r(4440);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return ve.race}});var ye=r(5600);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return ye.raceWith}});var be=r(9139);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return be.reduce}});var me=r(8522);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return me.repeat}});var ge=r(6566);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return ge.repeatWhen}});var _e=r(7835);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return _e.retry}});var we=r(9843);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return we.retryWhen}});var Oe=r(7561);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Oe.refCount}});var Se=r(1731);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Se.sample}});var Ee=r(6086);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return Ee.sampleTime}});var Pe=r(8624);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return Pe.scan}});var Te=r(582);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Te.sequenceEqual}});var xe=r(8977);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return xe.share}});var Ce=r(3133);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return Ce.shareReplay}});var je=r(3001);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return je.single}});var Ae=r(3982);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return Ae.skip}});var ke=r(9098);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return ke.skipLast}});var Re=r(7372);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Re.skipUntil}});var Ie=r(4721);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Ie.skipWhile}});var Me=r(269);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return Me.startWith}});var Ne=r(8960);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return Ne.subscribeOn}});var De=r(8774);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return De.switchAll}});var Le=r(3879);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return Le.switchMap}});var Ue=r(3274);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Ue.switchMapTo}});var Fe=r(8712);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Fe.switchScan}});var Be=r(846);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Be.take}});var ze=r(8330);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return ze.takeLast}});var Ve=r(4780);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Ve.takeUntil}});var We=r(2129);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return We.takeWhile}});var Ge=r(3964);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Ge.tap}});var qe=r(8941);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return qe.throttle}});var He=r(7640);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return He.throttleTime}});var Ye=r(4869);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Ye.throwIfEmpty}});var Xe=r(489);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Xe.timeInterval}});var Ze=r(1554);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Ze.timeout}});var Ke=r(4862);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Ke.timeoutWith}});var $e=r(6505);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return $e.timestamp}});var Qe=r(2343);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return Qe.toArray}});var Je=r(5477);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return Je.window}});var et=r(6746);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return et.windowCount}});var tt=r(8208);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tt.windowTime}});var rt=r(6637);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return rt.windowToggle}});var nt=r(1141);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return nt.windowWhen}});var ot=r(5442);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return ot.withLatestFrom}});var it=r(5918);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return it.zip}});var at=r(187);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return at.zipAll}});var ut=r(8538);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return ut.zipWith}})},5636:(e,t,r)=>{var n=r(1048),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},9975:(e,t,r)=>{var n=r(7101),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],r=0,a=e.length;r<a;r++){var u=e[r];n(u)?t=o.call(t,i.call(u)):t.push(u)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},7101:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},8888:(e,t,r)=>{var n=r(5636).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=c,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=a(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=a(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=a(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};(()=>{o.d(i,{RL:()=>Ho,wK:()=>Bi,x_:()=>Wi,lv:()=>Vi,YQ:()=>zi,BP:()=>Jf,GZ:()=>ah,Vw:()=>Gi,Ay:()=>uh,_G:()=>ju,Wy:()=>zc,h4:()=>cf});var r=o(5250);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}var s=["onLayoutDone","onLayoutStep","onError","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],c=function(){function e(){var t,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=void 0,(r=u(r="callbacks"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.callbacks=o}var t,r;return t=e,r=[{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(e){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(e)}},{key:"onLayoutComputing",value:function(e){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(e)}},{key:"onError",value:function(e){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(e)}},{key:"onWebGLContextLost",value:function(e){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(e)}},{key:"isValidFunction",value:function(e){return void 0!==e&&"function"==typeof e}}],r&&a(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function f(e,t){function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var h=function(){function e(e){void 0===e&&(e="Atom@"+nt()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Pt.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.reportObserved=function(){Ht(this)},e.prototype.reportChanged=function(){Gt(),function(e){if(e.lowestObserverState!==Pt.STALE){e.lowestObserverState=Pt.STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===Pt.UP_TO_DATE&&(n.isTracing!==Tt.NONE&&Yt(n,e),n.onBecomeStale()),n.dependenciesState=Pt.STALE}}}(this),qt()},e.prototype.toString=function(){return this.name},e}(),d=function(e){function t(t,r,n){void 0===t&&(t="Atom@"+nt()),void 0===r&&(r=ct),void 0===n&&(n=ct);var o=e.call(this,t)||this;return o.name=t,o.onBecomeObservedHandler=r,o.onBecomeUnobservedHandler=n,o.isPendingUnobservation=!1,o.isBeingTracked=!1,o}return f(t,e),t.prototype.reportObserved=function(){return Gt(),e.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),qt(),!!jt.trackingDerivation},t.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},t}(h),p=wt("Atom",h);function v(e){return e.interceptors&&e.interceptors.length>0}function y(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),st((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function b(e,t){var r=nr();try{var n=e.interceptors;if(n)for(var o=0,i=n.length;o<i&&(it(!(t=n[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{or(r)}}function m(e){return e.changeListeners&&e.changeListeners.length>0}function g(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),st((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function _(e,t){var r=nr(),n=e.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](t);or(r)}}function w(){return!!jt.spyListeners.length}function O(e){if(jt.spyListeners.length)for(var t=jt.spyListeners,r=0,n=t.length;r<n;r++)t[r](e)}function S(e){O(pt({},e,{spyReportStart:!0}))}var E={spyReportEnd:!0};function P(e){O(e?pt({},e,E):E)}function T(e){return jt.spyListeners.push(e),st((function(){var t=jt.spyListeners.indexOf(e);-1!==t&&jt.spyListeners.splice(t,1)}))}var x="__$$iterating";function C(e){it(!0!==e[x],"Illegal state: cannot recycle array as iterator"),mt(e,x,!0);var t=-1;return mt(e,"next",(function(){return{done:++t>=this.length,value:t<this.length?this[t]:void 0}})),e}function j(e,t){mt(e,"function"==typeof Symbol&&Symbol.iterator||"@@iterator",t)}var A,k,R=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),I=0,M=function(){};A=M,k=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(A.prototype,k):void 0!==A.prototype.__proto__?A.prototype.__proto__=k:A.prototype=k,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(M.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var N=function(){function e(e,t,r,n){this.array=r,this.owned=n,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new h(e||"ObservableArray@"+nt()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer?e.map(this.dehancer):e},e.prototype.intercept=function(e){return y(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),g(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>I&&B(e+t+1)},e.prototype.spliceWithArray=function(e,t,r){var n=this;Jt(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=[]),v(this)){var i=b(this,{object:this.array,type:"splice",index:e,removedCount:t,added:r});if(!i)return tt;t=i.removedCount,r=i.added}var a=(r=r.map((function(e){return n.enhancer(e,void 0)}))).length-t;this.updateArrayLength(o,a);var u=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,r){if(r.length<1e4)return(n=this.values).splice.apply(n,[e,t].concat(r));var n,o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&w(),o=m(this),i=o||n?{object:this.array,type:"update",index:e,newValue:t,oldValue:r}:null;n&&S(i),this.atom.reportChanged(),o&&_(this,i),n&&P()},e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&w(),o=m(this),i=o||n?{object:this.array,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;n&&S(i),this.atom.reportChanged(),o&&_(this,i),n&&P()},e}(),D=function(e){function t(t,r,n,o){void 0===n&&(n="ObservableArray@"+nt()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new N(n,r,i,o);return mt(i,"$mobx",a),t&&t.length&&i.spliceWithArray(0,0,t),R&&Object.defineProperty(a.array,"0",L),i}return f(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return V(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,r){void 0===r&&(r=0);var n=this.findIndex.apply(this,arguments);return-1===n?void 0:this.get(n)},t.prototype.findIndex=function(e,t,r){void 0===r&&(r=0);for(var n=this.peek(),o=n.length,i=r;i<o;i++)if(e.call(t,n[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,r)},t.prototype.spliceWithArray=function(e,t,r){return this.$mobx.spliceWithArray(e,t,r)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,e),r.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(0,0,e),r.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function r(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(r.call(this,e),r.call(this,t),e!==t){var n,o=this.$mobx.values;n=e<t?o.slice(0,e).concat(o.slice(e+1,t+1),[o[e]],o.slice(t+1)):o.slice(0,t).concat([o[e]],o.slice(t,e),o.slice(e+1)),this.replace(n)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var r=this.$mobx,n=r.values;if(e<n.length){Jt(r.atom);var o=n[e];if(v(r)){var i=b(r,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=r.enhancer(t,o))!==o&&(n[e]=t,r.notifyArrayChildUpdate(e,t,o))}else{if(e!==n.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);r.spliceWithArray(e,0,[t])}},t}(M);j(D.prototype,(function(){return C(this.slice())})),Object.defineProperty(D.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];it("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),bt(D.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),function(e,t){for(var r=0;r<t.length;r++)bt(e,t[r],e[t[r]])}(D.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var L=U(0);function U(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function F(e){Object.defineProperty(D.prototype,""+e,U(e))}function B(e){for(var t=I;t<e;t++)F(t);I=e}B(1e3);var z=wt("ObservableArrayAdministration",N);function V(e){return ht(e)&&z(e.$mobx)}var W={},G=function(e){function t(t,r,n,o){void 0===n&&(n="ObservableValue@"+nt()),void 0===o&&(o=!0);var i=e.call(this,n)||this;return i.enhancer=r,i.hasUnreportedChange=!1,i.dehancer=void 0,i.value=r(t,void 0,n),o&&w()&&O({type:"create",object:i,newValue:i.value}),i}return f(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==W){var r=w();r&&S({type:"update",object:this,newValue:e,oldValue:t}),this.setNewValue(e),r&&P()}},t.prototype.prepareNewValue=function(e){if(Jt(this),v(this)){var t=b(this,{object:this,type:"update",newValue:e});if(!t)return W;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:W},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),m(this)&&_(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return y(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),g(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Et(this.get())},t}(h);G.prototype[St()]=G.prototype.valueOf;var q=wt("ObservableValue",G),H={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:"* This computation is suspended (not in use by any reaction) and won't run automatically.\n\tDidn't expect this computation to be suspended at this point?\n\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).",m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:'Hi there! I\'m sorry you have just run into an exception.\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\n\nHowever, more interesting is the actual stack trace of the error itself.\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\nSee `error.stack` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.\nThat stack is more interesting than the stack of this console.error itself.\n\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error("Oops")` instead of `throw "Oops"`,\nbecause the javascript environment will only preserve the original stack trace in the first form.\n\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".\n(Note that it might pause on many other, unrelated exception as well).\n\nIf that all doesn\'t help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\n',m038:"Missing items in this list?\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n"};function Y(e){return H[e]}function X(e,t){it("function"==typeof t,Y("m026")),it("string"==typeof e&&e.length>0,"actions should have valid names, got: '"+e+"'");var r=function(){return Z(e,t,this,arguments)};return r.originalFn=t,r.isMobxAction=!0,r}function Z(e,t,r,n){var o=function(e,t,r,n){var o=w()&&!!e,i=0;if(o){i=Date.now();var a=n&&n.length||0,u=new Array(a);if(a>0)for(var s=0;s<a;s++)u[s]=n[s];S({type:"action",name:e,fn:t,object:r,arguments:u})}var c=nr();return Gt(),{prevDerivation:c,prevAllowStateChanges:$(!0),notifySpy:o,startTime:i}}(e,t,r,n);try{return t.apply(r,n)}finally{!function(e){Q(e.prevAllowStateChanges),qt(),or(e.prevDerivation),e.notifySpy&&P({time:Date.now()-e.startTime})}(o)}}function K(e){it(null===jt.trackingDerivation,Y("m028")),jt.strictMode=e,jt.allowStateChanges=!e}function $(e){var t=jt.allowStateChanges;return jt.allowStateChanges=e,t}function Q(e){jt.allowStateChanges=e}function J(e,t,r,n,o){function i(i,a,u,s,c){if(void 0===c&&(c=0),it(o||re(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),u){yt(i,"__mobxLazyInitializers")||bt(i,"__mobxLazyInitializers",i.__mobxLazyInitializers&&i.__mobxLazyInitializers.slice()||[]);var l=u.value,f=u.initializer;return i.__mobxLazyInitializers.push((function(t){e(t,a,f?f.call(t):l,s,u)})),{enumerable:n,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&te(this),t.call(this,a)},set:function(e){!0!==this.__mobxDidRunLazyInitializers&&te(this),r.call(this,a,e)}}}var h={enumerable:n,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]||ee(this,a,void 0,e,s,u),t.call(this,a)},set:function(t){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]?r.call(this,a,t):ee(this,a,t,e,s,u)}};return(arguments.length<3||5===arguments.length&&c<3)&&Object.defineProperty(i,a,h),h}return o?function(){if(re(arguments))return i.apply(null,arguments);var e=arguments,t=arguments.length;return function(r,n,o){return i(r,n,o,e,t)}}:i}function ee(e,t,r,n,o,i){yt(e,"__mobxInitializedProps")||bt(e,"__mobxInitializedProps",{}),e.__mobxInitializedProps[t]=!0,n(e,t,r,o,i)}function te(e){!0!==e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers&&(bt(e,"__mobxDidRunLazyInitializers",!0),e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers.forEach((function(t){return t(e)})))}function re(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]}var ne=J((function(e,t,r,n,o){var i=n&&1===n.length?n[0]:r.name||t||"<unnamed action>";bt(e,t,ie(i,r))}),(function(e){return this[e]}),(function(){it(!1,Y("m001"))}),!1,!0),oe=J((function(e,t,r){se(e,t,r)}),(function(e){return this[e]}),(function(){it(!1,Y("m001"))}),!1,!1),ie=function(e,t,r,n){return 1===arguments.length&&"function"==typeof e?X(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?X(e,t):1===arguments.length&&"string"==typeof e?ae(e):ae(t).apply(null,arguments)};function ae(e){return function(t,r,n){if(n&&"function"==typeof n.value)return n.value=X(e,n.value),n.enumerable=!1,n.configurable=!0,n;if(void 0!==n&&void 0!==n.get)throw new Error("[mobx] action is not expected to be used with getters");return ne(e).apply(this,arguments)}}function ue(e){return"function"==typeof e&&!0===e.isMobxAction}function se(e,t,r){var n=function(){return Z(t,r,e,arguments)};n.isMobxAction=!0,bt(e,t,n)}ie.bound=function(e,t,r){if("function"==typeof e){var n=X("<not yet bound action>",e);return n.autoBind=!0,n}return oe.apply(null,arguments)};var ce=Object.prototype.toString;function le(e,t){return fe(e,t)}function fe(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,r,n){e=he(e),t=he(t);var o=ce.call(e);if(o!==ce.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,u=t.constructor;if(a!==u&&!("function"==typeof a&&a instanceof a&&"function"==typeof u&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var s=(r=r||[]).length;s--;)if(r[s]===e)return n[s]===t;if(r.push(e),n.push(t),i){if((s=e.length)!==t.length)return!1;for(;s--;)if(!fe(e[s],t[s],r,n))return!1}else{var c,l=Object.keys(e);if(s=l.length,Object.keys(t).length!==s)return!1;for(;s--;)if(!de(t,c=l[s])||!fe(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0}(e,t,r,n)}function he(e){return V(e)?e.peek():et(e)?e.entries():Ot(e)?function(e){for(var t=[];;){var r=e.next();if(r.done)break;t.push(r.value)}return t}(e.entries()):e}function de(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pe(e,t){return e===t}var ve={identity:pe,structural:function(e,t){return le(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||pe(e,t)}};function ye(e,t,r){var n,o,i;"string"==typeof e?(n=e,o=t,i=r):(n=e.name||"Autorun@"+nt(),o=e,i=t),it("function"==typeof o,Y("m004")),it(!1===ue(o),Y("m005")),i&&(o=o.bind(i));var a=new sr(n,(function(){this.track(u)}));function u(){o(a)}return a.schedule(),a.getDisposer()}function be(e,t,r){var n;arguments.length>3&&ot(Y("m007")),Ge(e)&&ot(Y("m008")),(n="object"==typeof r?r:{}).name=n.name||e.name||t.name||"Reaction@"+nt(),n.fireImmediately=!0===r||!0===n.fireImmediately,n.delay=n.delay||0,n.compareStructural=n.compareStructural||n.struct||!1,t=ie(n.name,n.context?t.bind(n.context):t),n.context&&(e=e.bind(n.context));var o,i=!0,a=!1,u=n.equals?n.equals:n.compareStructural||n.struct?ve.structural:ve.default,s=new sr(n.name,(function(){i||n.delay<1?c():a||(a=!0,setTimeout((function(){a=!1,c()}),n.delay))}));function c(){if(!s.isDisposed){var r=!1;s.track((function(){var t=e(s);r=i||!u(o,t),o=t})),i&&n.fireImmediately&&t(o,s),i||!0!==r||t(o,s),i&&(i=!1)}}return s.schedule(),s.getDisposer()}var me=function(){function e(e,t,r,n,o){this.derivation=e,this.scope=t,this.equals=r,this.dependenciesState=Pt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Pt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+nt(),this.value=new Zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Tt.NONE,this.name=n||"ComputedValue@"+nt(),o&&(this.setter=X(n+"-setter",o))}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===Pt.UP_TO_DATE){e.lowestObserverState=Pt.POSSIBLY_STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===Pt.UP_TO_DATE&&(n.dependenciesState=Pt.POSSIBLY_STALE,n.isTracing!==Tt.NONE&&Yt(n,e),n.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){tr(this),this.value=void 0},e.prototype.get=function(){it(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),0===jt.inBatch?(Gt(),$t(this)&&(this.isTracing!==Tt.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),qt()):(Ht(this),$t(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==Pt.STALE){e.lowestObserverState=Pt.STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===Pt.POSSIBLY_STALE?n.dependenciesState=Pt.STALE:n.dependenciesState===Pt.UP_TO_DATE&&(e.lowestObserverState=Pt.UP_TO_DATE)}}}(this));var e=this.value;if(Kt(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Kt(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){it(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else it(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){w()&&O({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,t=this.dependenciesState===Pt.NOT_TRACKING,r=this.value=this.computeValue(!0);return t||Kt(e)||Kt(r)||!this.equals(e,r)},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,jt.computationDepth++,e)t=er(this,this.derivation,this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Zt(e)}return jt.computationDepth--,this.isComputing=!1,t},e.prototype.observe=function(e,t){var r=this,n=!0,o=void 0;return ye((function(){var i=r.get();if(!n||t){var a=nr();e({type:"update",object:r,newValue:i,oldValue:o}),or(a)}n=!1,o=i}))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Et(this.get())},e.prototype.whyRun=function(){var e=Boolean(jt.trackingDerivation),t=lt(this.isComputing?this.newObserving:this.observing).map((function(e){return e.name})),r=lt(Bt(this).map((function(e){return e.name})));return"\nWhyRun? computation '"+this.name+"':\n * Running because: "+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+"\n"+(this.dependenciesState===Pt.NOT_TRACKING?Y("m032"):" * This computation will re-run if any of the following observables changes:\n    "+ft(t)+"\n    "+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+"\n    "+Y("m038")+"\n\n  * If the outcome of this computation changes, the following observers will be re-run:\n    "+ft(r)+"\n")},e}();me.prototype[St()]=me.prototype.valueOf;var ge=wt("ComputedValue",me),_e=function(){function e(e,t){this.target=e,this.name=t,this.values={},this.changeListeners=null,this.interceptors=null}return e.prototype.observe=function(e,t){return it(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),g(this,e)},e.prototype.intercept=function(e){return y(this,e)},e}();function we(e,t){if(Ae(e)&&e.hasOwnProperty("$mobx"))return e.$mobx;it(Object.isExtensible(e),Y("m035")),dt(e)||(t=(e.constructor.name||"ObservableObject")+"@"+nt()),t||(t="ObservableObject@"+nt());var r=new _e(e,t);return mt(e,"$mobx",r),r}function Oe(e,t,r,n){if(e.values[t]&&!ge(e.values[t]))return it("value"in r,"The property "+t+" in "+e.name+" is already observable, cannot redefine it as computed property"),void(e.target[t]=r.value);if("value"in r)if(Ge(r.value)){var o=r.value;Se(e,t,o.initialValue,o.enhancer)}else ue(r.value)&&!0===r.value.autoBind?se(e.target,t,r.value.originalFn):ge(r.value)?function(e,t,r){var n=e.name+"."+t;r.name=n,r.scope||(r.scope=e.target),e.values[t]=r,Object.defineProperty(e.target,t,xe(t))}(e,t,r.value):Se(e,t,r.value,n);else Ee(e,t,r.get,r.set,ve.default,!0)}function Se(e,t,r,n){if(_t(e.target,t),v(e)){var o=b(e,{object:e.target,name:t,type:"add",newValue:r});if(!o)return;r=o.newValue}r=(e.values[t]=new G(r,n,e.name+"."+t,!1)).value,Object.defineProperty(e.target,t,function(e){return Pe[e]||(Pe[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[e].get()},set:function(t){Ce(this,e,t)}})}(t)),function(e,t,r,n){var o=m(e),i=w(),a=o||i?{type:"add",object:t,name:r,newValue:n}:null;i&&S(a),o&&_(e,a),i&&P()}(e,e.target,t,r)}function Ee(e,t,r,n,o,i){i&&_t(e.target,t),e.values[t]=new me(r,e.target,o,e.name+"."+t,n),i&&Object.defineProperty(e.target,t,xe(t))}var Pe={},Te={};function xe(e){return Te[e]||(Te[e]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[e].get()},set:function(t){return this.$mobx.values[e].set(t)}})}function Ce(e,t,r){var n=e.$mobx,o=n.values[t];if(v(n)){if(!(u=b(n,{type:"update",object:e,name:t,newValue:r})))return;r=u.newValue}if((r=o.prepareNewValue(r))!==W){var i=m(n),a=w(),u=i||a?{type:"update",object:e,oldValue:o.value,name:t,newValue:r}:null;a&&S(u),o.setNewValue(r),i&&_(n,u),a&&P()}}var je=wt("ObservableObjectAdministration",_e);function Ae(e){return!!ht(e)&&(te(e),je(e.$mobx))}function ke(e,t){if(null==e)return!1;if(void 0!==t){if(V(e)||et(e))throw new Error(Y("m019"));if(Ae(e)){var r=e.$mobx;return r.values&&!!r.values[t]}return!1}return Ae(e)||!!e.$mobx||p(e)||pr(e)||ge(e)}function Re(e){return it(!!e,":("),J((function(t,r,n,o,i){_t(t,r),it(!i||!i.get,Y("m022")),Se(we(t,void 0),r,n,e)}),(function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()}),(function(e,t){Ce(this,e,t)}),!0,!1)}function Ie(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Ne(e,He,t)}function Me(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Ne(e,Xe,t)}function Ne(e,t,r){it(arguments.length>=2,Y("m014")),it("object"==typeof e,Y("m015")),it(!et(e),Y("m016")),r.forEach((function(e){it("object"==typeof e,Y("m017")),it(!ke(e),Y("m018"))}));for(var n=we(e),o={},i=r.length-1;i>=0;i--){var a=r[i];for(var u in a)if(!0!==o[u]&&yt(a,u)){if(o[u]=!0,e===a&&!gt(e,u))continue;Oe(n,u,Object.getOwnPropertyDescriptor(a,u),t)}}return e}var De=Re(He),Le=Re(Ye),Ue=Re(Xe),Fe=Re(Ze),Be=Re(Ke),ze={box:function(e,t){return arguments.length>2&&We("box"),new G(e,He,t)},shallowBox:function(e,t){return arguments.length>2&&We("shallowBox"),new G(e,Xe,t)},array:function(e,t){return arguments.length>2&&We("array"),new D(e,He,t)},shallowArray:function(e,t){return arguments.length>2&&We("shallowArray"),new D(e,Xe,t)},map:function(e,t){return arguments.length>2&&We("map"),new Je(e,He,t)},shallowMap:function(e,t){return arguments.length>2&&We("shallowMap"),new Je(e,Xe,t)},object:function(e,t){arguments.length>2&&We("object");var r={};return we(r,t),Ie(r,e),r},shallowObject:function(e,t){arguments.length>2&&We("shallowObject");var r={};return we(r,t),Me(r,e),r},ref:function(){return arguments.length<2?qe(Xe,arguments[0]):Ue.apply(null,arguments)},shallow:function(){return arguments.length<2?qe(Ye,arguments[0]):Le.apply(null,arguments)},deep:function(){return arguments.length<2?qe(He,arguments[0]):De.apply(null,arguments)},struct:function(){return arguments.length<2?qe(Ze,arguments[0]):Fe.apply(null,arguments)}},Ve=function(e){if(void 0===e&&(e=void 0),"string"==typeof arguments[1])return De.apply(null,arguments);if(it(arguments.length<=1,Y("m021")),it(!Ge(e),Y("m020")),ke(e))return e;var t=He(e,0,void 0);return t!==e?t:Ve.box(e)};function We(e){ot("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function Ge(e){return"object"==typeof e&&null!==e&&!0===e.isMobxModifierDescriptor}function qe(e,t){return it(!Ge(t),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:t,enhancer:e}}function He(e,t,r){return Ge(e)&&ot("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),ke(e)?e:Array.isArray(e)?Ve.array(e,r):dt(e)?Ve.object(e,r):Ot(e)?Ve.map(e,r):e}function Ye(e,t,r){return Ge(e)&&ot("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),null==e||Ae(e)||V(e)||et(e)?e:Array.isArray(e)?Ve.shallowArray(e,r):dt(e)?Ve.shallowObject(e,r):Ot(e)?Ve.shallowMap(e,r):ot("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function Xe(e){return e}function Ze(e,t,r){if(le(e,t))return t;if(ke(e))return e;if(Array.isArray(e))return new D(e,Ze,r);if(Ot(e))return new Je(e,Ze,r);if(dt(e)){var n={};return we(n,r),Ne(n,Ze,[e]),n}return e}function Ke(e,t,r){return le(e,t)?t:e}function $e(e,t){void 0===t&&(t=void 0),Gt();try{return e.apply(t)}finally{qt()}}Object.keys(ze).forEach((function(e){return Ve[e]=ze[e]})),Ve.deep.struct=Ve.struct,Ve.ref.struct=function(){return arguments.length<2?qe(Ke,arguments[0]):Be.apply(null,arguments)};var Qe={},Je=function(){function e(e,t,r){void 0===t&&(t=He),void 0===r&&(r="ObservableMap@"+nt()),this.enhancer=t,this.name=r,this.$mobx=Qe,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new D(void 0,Xe,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return e.prototype._has=function(e){return void 0!==this._data[e]},e.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},e.prototype.set=function(e,t){this.assertValidKey(e),e=""+e;var r=this._has(e);if(v(this)){var n=b(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(this.assertValidKey(e),e=""+e,v(this)&&!(o=b(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=w(),n=m(this),o=n||r?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return r&&S(o),$e((function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data[e].setNewValue(void 0),t._data[e]=void 0})),n&&_(this,o),r&&P(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap[e];return r?r.setNewValue(t):r=this._hasMap[e]=new G(t,Xe,this.name+"."+e+"?",!1),r},e.prototype._updateValue=function(e,t){var r=this._data[e];if((t=r.prepareNewValue(t))!==W){var n=w(),o=m(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;n&&S(i),r.setNewValue(t),o&&_(this,i),n&&P()}},e.prototype._addValue=function(e,t){var r=this;$e((function(){var n=r._data[e]=new G(t,r.enhancer,r.name+"."+e,!1);t=n.value,r._updateHasMapEntry(e,!0),r._keys.push(e)}));var n=w(),o=m(this),i=o||n?{type:"add",object:this,name:e,newValue:t}:null;n&&S(i),o&&_(this,i),n&&P()},e.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return C(this._keys.slice())},e.prototype.values=function(){return C(this._keys.map(this.get,this))},e.prototype.entries=function(){var e=this;return C(this._keys.map((function(t){return[t,e.get(t)]})))},e.prototype.forEach=function(e,t){var r=this;this.keys().forEach((function(n){return e.call(t,r.get(n),n,r)}))},e.prototype.merge=function(e){var t=this;return et(e)&&(e=e.toJS()),$e((function(){dt(e)?Object.keys(e).forEach((function(r){return t.set(r,e[r])})):Array.isArray(e)?e.forEach((function(e){var r=e[0],n=e[1];return t.set(r,n)})):Ot(e)?e.forEach((function(e,r){return t.set(r,e)})):null!=e&&ot("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;$e((function(){rr((function(){e.keys().forEach(e.delete,e)}))}))},e.prototype.replace=function(e){var t=this;return $e((function(){var r,n=dt(r=e)?Object.keys(r):Array.isArray(r)?r.map((function(e){return e[0]})):Ot(r)?Array.from(r.keys()):et(r)?r.keys():ot("Cannot get keys from "+r);t.keys().filter((function(e){return-1===n.indexOf(e)})).forEach((function(e){return t.delete(e)})),t.merge(e)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJS=function(){var e=this,t={};return this.keys().forEach((function(r){return t[r]=e.get(r)})),t},e.prototype.toJSON=function(){return this.toJS()},e.prototype.isValidKey=function(e){return null!=e&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e)},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map((function(t){return t+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return it(!0!==t,Y("m033")),g(this,e)},e.prototype.intercept=function(e){return y(this,e)},e}();j(Je.prototype,(function(){return this.entries()}));var et=wt("ObservableMap",Je),tt=[];function rt(){return"undefined"!=typeof window?window:o.g}function nt(){return++jt.mobxGuid}function ot(e,t){throw it(!1,e,t),"X"}function it(e,t,r){if(!e)throw new Error("[mobx] Invariant failed: "+t+(r?" in '"+r+"'":""))}Object.freeze(tt);var at=[];function ut(e){return-1===at.indexOf(e)&&(at.push(e),console.error("[mobx] Deprecated: "+e),!0)}function st(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ct=function(){};function lt(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}function ft(e,t,r){return void 0===t&&(t=100),void 0===r&&(r=" - "),e?e.slice(0,t).join(r)+(e.length>t?" (... and "+(e.length-t)+"more)":""):""}function ht(e){return null!==e&&"object"==typeof e}function dt(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function pt(){for(var e=arguments[0],t=1,r=arguments.length;t<r;t++){var n=arguments[t];for(var o in n)yt(n,o)&&(e[o]=n[o])}return e}var vt=Object.prototype.hasOwnProperty;function yt(e,t){return vt.call(e,t)}function bt(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function mt(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function gt(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!r||!1!==r.configurable&&!1!==r.writable}function _t(e,t){it(gt(e,t),"Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function wt(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return ht(e)&&!0===e[r]}}function Ot(e){return void 0!==rt().Map&&e instanceof rt().Map}function St(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Et(e){return null===e?null:"object"==typeof e?""+e:e}var Pt,Tt,xt=["mobxGuid","resetId","spyListeners","strictMode","runId"],Ct=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},jt=new Ct,At=!1,kt=!1,Rt=!1,It=rt();function Mt(e,t){if("object"==typeof e&&null!==e){if(V(e))return it(void 0===t,Y("m036")),e.$mobx.atom;if(et(e)){var r=e;return void 0===t?Mt(r._keys):(it(!!(n=r._data[t]||r._hasMap[t]),"the entry '"+t+"' does not exist in the observable map '"+Dt(e)+"'"),n)}var n;if(te(e),t&&!e.$mobx&&e[t],Ae(e))return t?(it(!!(n=e.$mobx.values[t]),"no observable property '"+t+"' found on the observable object '"+Dt(e)+"'"),n):ot("please specify a property");if(p(e)||ge(e)||pr(e))return e}else if("function"==typeof e&&pr(e.$mobx))return e.$mobx;return ot("Cannot obtain atom from "+e)}function Nt(e,t){return it(e,"Expecting some object"),void 0!==t?Nt(Mt(e,t)):p(e)||ge(e)||pr(e)||et(e)?e:(te(e),e.$mobx?e.$mobx:void it(!1,"Cannot obtain administration from "+e))}function Dt(e,t){return(void 0!==t?Mt(e,t):Ae(e)||et(e)?Nt(e):Mt(e)).name}function Lt(e,t){return Ut(Mt(e,t))}function Ut(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=lt(e.observing).map(Ut)),t}function Ft(e){var t={name:e.name};return function(e){return e.observers&&e.observers.length>0}(e)&&(t.observers=Bt(e).map(Ft)),t}function Bt(e){return e.observers}function zt(e,t){var r=e.observers.length;r&&(e.observersIndexes[t.__mapid]=r),e.observers[r]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Vt(e,t){if(1===e.observers.length)e.observers.length=0,Wt(e);else{var r=e.observers,n=e.observersIndexes,o=r.pop();if(o!==t){var i=n[t.__mapid]||0;i?n[o.__mapid]=i:delete n[o.__mapid],r[i]=o}delete n[t.__mapid]}}function Wt(e){e.isPendingUnobservation||(e.isPendingUnobservation=!0,jt.pendingUnobservations.push(e))}function Gt(){jt.inBatch++}function qt(){if(0==--jt.inBatch){hr();for(var e=jt.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.length&&r.onBecomeUnobserved()}jt.pendingUnobservations=[]}}function Ht(e){var t=jt.trackingDerivation;null!==t?t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e):0===e.observers.length&&Wt(e)}function Yt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Tt.BREAK){var r=[];Xt(Lt(e),r,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof me?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}function Xt(e,t,r){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return Xt(e,t,r+1)})))}It.__mobxInstanceCount?(It.__mobxInstanceCount++,setTimeout((function(){At||kt||Rt||(Rt=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))}),1)):It.__mobxInstanceCount=1,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Pt||(Pt={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Tt||(Tt={}));var Zt=function(e){this.cause=e};function Kt(e){return e instanceof Zt}function $t(e){switch(e.dependenciesState){case Pt.UP_TO_DATE:return!1;case Pt.NOT_TRACKING:case Pt.STALE:return!0;case Pt.POSSIBLY_STALE:for(var t=nr(),r=e.observing,n=r.length,o=0;o<n;o++){var i=r[o];if(ge(i)){try{i.get()}catch(e){return or(t),!0}if(e.dependenciesState===Pt.STALE)return or(t),!0}}return ir(e),or(t),!1}}function Qt(){return null!==jt.trackingDerivation}function Jt(e){var t=e.observers.length>0;jt.computationDepth>0&&t&&ot(Y("m031")+e.name),!jt.allowStateChanges&&t&&ot(Y(jt.strictMode?"m030a":"m030b")+e.name)}function er(e,t,r){ir(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++jt.runId;var n,o=jt.trackingDerivation;jt.trackingDerivation=e;try{n=t.call(r)}catch(e){n=new Zt(e)}return jt.trackingDerivation=o,function(e){for(var t=e.observing,r=e.observing=e.newObserving,n=Pt.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(u=r[a]).diffValue&&(u.diffValue=1,o!==a&&(r[o]=u),o++),u.dependenciesState>n&&(n=u.dependenciesState);for(r.length=o,e.newObserving=null,i=t.length;i--;)0===(u=t[i]).diffValue&&Vt(u,e),u.diffValue=0;for(;o--;){var u;1===(u=r[o]).diffValue&&(u.diffValue=0,zt(u,e))}n!==Pt.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}(e),n}function tr(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Vt(t[r],e);e.dependenciesState=Pt.NOT_TRACKING}function rr(e){var t=nr(),r=e();return or(t),r}function nr(){var e=jt.trackingDerivation;return jt.trackingDerivation=null,e}function or(e){jt.trackingDerivation=e}function ir(e){if(e.dependenciesState!==Pt.UP_TO_DATE){e.dependenciesState=Pt.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=Pt.UP_TO_DATE}}function ar(e){return console.log(e),e}function ur(e){switch(e.length){case 0:return jt.trackingDerivation;case 1:return Mt(e[0]);case 2:return Mt(e[0],e[1])}}var sr=function(){function e(e,t){void 0===e&&(e="Reaction@"+nt()),this.name=e,this.onInvalidate=t,this.observing=[],this.newObserving=[],this.dependenciesState=Pt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+nt(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Tt.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,jt.pendingReactions.push(this),hr())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(Gt(),this._isScheduled=!1,$t(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&w()&&O({object:this,type:"scheduled-reaction"})),qt())},e.prototype.track=function(e){Gt();var t,r=w();r&&(t=Date.now(),S({object:this,type:"reaction",fn:e})),this._isRunning=!0;var n=er(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&tr(this),Kt(n)&&this.reportExceptionInDerivation(n.cause),r&&P({time:Date.now()-t}),qt()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,n=Y("m037");console.error(r||n,e),w()&&O({type:"error",message:r,error:e,object:this}),jt.globalReactionErrorHandlers.forEach((function(r){return r(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Gt(),tr(this),qt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=cr,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.whyRun=function(){var e=lt(this._isRunning?this.newObserving:this.observing).map((function(e){return e.name}));return"\nWhyRun? reaction '"+this.name+"':\n * Status: ["+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+"]\n * This reaction will re-run if any of the following observables changes:\n    "+ft(e)+"\n    "+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+"\n\t"+Y("m038")+"\n"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var n=ur(e);if(!n)return ot("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");n.isTracing===Tt.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?Tt.BREAK:Tt.LOG}(this,e)},e}();function cr(e){it(this&&this.$mobx&&pr(this.$mobx),"Invalid `this`"),it(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=e}var lr=100,fr=function(e){return e()};function hr(){jt.inBatch>0||jt.isRunningReactions||fr(dr)}function dr(){jt.isRunningReactions=!0;for(var e=jt.pendingReactions,t=0;e.length>0;){++t===lr&&(console.error("Reaction doesn't converge to a stable state after "+lr+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}jt.isRunningReactions=!1}var pr=wt("Reaction",sr);function vr(e){return J((function(t,r,n,o,i){it(void 0!==i,Y("m009")),it("function"==typeof i.get,Y("m010")),Ee(we(t,""),r,i.get,i.set,e,!1)}),(function(e){var t=this.$mobx.values[e];if(void 0!==t)return t.get()}),(function(e,t){this.$mobx.values[e].set(t)}),!1,!1)}var yr=vr(ve.default),br=vr(ve.structural),mr=function(e,t,r){if("string"==typeof t)return yr.apply(null,arguments);it("function"==typeof e,Y("m011")),it(arguments.length<3,Y("m012"));var n="object"==typeof t?t:{};n.setter="function"==typeof t?t:n.setter;var o=n.equals?n.equals:n.compareStructural||n.struct?ve.structural:ve.default;return new me(e,n.context,o,n.name||e.name||"",n.setter)};function gr(e,t,r){function n(n){return t&&r.push([e,n]),n}if(void 0===t&&(t=!0),void 0===r&&(r=[]),ke(e)){if(t&&null===r&&(r=[]),t&&null!==e&&"object"==typeof e)for(var o=0,i=r.length;o<i;o++)if(r[o][0]===e)return r[o][1];if(V(e)){var a=n([]),u=e.map((function(e){return gr(e,t,r)}));for(a.length=u.length,o=0,i=u.length;o<i;o++)a[o]=u[o];return a}if(Ae(e)){for(var s in a=n({}),e)a[s]=gr(e[s],t,r);return a}if(et(e)){var c=n({});return e.forEach((function(e,n){return c[n]=gr(e,t,r)})),c}if(q(e))return gr(e.get(),t,r)}return e}mr.struct=br,mr.equals=vr;var _r={allowStateChanges:function(e,t){var r,n=$(e);try{r=t()}finally{Q(n)}return r},deepEqual:le,getAtom:Mt,getDebugName:Dt,getDependencyTree:Lt,getAdministration:Nt,getGlobalState:function(){return jt},getObserverTree:function(e,t){return Ft(Mt(e,t))},interceptReads:function(e,t,r){var n;if(et(e)||V(e)||q(e))n=Nt(e);else{if(!Ae(e))return ot("Expected observable map, object or array as first array");if("string"!=typeof t)return ot("InterceptReads can only be used with a specific property, not with an object in general");n=Nt(e,t)}return void 0!==n.dehancer?ot("An intercept reader was already established"):(n.dehancer="function"==typeof t?t:r,function(){n.dehancer=void 0})},isComputingDerivation:Qt,isSpyEnabled:w,onReactionError:function(e){return jt.globalReactionErrorHandlers.push(e),function(){var t=jt.globalReactionErrorHandlers.indexOf(e);t>=0&&jt.globalReactionErrorHandlers.splice(t,1)}},reserveArrayBuffer:B,resetGlobalState:function(){jt.resetId++;var e=new Ct;for(var t in e)-1===xt.indexOf(t)&&(jt[t]=e[t]);jt.allowStateChanges=!jt.strictMode},isolateGlobalState:function(){kt=!0,rt().__mobxInstanceCount--},shareGlobalState:function(){ut("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),At=!0;var e=rt(),t=jt;if(e.__mobservableTrackingStack||e.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(e.__mobxGlobal&&e.__mobxGlobal.version!==t.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");e.__mobxGlobal?jt=e.__mobxGlobal:e.__mobxGlobal=t},spyReport:O,spyReportEnd:P,spyReportStart:S,setReactionScheduler:function(e){var t=fr;fr=function(r){return e((function(){return t(r)}))}}},wr={Reaction:sr,untracked:rr,Atom:d,BaseAtom:h,useStrict:K,isStrictModeEnabled:function(){return jt.strictMode},spy:T,comparer:ve,asReference:function(e){return ut("asReference is deprecated, use observable.ref instead"),Ve.ref(e)},asFlat:function(e){return ut("asFlat is deprecated, use observable.shallow instead"),Ve.shallow(e)},asStructure:function(e){return ut("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),Ve.struct(e)},asMap:function(e){return ut("asMap is deprecated, use observable.map or observable.shallowMap instead"),Ve.map(e||{})},isModifierDescriptor:Ge,isObservableObject:Ae,isBoxedObservable:q,isObservableArray:V,ObservableMap:Je,isObservableMap:et,map:function(e){return ut("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),Ve.map(e)},transaction:$e,observable:Ve,computed:mr,isObservable:ke,isComputed:function(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Ae(e))return!1;if(!e.$mobx.values[t])return!1;var r=Mt(e,t);return ge(r)}return ge(e)},extendObservable:Ie,extendShallowObservable:Me,observe:function(e,t,r,n){return"function"==typeof r?function(e,t,r,n){return Nt(e,t).observe(r,n)}(e,t,r,n):function(e,t,r){return Nt(e).observe(t,r)}(e,t,r)},intercept:function(e,t,r){return"function"==typeof r?function(e,t,r){return Nt(e,t).intercept(r)}(e,t,r):function(e,t){return Nt(e).intercept(t)}(e,t)},autorun:ye,autorunAsync:function(e,t,r,n){var o,i,a,u;"string"==typeof e?(o=e,i=t,a=r,u=n):(o=e.name||"AutorunAsync@"+nt(),i=e,a=t,u=r),it(!1===ue(i),Y("m006")),void 0===a&&(a=1),u&&(i=i.bind(u));var s=!1,c=new sr(o,(function(){s||(s=!0,setTimeout((function(){s=!1,c.isDisposed||c.track(l)}),a))}));function l(){i(c)}return c.schedule(),c.getDisposer()},when:function(e,t,r,n){var o,i,a,u;return"string"==typeof e?(o=e,i=t,a=r,u=n):(o="When@"+nt(),i=e,a=t,u=r),ye(o,(function(e){if(i.call(u)){e.dispose();var t=nr();a.call(u),or(t)}}))},reaction:be,action:ie,isAction:ue,runInAction:function(e,t,r){var n="string"==typeof e?e:e.name||"<unnamed action>",o="function"==typeof e?e:t,i="function"==typeof e?t:r;return it("function"==typeof o,Y("m002")),it(0===o.length,Y("m003")),it("string"==typeof n&&n.length>0,"actions should have valid names, got: '"+n+"'"),Z(n,o,i,void 0)},expr:function(e,t){return Qt()||console.warn(Y("m013")),mr(e,{context:t}).get()},toJS:gr,createTransformer:function(e,t){it("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var r={},n=jt.resetId,o=function(n){function o(t,r){var o=n.call(this,(function(){return e(r)}),void 0,ve.default,"Transformer-"+e.name+"-"+t,void 0)||this;return o.sourceIdentifier=t,o.sourceObject=r,o}return f(o,n),o.prototype.onBecomeUnobserved=function(){var e=this.value;n.prototype.onBecomeUnobserved.call(this),delete r[this.sourceIdentifier],t&&t(e,this.sourceObject)},o}(me);return function(e){n!==jt.resetId&&(r={},n=jt.resetId);var t=function(e){if("string"==typeof e||"number"==typeof e)return e;if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+e);var t=e.$transformId;return void 0===t&&bt(e,"$transformId",t=nt()),t}(e),i=r[t];return i?i.get():(i=r[t]=new o(t,e)).get()}},whyRun:function(e,t){return ut("`whyRun` is deprecated in favor of `trace`"),(e=ur(arguments))?ge(e)||pr(e)?ar(e.whyRun()):ot(Y("m025")):ar(Y("m024"))},isArrayLike:function(e){return Array.isArray(e)||V(e)},extras:_r},Or=!1,Sr=function(e){var t=wr[e];Object.defineProperty(wr,e,{get:function(){return Or||(Or=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won’t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),t}})};for(var Er in wr)Sr(Er);"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:T,extras:_r});var Pr=o(1803),Tr=o.n(Pr),xr={value:()=>{}};function Cr(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new jr(n)}function jr(e){this._=e}function Ar(e,t){for(var r,n=0,o=e.length;n<o;++n)if((r=e[n]).name===t)return r.value}function kr(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=xr,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}jr.prototype=Cr.prototype={constructor:jr,on:function(e,t){var r,n,o=this._,i=(n=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<u;)if(r=(e=i[a]).type)o[r]=kr(o[r],e.name,t);else if(null==t)for(r in o)o[r]=kr(o[r],e.name,null);return this}for(;++a<u;)if((r=(e=i[a]).type)&&(r=Ar(o[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new jr(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(n=this._[e]).length;i<r;++i)n[i].value.apply(t,o)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,i=n.length;o<i;++o)n[o].value.apply(t,r)}};const Rr=Cr;var Ir,Mr,Nr=0,Dr=0,Lr=0,Ur=1e3,Fr=0,Br=0,zr=0,Vr="object"==typeof performance&&performance.now?performance:Date,Wr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gr(){return Br||(Wr(qr),Br=Vr.now()+zr)}function qr(){Br=0}function Hr(){this._call=this._time=this._next=null}function Yr(e,t,r){var n=new Hr;return n.restart(e,t,r),n}function Xr(){Br=(Fr=Vr.now())+zr,Nr=Dr=0;try{!function(){Gr(),++Nr;for(var e,t=Ir;t;)(e=Br-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Nr}()}finally{Nr=0,function(){for(var e,t,r=Ir,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Ir=t);Mr=e,Kr(n)}(),Br=0}}function Zr(){var e=Vr.now(),t=e-Fr;t>Ur&&(zr-=t,Fr=e)}function Kr(e){Nr||(Dr&&(Dr=clearTimeout(Dr)),e-Br>24?(e<1/0&&(Dr=setTimeout(Xr,e-Vr.now()-zr)),Lr&&(Lr=clearInterval(Lr))):(Lr||(Fr=Vr.now(),Lr=setInterval(Zr,Ur)),Nr=1,Wr(Xr)))}Hr.prototype=Yr.prototype={constructor:Hr,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?Gr():+r)+(null==t?0:+t),this._next||Mr===this||(Mr?Mr._next=this:Ir=this,Mr=this),this._call=e,this._time=r,Kr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kr())}};const $r=4294967296;function Qr(e){return e.x}function Jr(e){return e.y}var en=Math.PI*(3-Math.sqrt(5));function tn(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var o,i,a,u,s,c,l,f,h,d=e._root,p={data:n},v=e._x0,y=e._y0,b=e._x1,m=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((c=t>=(i=(v+b)/2))?v=i:b=i,(l=r>=(a=(y+m)/2))?y=a:m=a,o=d,!(d=d[f=l<<1|c]))return o[f]=p,e;if(u=+e._x.call(null,d.data),s=+e._y.call(null,d.data),t===u&&r===s)return p.next=d,o?o[f]=p:e._root=p,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(v+b)/2))?v=i:b=i,(l=r>=(a=(y+m)/2))?y=a:m=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=i));return o[h]=d,o[f]=p,e}function rn(e,t,r,n,o){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=o}function nn(e){return e[0]}function on(e){return e[1]}function an(e,t,r){var n=new un(null==t?nn:t,null==r?on:r,NaN,NaN,NaN,NaN);return null==e?n:n.addAll(e)}function un(e,t,r,n,o,i){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function sn(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var cn=an.prototype=un.prototype;function ln(e){return function(){return e}}function fn(e){return 1e-6*(e()-.5)}function hn(){var e,t,r,n,o,i=ln(-30),a=1,u=1/0,s=.81;function c(r){var o,i=e.length,a=an(e,Qr,Jr).visitAfter(f);for(n=r,o=0;o<i;++o)t=e[o],a.visit(h)}function l(){if(e){var t,r,n=e.length;for(o=new Array(n),t=0;t<n;++t)r=e[t],o[r.index]=+i(r,t,e)}}function f(e){var t,r,n,i,a,u=0,s=0;if(e.length){for(n=i=a=0;a<4;++a)(t=e[a])&&(r=Math.abs(t.value))&&(u+=t.value,s+=r,n+=r*t.x,i+=r*t.y);e.x=n/s,e.y=i/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=o[t.data.index]}while(t=t.next)}e.value=u}function h(e,i,c,l){if(!e.value)return!0;var f=e.x-t.x,h=e.y-t.y,d=l-i,p=f*f+h*h;if(d*d/s<p)return p<u&&(0===f&&(p+=(f=fn(r))*f),0===h&&(p+=(h=fn(r))*h),p<a&&(p=Math.sqrt(a*p)),t.vx+=f*e.value*n/p,t.vy+=h*e.value*n/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=fn(r))*f),0===h&&(p+=(h=fn(r))*h),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(d=o[e.data.index]*n/p,t.vx+=f*d,t.vy+=h*d)}while(e=e.next)}}return c.initialize=function(t,n){e=t,r=n,l()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:ln(+e),l(),c):i},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c}function dn(e){return e.x+e.vx}function pn(e){return e.y+e.vy}function vn(e){return e.index}function yn(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}cn.copy=function(){var e,t,r=new un(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=sn(n),r;for(e=[{source:n,target:r._root=new Array(4)}];n=e.pop();)for(var o=0;o<4;++o)(t=n.source[o])&&(t.length?e.push({source:t,target:n.target[o]=new Array(4)}):n.target[o]=sn(t));return r},cn.add=function(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return tn(this.cover(t,r),t,r,e)},cn.addAll=function(e){var t,r,n,o,i=e.length,a=new Array(i),u=new Array(i),s=1/0,c=1/0,l=-1/0,f=-1/0;for(r=0;r<i;++r)isNaN(n=+this._x.call(null,t=e[r]))||isNaN(o=+this._y.call(null,t))||(a[r]=n,u[r]=o,n<s&&(s=n),n>l&&(l=n),o<c&&(c=o),o>f&&(f=o));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),r=0;r<i;++r)tn(this,a[r],u[r],e[r]);return this},cn.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,i=(n=Math.floor(t))+1;else{for(var a,u,s=o-r||1,c=this._root;r>e||e>=o||n>t||t>=i;)switch(u=(t<n)<<1|e<r,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:o=r+s,i=n+s;break;case 1:r=o-s,i=n+s;break;case 2:o=r+s,n=i-s;break;case 3:r=o-s,n=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this},cn.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},cn.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},cn.find=function(e,t,r){var n,o,i,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new rn(v,l,f,h,d)),null==r?r=1/0:(l=e-r,f=t-r,h=e+r,d=t+r,r*=r);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>h||(i=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(v.length){var y=(o+a)/2,b=(i+u)/2;p.push(new rn(v[3],y,b,a,u),new rn(v[2],o,b,y,u),new rn(v[1],y,i,a,b),new rn(v[0],o,i,y,b)),(c=(t>=b)<<1|e>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=e-+this._x.call(null,v.data),g=t-+this._y.call(null,v.data),_=m*m+g*g;if(_<r){var w=Math.sqrt(r=_);l=e-w,f=t-w,h=e+w,d=t+w,n=v.data}}return n},cn.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,r,n,o,i,a,u,s,c,l,f,h,d=this._root,p=this._x0,v=this._y0,y=this._x1,b=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(p+y)/2))?p=u:y=u,(l=a>=(s=(v+b)/2))?v=s:b=s,t=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(r=t,h=f)}for(;d.data!==e;)if(n=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,n?(o?n.next=o:delete n.next,this):t?(o?t[f]=o:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(r?r[h]=d:this._root=d),this):(this._root=o,this)},cn.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},cn.root=function(){return this._root},cn.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},cn.visit=function(e){var t,r,n,o,i,a,u=[],s=this._root;for(s&&u.push(new rn(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,n=t.x0,o=t.y0,i=t.x1,a=t.y1)&&s.length){var c=(n+i)/2,l=(o+a)/2;(r=s[3])&&u.push(new rn(r,c,l,i,a)),(r=s[2])&&u.push(new rn(r,n,l,c,a)),(r=s[1])&&u.push(new rn(r,c,o,i,l)),(r=s[0])&&u.push(new rn(r,n,o,c,l))}return this},cn.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new rn(this._root,this._x0,this._y0,this._x1,this._y1));t=r.pop();){var o=t.node;if(o.length){var i,a=t.x0,u=t.y0,s=t.x1,c=t.y1,l=(a+s)/2,f=(u+c)/2;(i=o[0])&&r.push(new rn(i,a,u,l,f)),(i=o[1])&&r.push(new rn(i,l,u,s,f)),(i=o[2])&&r.push(new rn(i,a,f,l,c)),(i=o[3])&&r.push(new rn(i,l,f,s,c))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},cn.x=function(e){return arguments.length?(this._x=e,this):this._x},cn.y=function(e){return arguments.length?(this._y=e,this):this._y};var bn=256,mn=4096,gn=25,_n="#FFDF81",wn="#818790",On="#EDEDED",Sn="#CFD1D4",En="#F5F6F6",Pn="#8FE3E8",Tn="#1A1B1D",xn={position:"absolute",top:0,bottom:0,left:0,right:0},Cn=function(){return window.devicePixelRatio||1},jn=["NVL_basic-wrapper","NVL_interactive-wrapper"];function An(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On,n=new Map;return e.forEach((function(e){var t=e.id,r=e.from,o=e.to,i=e.color,a=e.width,u=e.disabled,s=[r,o].sort(),c="".concat(s[0],".").concat(s[1]),l=n.get(c);l?l.bundledRels.push({id:t,color:null!=i?i:void 0,disabled:null!=u&&u,width:null!=a?a:1}):n.set(c,{bundledRels:[{id:t,color:null!=i?i:void 0,disabled:null!=u&&u,width:null!=a?a:1}],key:c,from:r,to:o,color:null!=i?i:void 0,disabled:null!=u&&u,width:0})})),n.forEach((function(e){var n=(0,r.uniqBy)(e.bundledRels,"disabled"),o=1===n.length&&!0===n[0].disabled,i=1===n.length&&!0!==n[0].disabled;if(o)e.color=t,e.width=1;else{var a=e.bundledRels.filter((function(e){return!0!==e.disabled})),u=(0,r.uniqBy)(a,"color");i?(e.color=u.length>1?void 0:e.bundledRels[0].color,e.bundledRels.forEach((function(t){e.width+=t.width}))):(e.color=1===u.length?u[0].color:void 0,e.disabled=!1,e.bundledRels.forEach((function(t){e.width+=!0!==t.disabled?t.width:0})))}})),Array.from(n.values())},In=function(){return void 0!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(e){return"size"in e}))};function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}var Nn=function(e){var t,r;return"number"==typeof e.source||"number"==typeof e.target||"string"==typeof e.source||"string"==typeof e.target?45*devicePixelRatio:(null!==(t=e.source.size)&&void 0!==t?t:gn)+(null!==(r=e.target.size)&&void 0!==r?r:gn)+90*devicePixelRatio};function Dn(e){return"object"===Mn(e)}var Ln=function(e){var t;return(null!==(t=e.size)&&void 0!==t?t:gn)+25*devicePixelRatio},Un=function(){return-400*Math.pow(devicePixelRatio,2)},Fn=function(){return 2*Un()};function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gn(n.key),n)}}function Gn(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bn(t)?t:String(t)}var qn="d3ForceLayout",Hn=function(e){return e?gr(e):e},Yn=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.state;this.state=n,this.d3Nodes={},this.d3RelList={},this.computing=!0,this.center={x:0,y:0},this.nodeRelCount=[];var o=this.state,i=o.nodes,a=o.rels;i.addChannel(qn),a.addChannel(qn),this.simulation=function(e){var t,r=1,n=.001,o=1-Math.pow(n,1/300),i=0,a=.6,u=new Map,s=Yr(f),c=Rr("tick","end"),l=function(){let e=1;return()=>(e=(1664525*e+1013904223)%$r)/$r}();function f(){h(),c.call("tick",t),r<n&&(s.stop(),c.call("end",t))}function h(n){var s,c,l=e.length;void 0===n&&(n=1);for(var f=0;f<n;++f)for(r+=(i-r)*o,u.forEach((function(e){e(r)})),s=0;s<l;++s)null==(c=e[s]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function d(){for(var t,r=0,n=e.length;r<n;++r){if((t=e[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+r),i=r*en;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),d(),t={tick:h,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(r){return arguments.length?(e=r,d(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(r=+e,t):r},alphaMin:function(e){return arguments.length?(n=+e,t):n},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(l=e,u.forEach(p),t):l},force:function(e,r){return arguments.length>1?(null==r?u.delete(e):u.set(e,p(r)),t):u.get(e)},find:function(t,r,n){var o,i,a,u,s,c=0,l=e.length;for(null==n?n=1/0:n*=n,c=0;c<l;++c)(a=(o=t-(u=e[c]).x)*o+(i=r-u.y)*i)<n&&(s=u,n=a);return s},on:function(e,r){return arguments.length>1?(c.on(e,r),t):c.on(e)}}}().velocityDecay(.4).force("charge",hn().strength(Un)).force("centerX",function(e){var t,r,n,o=ln(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(n[i]-o.x)*r[i]*e}function a(){if(t){var i,a=t.length;for(r=new Array(a),n=new Array(a),i=0;i<a;++i)r[i]=isNaN(n[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=ln(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:ln(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:ln(+t),a(),i):e},i}(0).strength(.03)).force("centerY",function(e){var t,r,n,o=ln(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vy+=(n[i]-o.y)*r[i]*e}function a(){if(t){var i,a=t.length;for(r=new Array(a),n=new Array(a),i=0;i<a;++i)r[i]=isNaN(n[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=ln(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:ln(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"==typeof t?t:ln(+t),a(),i):e},i}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",(function(){r.simulationStopped=!0,r.shouldUpdate=!1,r.shouldReheatNodes=!1,r.shouldCountNodeRels=!1})).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction((function(){return r.state.graphUpdates}),(function(){var e=i.channels[qn];if(void 0!==i.version&&e){var t=Object.values(e.adds).length>0,n=Object.values(e.removes).length>0,o=Object.values(e.updates),u=In(o);t||n||u?(r.shouldUpdate=!0,r.shouldReheatNodes=!0,r.shouldCountNodeRels=!0):r.shouldReheatNodes=!1}var s=a.channels[qn];if(void 0!==a.version&&s){var c=Object.values(s.adds).length>0,l=Object.values(s.removes).length>0;(c||l)&&(r.shouldUpdate=!0,r.shouldReheatNodes=!0,r.shouldCountNodeRels=!0)}})))}var t,n;return t=e,n=[{key:"setOptions",value:function(e){}},{key:"updateNodes",value:function(e){var t=this;e.forEach((function(e){void 0===t.d3Nodes[e.id]&&(t.d3Nodes[e.id]={id:e.id}),null!=e&&e.pinned?(t.d3Nodes[e.id].fx=e.x,t.d3Nodes[e.id].fy=e.y):(t.d3Nodes[e.id].x=e.x,t.d3Nodes[e.id].y=e.y),t.d3Nodes[e.id].vy=0,t.d3Nodes[e.id].vx=0})),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||r){var n=this.state,o=n.nodes,i=n.rels,a=o.channels[qn],u=i.channels[qn],s=Object.values(a.adds).length>0,c=Object.values(u.adds).length>0,l=Object.values(a.removes).length>0,f=Object.values(u.removes).length>0,h=Object.values(a.updates).length>0;if(s||c||l||f||h){var d=s&&0===Object.keys(this.d3Nodes).length,p=Hn(a.removes);Object.keys(p).forEach((function(e){delete t.d3Nodes[e]}));var v=Hn(a.adds);if(Object.keys(v).forEach((function(e){t.d3Nodes[e]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Gn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},v[e])})),h&&Object.values(a.updates).forEach((function(e){!0===e.pinned?(t.d3Nodes[e.id].fx=t.d3Nodes[e.id].x,t.d3Nodes[e.id].fy=t.d3Nodes[e.id].y):!1===e.pinned&&(t.d3Nodes[e.id].fx=null,t.d3Nodes[e.id].fy=null),void 0!==e.size&&(t.d3Nodes[e.id].size=e.size)})),(c||f)&&(this.d3RelList=Rn(Hn(i.items)).filter((function(e){return e.from!==e.to})).map((function(e,t){return{source:e.from,target:e.to,index:t}}))),d){var y=Object.values(this.d3Nodes);!function(e,t,r){var n=e.filter((function(e){return void 0===e.x&&void 0===e.y}));n.forEach((function(e,o){e.x=t.x+r*Math.sin(2*Math.PI*o/n.length),e.y=t.y+r*Math.cos(2*Math.PI*o/n.length)}))}(y,this.center,(e=y.length,45*e/(2*Math.PI)))}this.layout(o.items,i.items,d)}o.clearChannel(qn),i.clearChannel(qn),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(e,t,n){var o=this;if(!(0,r.isEmpty)(this.d3Nodes)){if(this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function(e){var t,r,n,o=1,i=1;function a(){for(var e,a,s,c,l,f,h,d=t.length,p=0;p<i;++p)for(a=an(t,dn,pn).visitAfter(u),e=0;e<d;++e)s=t[e],f=r[s.index],h=f*f,c=s.x+s.vx,l=s.y+s.vy,a.visit(v);function v(e,t,r,i,a){var u=e.data,d=e.r,p=f+d;if(!u)return t>c+p||i<c-p||r>l+p||a<l-p;if(u.index>s.index){var v=c-u.x-u.vx,y=l-u.y-u.vy,b=v*v+y*y;b<p*p&&(0===v&&(b+=(v=fn(n))*v),0===y&&(b+=(y=fn(n))*y),b=(p-(b=Math.sqrt(b)))/b*o,s.vx+=(v*=b)*(p=(d*=d)/(h+d)),s.vy+=(y*=b)*p,u.vx-=v*(p=1-p),u.vy-=y*p)}}}function u(e){if(e.data)return e.r=r[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var n,o,i=t.length;for(r=new Array(i),n=0;n<i;++n)o=t[n],r[o.index]=+e(o,n,t)}}return"function"!=typeof e&&(e=ln(null==e?1:+e)),a.initialize=function(e,r){t=e,n=r,s()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:ln(+t),s(),a):e},a}().radius(Ln)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function(e){var t,r,n,o,i,a,u=vn,s=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=ln(30),l=1;function f(n){for(var o=0,u=e.length;o<l;++o)for(var s,c,f,h,d,p,v,y=0;y<u;++y)c=(s=e[y]).source,h=(f=s.target).x+f.vx-c.x-c.vx||fn(a),d=f.y+f.vy-c.y-c.vy||fn(a),h*=p=((p=Math.sqrt(h*h+d*d))-r[y])/p*n*t[y],d*=p,f.vx-=h*(v=i[y]),f.vy-=d*v,c.vx+=h*(v=1-v),c.vy+=d*v}function h(){if(n){var a,s,c=n.length,l=e.length,f=new Map(n.map(((e,t)=>[u(e,t,n),e])));for(a=0,o=new Array(c);a<l;++a)(s=e[a]).index=a,"object"!=typeof s.source&&(s.source=yn(f,s.source)),"object"!=typeof s.target&&(s.target=yn(f,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(l);a<l;++a)s=e[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);t=new Array(l),d(),r=new Array(l),p()}}function d(){if(n)for(var r=0,o=e.length;r<o;++r)t[r]=+s(e[r],r,e)}function p(){if(n)for(var t=0,o=e.length;t<o;++t)r[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){n=e,a=t,h()},f.links=function(t){return arguments.length?(e=t,h(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(s="function"==typeof e?e:ln(+e),d(),f):s},f.distance=function(e){return arguments.length?(c="function"==typeof e?e:ln(+e),p(),f):c},f}(this.d3RelList).id((function(e){return e.id})).distance(Nn).strength((function(e){return function(e,t){if(!Dn(e.source)||!Dn(e.target))return 1;var r=1.2/(Math.min(t[e.source.index],t[e.target.index])+(Math.max(t[e.source.index],t[e.target.index])-1)/100);return Math.max(Math.min(r,1),.06)}(e,o.nodeRelCount)}))),n){var i=0;this.simulation.force("charge",hn().strength(Fn));for(var a=performance.now();performance.now()-a<300&&i<200;)this.simulation.alpha(1),this.simulation.tick(1),i+=1;this.simulation.force("charge",hn().strength(Un));for(var u=performance.now();performance.now()-u<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return this.computing=!1,void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(e){var t,r=[],n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this.d3Nodes[o.id];if(void 0!==i){var a={id:i.id,x:i.x,y:i.y};r.push(a)}}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach((function(e){e()})),this.state.nodes.removeChannel(qn),this.state.rels.removeChannel(qn),this.simulation.stop()}},{key:"setAlpha",value:function(e){this.simulation.alpha(e),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var e=new Map(Object.entries(this.d3Nodes)),t=Object.values(this.d3RelList),r=new Array(e.length),n=0;n<t.length;++n){var o=t[n];o.index=n,"object"!==Bn(o.source)&&(o.source=e.get(o.source)),"object"!==Bn(o.target)&&(o.target=e.get(o.target)),r[o.source.index]=(r[o.source.index]||0)+1,r[o.target.index]=(r[o.target.index]||0)+1}return r}}],n&&Wn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xn=o(5880),Zn=o.n(Xn),Kn=Zn().getLogger("NVL");const $n=e;var Qn={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},Jn=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Qn[e],o=n.standard,i=n.fallback;if(r)t=$n[i];else try{t=$n[o]()}catch(r){console.warn("Failed to initialise ".concat(e,' worker: "').concat(JSON.stringify(r),'". Falling back to syncronous code.')),t=$n[i]}if(void 0===t)throw"".concat(e," code could not be initialized.");return t.port.start(),t};function eo(e){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(e)}function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach((function(t){ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function no(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function io(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uo(n.key),n)}}function ao(e,t,r){return(t=uo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uo(e){var t=function(e,t){if("object"!=eo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==eo(t)?t:String(t)}var so=function(e,t,r){return e+(t-e)*function(e){return e*e*(3-2*e)}(r)},co=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ao(this,"positions",void 0),ao(this,"oldPositions",void 0),ao(this,"startTime",void 0),ao(this,"t",void 0),ao(this,"currentT",void 0),ao(this,"state",void 0),ao(this,"shouldUpdateAnimator",void 0),ao(this,"parents",void 0),ao(this,"animationCompleteCallback",void 0),ao(this,"shouldUpdate",void 0);var r=t.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=r,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=t.animationCompleteCallback}var t,r;return t=e,r=[{key:"getPositionMapFromState",value:function(){var e,t=this.state.nodes,r=t.idToPosition,n={},o=no(t.items);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=r[i.id];void 0!==a&&(n[i.id]={id:i.id,x:a.x,y:a.y})}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"updatePositionsFromState",value:function(){this.positions=ro({},this.getPositionMapFromState())}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=ro({},this.getPositionMapFromState())}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var e=this.shouldUpdateAnimator,t=(Date.now()-this.startTime)/400;this.t=Math.min(t,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,e&&!this.shouldUpdateAnimator&&void 0!==this.animationCompleteCallback&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(e){var t,r=no(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;void 0!==n.x&&void 0!==n.y&&(this.positions[n.id]={id:n.id,x:n.x,y:n.y}),this.shouldUpdate=!0}}catch(e){r.e(e)}finally{r.f()}}},{key:"getNodePositions",value:function(e){var t,r=this.parents,n=this.state.nodes.idToPosition,o=function(e,t){for(var r={x:0,y:0},n=e.length,o=0,i=0;i<n;i++){var a=t[e[i].id];void 0===a||isNaN(a.x)||isNaN(a.y)||0===a.x||0===a.y||(r.x+=a.x,r.y+=a.y,o+=1)}return o>0?[r.x/o,r.y/o]:[0,0]}(e,n),i={x:o[0],y:o[1]},a=[],u=no(e);try{for(u.s();!(t=u.n()).done;){var s=t.value,c=this.positions[s.id],l=n[s.id],f={id:s.id};if(void 0!==c){for(var h,d,p,v=s.id,y=null!==(h=this.oldPositions[s.id])&&void 0!==h?h:ro({},i);void 0===y&&void 0!==r[v];)v=r[v],y=this.oldPositions[v];y.x=null!==(d=y.x)&&void 0!==d?d:i.x,y.y=null!==(p=y.y)&&void 0!==p?p:i.y,f.x=so(y.x,c.x,this.t),f.y=so(y.y,c.y,this.t)}else void 0!==l&&(f.x=l.x||i.x,f.y=l.y||i.y);a.push(f)}}catch(e){u.e(e)}finally{u.f()}return this.currentT=this.t,a}}],r&&io(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function lo(e){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(e)}function fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(r),!0).forEach((function(t){Po(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||yo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e){return function(e){if(Array.isArray(e))return bo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){if(e){if("string"==typeof e)return bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bo(e,t):void 0}}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,To(n.key),n)}}function go(e,t,r){return t=So(t),function(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wo(e)}(e,_o()?Reflect.construct(t,r||[],So(e).constructor):t.apply(e,r))}function _o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_o=function(){return!!e})()}function wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oo(){return Oo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=So(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Oo.apply(this,arguments)}function So(e){return So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},So(e)}function Eo(e,t){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eo(e,t)}function Po(e,t,r){return(t=To(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function To(e){var t=function(e,t){if("object"!=lo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lo(t)?t:String(t)}var xo=function(e){return void 0!==e?gr(e):e},Co=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Po(wo(r=go(this,t,[e])),"stateDisposers",void 0),Po(wo(r),"cytoCompleteCallback",void 0),Po(wo(r),"computing",void 0),Po(wo(r),"pendingLayoutData",void 0),Po(wo(r),"worker",void 0),Po(wo(r),"workersDisabled",void 0),r.stateDisposers=[],r.stateDisposers.push(r.state.reaction((function(){return r.state.graphUpdates}),(function(){void 0!==r.state.nodes.version&&(r.shouldUpdate=!0),void 0!==r.state.rels.version&&(r.shouldUpdate=!0)}))),r.cytoCompleteCallback=e.cytoCompleteCallback,r.shouldUpdate=!0,r.computing=!1,r.workersDisabled=e.state.disableWebWorkers,r.setOptions(),r.worker=Jn("CoseBilkentLayout",r.workersDisabled),r.pendingLayoutData=null,r}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eo(e,t)}(t,e),r=t,n=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.shouldUpdate||e){var o=xo(r),i=xo(n);(o.length>0||i.length>0)&&(this.updatePositionsFromState(),this.layout(o,i))}Oo(So(t.prototype),"update",this).call(this),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(e,t){var r=this;if(this.worker){if(e.length){var n=e.map((function(e){return{group:"nodes",data:{id:e.id}}})),o=t.map((function(e){return{group:"edges",data:{id:"rel".concat(e.id),source:e.from,target:e.to}}})),i={elements:[].concat(vo(n),vo(o)),spacingFactor:e.reduce((function(e,t){var r;return e+(null!==(r=t.size)&&void 0!==r?r:gn)}),0)/e.length*4.5/50*Cn()};this.computing?this.pendingLayoutData=i:(this.computing=!0,this.worker.port.onmessage=function(e){var t=e.data.positions;if(r.computing){for(var n=0,o=Object.entries(t);n<o.length;n++){var i=po(o[n],2),a=i[0],u=i[1];r.positions[a]=ho({id:a},u)}r.cytoCompleteCallback(),r.startAnimation()}r.computing=!1,r.shouldUpdate=!0},setTimeout((function(){r.computing&&r.worker.port.postMessage(i)}),0))}}else Kn.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var e;this.stateDisposers.forEach((function(e){e()})),null===(e=this.worker)||void 0===e||e.port.close()}}],n&&mo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(co),jo="undefined"!=typeof Float32Array?Float32Array:Array;function Ao(){var e=new jo(16);return jo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ko=function(e,t,r,n,o,i,a){var u=1/(t-r),s=1/(n-o),c=1/(i-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*u,e[13]=(o+n)*s,e[14]=(a+i)*c,e[15]=1,e},Ro=o(9792),Io=o.n(Ro);function Mo(e){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(e)}function No(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lo(n.key),n)}}function Do(e,t,r){return(t=Lo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lo(e){var t=function(e,t){if("object"!=Mo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mo(t)?t:String(t)}var Uo=function(){function e(t,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Do(this,"shaderProgram",void 0),Do(this,"gl",void 0),Do(this,"curTexture",void 0),Do(this,"attributeInfo",void 0),Do(this,"uniformInfo",void 0);var a=t.createShader(t.FRAGMENT_SHADER);if(!t.isShader(a))throw new Error("Could not create shader object");var u=Io()(o,i);t.shaderSource(a,u),t.compileShader(a),(0,r.isNil)(t.getShaderParameter(a,t.COMPILE_STATUS))&&Kn.info(t.getShaderInfoLog(a));var s=t.createShader(t.VERTEX_SHADER);if(!t.isShader(s))throw new Error("Could not create shader object");var c=Io()(n,i);if(t.shaderSource(s,c),t.compileShader(s),(0,r.isNil)(t.getShaderParameter(s,t.COMPILE_STATUS))&&Kn.info(t.getShaderInfoLog(s)),this.shaderProgram=t.createProgram(),t.attachShader(this.shaderProgram,a),t.attachShader(this.shaderProgram,s),t.linkProgram(this.shaderProgram),(0,r.isNil)(t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=t,this.curTexture=0,this.scanUniforms(),this.scanAttributes()}var t,n;return t=e,n=[{key:"setUniform",value:function(e,t){var r=this.gl,n=this.uniformInfo[e];if(void 0===n)throw new Error("Shader.setUniform - Uniform ".concat(e," not found in shader"));switch(n.type){case r.INT:r.uniform1i(n.location,t);break;case r.INT_VEC2:r.uniform2iv(n.location,t);break;case r.INT_VEC3:r.uniform3iv(n.location,t);break;case r.INT_VEC4:r.uniform4iv(n.location,t);break;case r.SAMPLER_2D:r.activeTexture(r.TEXTURE0+n.texture),r.bindTexture(r.TEXTURE_2D,t),r.uniform1i(n.location,n.texture);break;case r.SAMPLER_CUBE:case r.FLOAT:r.uniform1f(n.location,t);break;case r.FLOAT_VEC2:r.uniform2fv(n.location,t);break;case r.FLOAT_VEC3:r.uniform3fv(n.location,t);break;case r.FLOAT_VEC4:r.uniform4fv(n.location,t);break;case r.FLOAT_MAT2:r.uniformMatrix2fv(n.location,!1,t);break;case r.FLOAT_MAT3:r.uniformMatrix3fv(n.location,!1,t);break;case r.FLOAT_MAT4:r.uniformMatrix4fv(n.location,!1,t)}}},{key:"setAttributePointer",value:function(e,t,r,n){var o=this.gl,i=this.attributeInfo[e],a=r*Float32Array.BYTES_PER_ELEMENT,u=n*Float32Array.BYTES_PER_ELEMENT;o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.FLOAT,!1,u,a)}},{key:"setAttributePointerFloat",value:function(e,t,r,n){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.FLOAT,!1,n,r)}},{key:"setAttributePointerUShort",value:function(e,t,r,n){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_SHORT,!1,n,r)}},{key:"setAttributePointerByteNorm",value:function(e,t,r,n){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_BYTE,!0,n,r)}},{key:"setAttributePointerByte",value:function(e,t,r,n){var o=this.gl,i=this.attributeInfo[e];o.enableVertexAttribArray(i.position),o.vertexAttribPointer(i.position,t,o.UNSIGNED_BYTE,!1,n,r)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var e=this.gl;this.attributeInfo={};for(var t,r,n=e.getProgramParameter(this.shaderProgram,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++)t=e.getActiveAttrib(this.shaderProgram,o),r=e.getAttribLocation(this.shaderProgram,t.name),this.attributeInfo[t.name]={type:t.type,position:r}}},{key:"scanUniforms",value:function(){var e=this.gl;this.uniformInfo={};for(var t,r=e.getProgramParameter(this.shaderProgram,e.ACTIVE_UNIFORMS),n=0;n<r;n++){t=e.getActiveUniform(this.shaderProgram,n);var o=e.getUniformLocation(this.shaderProgram,t.name),i={type:t.type,location:o};t.type===e.SAMPLER_2D&&(i.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[t.name]=i}}}],n&&No(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zo(n.key),n)}}function zo(e){var t=function(e,t){if("object"!=Fo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fo(t)?t:String(t)}function Vo(e){var t="function"==typeof Map?new Map:void 0;return Vo=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(Wo())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&Go(o,r.prototype),o}(e,arguments,qo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Go(r,e)},Vo(e)}function Wo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wo=function(){return!!e})()}function Go(e,t){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Go(e,t)}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}var Ho=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,n=arguments,r=qo(r=t),function(e,t){if(t&&("object"===Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wo()?Reflect.construct(r,n||[],qo(e).constructor):r.apply(e,n));var e,r,n}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(t,e),r=t,(n=[{key:"toString",value:function(){return this.message}}])&&Bo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(Vo(Error));const Yo="uniform mat4 u_projection;\n\nattribute vec2 a_position;\n//attribute float a_index;\n\n//varying highp float index;\n\nvoid main() {\n//  index = a_index;\n  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);\n}";function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ko(n.key),n)}}function Ko(e){var t=function(e,t){if("object"!=Xo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xo(t)?t:String(t)}var $o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=this.constructGraphObjects(t,r),this.subGraphs=[],this.sunMap={}}var t,r;return t=e,r=[{key:"constructGraphObjects",value:function(e,t){var r=new Array(e.nodes.length),n=new Array(e.rels.length),o={},i=[];return e.nodes.forEach((function(e,t){r[t]=[],n[t]=[],i.push(e)})),e.rels.forEach((function(e){var i=t[e.from],a=t[e.to];void 0!==i&&void 0!==a&&(r[i].push(a),r[a].push(i),n[i].push(e.id),n[a].push(e.id),o[e.id]=e)})),this.relIdMap=n,{nodes:i,relationships:r,idToRel:o}}},{key:"coarsenTo",value:function(e){for(var t=this.graph,r=t.nodes.length,n=0;t.nodes.length>e&&t.relationships.some((function(e){return e.length>0}));){var o=this.coarsen(t,0===n);if(0===n&&(this.nodeSortMap=o.nodeSortMap),this.subGraphs.push(o.sortedInput),0===(t=o.output).relationships.length||t.relationships.every((function(e){return 0===e.length}))||r===t.nodes.length)break;r=t.nodes.length,n+=1}return this.subGraphs.push(t),t}},{key:"coarsenBy",value:function(e){for(var t=e,r=this.graph,n=r.nodes.length,o=t;t>0;){var i=this.coarsen(r,t===o);if(this.subGraphs.push(i.sortedInput),0===(r=i.output).relationships.length||r.relationships.every((function(e){return 0===e.length}))||n===r.nodes.length)break;n=r.nodes.length,t-=1}return this.subGraphs.push(r),r}},{key:"coarsen",value:function(e,t){var r=this,n=e.nodes,o=e.relationships,i=n.map((function(e,t){return t})),a={},u={};n.forEach((function(e,t){a[t]=e,u[e.id]=t}));for(var s=o.map((function(e){return e.slice()})),c={suns:{},planets:{},moons:{}},l=[],f=[],h=function(){var e=i[0];i.splice(i.indexOf(e),1),o[e].forEach((function(t){var r=i.indexOf(t);r>=0&&i.splice(r,1);var n=-1,o=s[t];o.forEach((function(t,r){var o=i.indexOf(t);o>=0?i.splice(o,1):t===e&&(n=r)})),o.splice(n,1)}));var r={id:e};if(t)r.originalId=a[e].id;else{var n=a[e];r.finestIndex=n.finestIndex,r.originalId=n.originalId}l.push(r),c.suns[e]=r};i.length>0;)h();l.forEach((function(e,t){f[t]=[]})),l.forEach((function(e,r){var n={},i=[];o[e.id].forEach((function(o){if(o!==e.id&&!n[o]){var u={id:o,parent:e,sunId:r,moons:[]},s=a[o];u.size=function(){return u.moons.length+1},u.weight=s.weight||1,u.children=function(){return u.moons},t?u.originalId=s.id:(u.finestIndex=s.finestIndex,u.originalId=s.originalId),i.push(u),n[o]=!0}})),i.forEach((function(e){c.planets[e.id]=e})),e.planets=i,e.children=function(){return e.planets},e.weight=e.planets.reduce((function(e,t){return e+(t.weight||1)}),0)+(a[e.id].weight||1),e.size=function(){return e.planets.reduce((function(e,t){return e+t.size()}),0)+1}}));var d=n.filter((function(e,t){return!l.find((function(e){return e.id===t}))&&!c.planets[t]})),p=[];d.forEach((function(e){for(var r=u[e.id],n=s[r],o=null,i=-1,l=0;l<n.length;l++){var f=n[l];if(f!==r&&(o=c.planets[f])){i=l;break}}if(n.splice(i,1),o){var h={id:r,size:function(){return 0}};h.weight=a[r].weight||1,h.parent=o,h.sunId=o.sunId,t?h.originalId=e.id:(h.finestIndex=e.finestIndex,h.originalId=e.originalId),c.moons[r]=h,o.moons.push(h),o.weight+=h.weight,o.parent.weight+=h.weight;var d=s[o.id];d.splice(d.indexOf(r),1)}else p.push(e)})),s.forEach((function(e,t){if(!c.suns[t]){var r=c.planets[t]||c.moons[t];s[t].forEach((function(e){var t=c.planets[e];if(t||(t=c.moons[e]),r.sunId!==t.sunId){var n=f[r.sunId];n.includes(t.sunId)||n.push(t.sunId)}}))}}));var v=[],y=0,b={};l.forEach((function(e,o){var i=n[e.id];b[e.id]=y,e.previousIndex=o,e.id=y,y+=1,t&&(i.finestIndex=e.id,e.finestIndex=e.id),v.push(i),e.planets.forEach((function(o){var i=n[o.id];b[o.id]=y,o.id=y,y+=1,o.sunId=e.id,t&&(i.finestIndex=o.id),r.sunMap[o.originalId]=e.originalId,v.push(i),o.moons.forEach((function(o){var i=n[o.id];b[o.id]=y,o.id=y,y+=1,o.sunId=e.id,t&&(i.finestIndex=o.id),r.sunMap[o.originalId]=e.originalId,v.push(i)}))}))}));var m=[],g=[];return o.forEach((function(e,n){var o=b[n];m[o]=e.map((function(e){return b[e]})),t&&(g[o]=e.map((function(e,t){return r.relIdMap[n][t]})))})),g&&g.length>0&&(this.relIdMap=g),{output:{nodes:l,relationships:f},sortedInput:{nodes:v,relationships:m},nodeSortMap:b}}}],r&&Zo(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Qo=function(e,t,r){for(var n=2*Math.PI/r,o=[],i=0;i<r;i++){var a=n*i;o.push({x:e.x+t*Math.cos(a),y:e.y+t*Math.sin(a)})}return o};function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function ei(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ti(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ri(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oi(n.key),n)}}function ni(e,t,r){return(t=oi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oi(e){var t=function(e,t){if("object"!=Jo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jo(t)?t:String(t)}var ii="PhysLayout",ai=new Float32Array(4),ui=256,si=function(e){for(var t={},r={},n=0;n<e.length;n++)t[e[n].id]=n,r[n]=e[n].id;return{nodeIdToIndex:t,nodeIndexToId:r}},ci=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ni(this,"physVbo",void 0),ni(this,"physSmallVbo",void 0),ni(this,"physProjection",void 0),ni(this,"physSmallProjection",void 0),ni(this,"gl",void 0),ni(this,"useReadpixelWorkaround",void 0),ni(this,"averageNodeSize",void 0),ni(this,"shouldUpdate",void 0),ni(this,"iterationCount",void 0),ni(this,"lastSpeedValues",void 0),ni(this,"rollingAvgGraphSpeed",void 0),ni(this,"nodeVariation",void 0),ni(this,"nodeCenterPoint",void 0),ni(this,"peakIterationMultiplier",void 0),ni(this,"stateDisposers",void 0),ni(this,"state",void 0),ni(this,"dpr",void 0),ni(this,"intelWorkaround",void 0),ni(this,"simulationStopVelocitySquared",void 0),ni(this,"gravity",void 0),ni(this,"force",void 0),ni(this,"nodeIdToIndex",void 0),ni(this,"nodeIndexToId",void 0),ni(this,"numNodes",void 0),ni(this,"solarMerger",void 0),ni(this,"subGraphs",void 0),ni(this,"nodeSortMap",void 0),ni(this,"firstUpdate",void 0),ni(this,"curPhysData",void 0),ni(this,"apprxRepForceShader",void 0),ni(this,"levelsClusterTexture",void 0),ni(this,"levelsFinestIndexTexture",void 0),ni(this,"initalLevelTexture",void 0),ni(this,"levelsData",void 0),ni(this,"collisionDetectionMultiplier",void 0),ni(this,"physShader",void 0),ni(this,"physData",void 0),ni(this,"workaroundData",void 0),ni(this,"pinData",void 0),ni(this,"updateData",void 0),ni(this,"updateShader",void 0),ni(this,"workaroundShader",void 0),ni(this,"physPositions",void 0),ni(this,"springTexture",void 0),ni(this,"sizeTexture",void 0),ni(this,"offsetTexture",void 0),ni(this,"pinTexture",void 0),ni(this,"addedNodes",void 0),ni(this,"updateTexture",void 0),ni(this,"enableVerlet",void 0);var n=t.state,o=t.webGLContext;if(Kn.info("layout - webGLContext",Boolean(o)),void 0===t.webGLContext)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(void 0===t.state)throw new Error("PhysLayout missing options: state - state object");var i=o;this.checkCompatibility(i),this.printGlStats(i),this.physVbo=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.physVbo);var a=new Float32Array([0,0,bn,0,0,bn,bn,bn]);i.bufferData(i.ARRAY_BUFFER,a,i.STATIC_DRAW),this.physSmallVbo=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.physSmallVbo);var u=new Float32Array([0,0,ui,0,0,ui,ui,ui]);i.bufferData(i.ARRAY_BUFFER,u,i.STATIC_DRAW),this.physProjection=Ao(),ko(this.physProjection,0,bn,bn,0,0,1e6),this.physSmallProjection=Ao(),ko(this.physSmallProjection,0,ui,ui,0,0,1e6),i.disable(i.DEPTH_TEST),this.gl=i,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=gn,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(t,!0),this.definePhysicsArrays();var s=n.nodes,c=n.rels;s.addChannel(ii),c.addChannel(ii),this.stateDisposers=[],this.stateDisposers.push(n.reaction((function(){return n.graphUpdates}),(function(){var e=s.channels[ii];if(void 0!==s.version&&e){var t=Object.values(e.adds).length>0,n=Object.values(e.removes).length>0,o=Object.values(e.updates),i=In(o);(t||n||i)&&(r.shouldUpdate=!0,r.checkForUpdates())}var a=c.channels[ii];if(void 0!==c.version&&a){var u=Object.values(a.adds).length>0,l=Object.values(a.removes).length>0;(u||l)&&(r.shouldUpdate=!0,r.checkForUpdates())}}))),this.setData({nodes:s.items,rels:c.items}),this.state=n,this.dpr=window.devicePixelRatio||1}var t,r;return t=e,r=[{key:"setOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r=e.intelWorkaround,n=e.simulationStopVelocity,o=e.gravity,i=e.enableVerlet,a=void 0!==i&&i;t&&(this.intelWorkaround=r,this.enableVerlet=a);var u=this.enableVerlet?.25:null!=n?n:100;this.simulationStopVelocitySquared=u*u,this.gravity=null!=o?o:100,this.force=0}}},{key:"setData",value:function(e){var t=si(e.nodes),r=t.nodeIdToIndex,n=t.nodeIndexToId;return this.nodeIdToIndex=r,this.nodeIndexToId=n,this.numNodes=e.nodes.length,this.solarMerger=new $o(e,r),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.gl;if(this.checkForUpdates(e),!this.shouldUpdate)return t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(0).frameBuffer),t.readPixels(0,0,bn,bn,t.RGBA,t.FLOAT,this.physPositions),!1;t.disable(t.BLEND);for(var r=this.nodeVariation/(this.numNodes||1)>.3,n=this.getScaleNumber(this.iterationCount),o=this.subGraphs?this.subGraphs.length:0,i=this.getPhysData(0).texture,a=o-1;a>0;a--){var u=this.subGraphs[a].nodes.length,s=a===o-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",i),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[a]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[a]),this.apprxRepForceShader.setUniform("u_prevForce",s?this.initalLevelTexture:this.levelsData[a+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",u),this.apprxRepForceShader.setUniform("u_iterationMultiplier",n),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength(u)),this.apprxRepForceShader.setUniform("u_isTopLevel",s?1:0),t.bindBuffer(t.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),t.bindFramebuffer(t.FRAMEBUFFER,this.levelsData[a].frameBuffer),t.viewport(0,0,ui,ui),t.drawArrays(t.TRIANGLE_STRIP,0,4)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=r?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=o<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",o<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",i),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",n),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,t.bindBuffer(t.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(1).frameBuffer),t.viewport(0,0,bn,bn),t.drawArrays(t.TRIANGLE_STRIP,0,4),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(t.bindFramebuffer(t.FRAMEBUFFER,this.getPhysData(0).frameBuffer),t.readPixels(0,0,bn,bn,t.RGBA,t.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var c=this.iterationCount<300,l=c?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(l),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce((function(e,t){return e+t}),0)/this.lastSpeedValues.length;var f=c&&l>=this.rollingAvgGraphSpeed,h=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!f&&!0===h&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){Kn.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(e){var t=[];if(this.useReadpixelWorkaround){var r,n=ei(e);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.nodeIdToIndex[o.id],a=o.id,u=void 0,s=void 0;void 0!==i&&(u=this.workaroundData[0].dataFloat[i],s=this.workaroundData[1].dataFloat[i]),t.push({id:a,x:u,y:s})}}catch(e){n.e(e)}finally{n.f()}}else{var c,l=ei(e);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=this.nodeIdToIndex[f.id],d=f.id,p=void 0,v=void 0;void 0!==h&&(p=this.physPositions[4*h+0],v=this.physPositions[4*h+1]),t.push({id:d,x:p,y:v})}}catch(e){l.e(e)}finally{l.f()}}return t}},{key:"reheat",value:function(e){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=e.nodes.length}},{key:"updateNodes",value:function(e){var t=this.gl,r=new Set;t.bindTexture(t.TEXTURE_2D,this.getPhysData().texture);var n,o=ei(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=this.nodeIdToIndex[i.id];if(void 0!==i.x&&void 0!==i.y){ai[0]=i.x,ai[1]=i.y,ai[2]=0,ai[3]=0;var u=a%bn,s=(a-u)/bn;t.texSubImage2D(t.TEXTURE_2D,0,u,s,1,1,t.RGBA,t.FLOAT,ai),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[a]=i.x,this.workaroundData[1].dataFloat[a]=i.y):(this.physPositions[4*a+0]=i.x,this.physPositions[4*a+1]=i.y)}void 0!==i.pinned&&(this.pinData[a]=i.pinned?255:0),Object.keys(i).forEach((function(e){return r.add(e)}))}}catch(e){o.e(e)}finally{o.f()}r.has("pinned")&&(t.bindTexture(t.TEXTURE_2D,this.pinTexture),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,bn,bn,0,t.ALPHA,t.UNSIGNED_BYTE,this.pinData)),(r.has("x")||r.has("y")||r.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(e,t){var r=this.gl;this.numNodes=e.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var n=si(e.nodes).nodeIdToIndex,o=new $o(e,n);o.coarsenTo(1);var i=o.subGraphs[0],a=this.subGraphs[0],u=function(e){return a.nodes.findIndex((function(t){return t.id===e}))},s=Object.values(t.adds),c=Object.values(t.removes);this.addedNodes=s.length>0?{}:null,this.nodeVariation=s.length+c.length;for(var l,f=3*Math.sqrt(e.nodes.length),h={x:0,y:0},d=i.nodes.length,p=new Uint8Array(65536),v=0;v<d;v++){var y=0,b=0,m=i.nodes[v];if(l=m.id,Boolean(t.adds[l])){if(this.addedNodes[v]=m.id,y=m.position?m.position.x:void 0,b=m.position?m.position.y:void 0,void 0===y||void 0===b){var g=o.sunMap,_=void 0;for(_=g[m.id];void 0!==_;_=g[_]){var w=u(_);if(-1!==w){var O=this.getNodePosition(w);y=O.x+10*(Math.random()-.5),b=O.y+10*(Math.random()-.5);break}}void 0===_&&(y=this.nodeCenterPoint[0]+f*(Math.random()-.5),b=this.nodeCenterPoint[1]+f*(Math.random()-.5))}this.updateData[2*v]=y,this.updateData[2*v+1]=b,p[v]=m.pinned?255:0}else{var S=u(m.id),E=this.getNodePosition(S);y=E.x,b=E.y,this.updateData[2*v]=S,this.updateData[2*v+1]=999999,p[v]=this.pinData[S]}h.x+=y||0,h.y+=b||0}this.nodeCenterPoint=d?[h.x/d,h.y/d]:[0,0],this.pinData=p,this.subGraphs=o.subGraphs,this.nodeSortMap=o.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var P=si(this.subGraphs[0].nodes),T=P.nodeIdToIndex,x=P.nodeIndexToId;return this.nodeIdToIndex=T,this.nodeIndexToId=x,r.bindTexture(r.TEXTURE_2D,this.updateTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,bn,bn,0,r.ALPHA,r.FLOAT,this.updateData),Kn.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",i.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),r.disable(r.BLEND),r.bindBuffer(r.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),r.bindFramebuffer(r.FRAMEBUFFER,this.getPhysData(1).frameBuffer),r.viewport(0,0,bn,bn),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(r.bindFramebuffer(r.FRAMEBUFFER,this.getPhysData().frameBuffer),r.readPixels(0,0,bn,bn,r.RGBA,r.FLOAT,this.physPositions)),(s.length>0||c.length>0)&&(r.bindTexture(r.TEXTURE_2D,this.pinTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,bn,bn,0,r.ALPHA,r.UNSIGNED_BYTE,this.pinData)),this.shouldUpdate=!0,this.iterationCount=0,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var e=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.physData.forEach((function(t){e.gl.deleteFramebuffer(t.frameBuffer),e.gl.deleteTexture(t.texture)})),this.levelsData.forEach((function(t){e.gl.deleteFramebuffer(t.frameBuffer),e.gl.deleteTexture(t.texture)})),this.levelsClusterTexture.forEach((function(t){e.gl.deleteTexture(t)})),this.levelsFinestIndexTexture.forEach((function(t){e.gl.deleteTexture(t)})),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),void 0!==this.apprxRepForceShader&&this.apprxRepForceShader.remove(),void 0!==this.updateShader&&this.updateShader.remove(),void 0!==this.physShader&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach((function(e){e()})),this.state.nodes.removeChannel(ii),this.state.rels.removeChannel(ii)}},{key:"dumpTexture",value:function(e,t,r){var n=this.gl;Kn.info("--- Dumping texture ",r),n.bindFramebuffer(n.FRAMEBUFFER,e),n.readPixels(0,0,bn,bn,n.RGBA,n.FLOAT,this.physPositions);for(var o=0;o<t;o++)Kn.info(o,": ",this.physPositions[4*o+0],this.physPositions[4*o+1],this.physPositions[4*o+2],this.physPositions[4*o+3])}},{key:"getScaleNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,r){return r+Math.pow(10,6)*Math.pow(e-120,-1.7)};return 0===e?0:e<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(e-200+12),3):t(e,200,10)}},{key:"getBaseLength",value:function(e){if(void 0===e||e===this.numNodes)return 100*this.dpr;var t=Math.pow(this.averageNodeSize/2,2)*Math.PI,r=this.numNodes/e*t;return(100+Math.sqrt(r/Math.PI)/2/e)*this.dpr}},{key:"checkForUpdates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,r=t.nodes,n=t.rels,o={nodes:r.items,rels:n.items},i=Object.values(r.channels[ii].adds).length>0,a=Object.values(n.channels[ii].adds).length>0,u=Object.values(r.channels[ii].removes).length>0,s=Object.values(n.channels[ii].removes).length>0,c=Object.values(r.channels[ii].updates);(i||a||u||s)&&this.addRemoveData(o,{adds:r.channels[ii].adds,removes:r.channels[ii].removes}),e?(this.updateNodes(o.nodes),this.reheat(o)):c.length>0&&(this.updateNodes(c),In(c)&&this.reheat(o)),r.clearChannel(ii),n.clearChannel(ii)}},{key:"getNodePosition",value:function(e){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[e],y:this.workaroundData[1].dataFloat[e]}:{x:this.physPositions[4*e+0],y:this.physPositions[4*e+1]}}},{key:"getMaxSpeedSquared",value:function(){var e=0;if(this.useReadpixelWorkaround)for(var t=0;t<this.numNodes;t++){var r=this.workaroundData[2].dataFloat[t],n=this.workaroundData[3].dataFloat[t],o=r*r+n*n;o>e&&(e=o)}else for(var i=0;i<this.numNodes;i++){var a=this.physPositions[4*i+2],u=this.physPositions[4*i+3],s=a*a+u*u;s>e&&(e=s)}return e}},{key:"getMedianSpeedSquared",value:function(e){var t=[];if(this.useReadpixelWorkaround)for(var r=0;r<this.numNodes;r++){var n=this.workaroundData[2].dataFloat[r],o=this.workaroundData[3].dataFloat[r],i=n*n+o*o;t[r]=i}else for(var a=0;a<this.numNodes;a++)if(!e||e[a]){var u=this.physPositions[4*a+2],s=this.physPositions[4*a+3],c=u*u+s*s;t.push(c)}return t.sort((function(e,t){return e-t})),t[Math.floor(t.length/2)]}},{key:"getPhysData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.physData[(this.curPhysData+e)%this.physData.length]}},{key:"newTexture",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.FLOAT,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.RGBA,i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,o,r,r,0,o,n,t),i}},{key:"newFramebuffer",value:function(e,t){var r=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),r}},{key:"checkCompatibility",value:function(e){function t(e){throw new Ho(e)}e||t("Could not initialize WebGL"),0===e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)&&t("Vertex shader texture access not available"),e.getExtension("OES_texture_float")||t("OES_texture_float extension not available"),e.getExtension("WEBGL_color_buffer_float")||(Kn.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var r=e.getParameter(e.MAX_TEXTURE_SIZE),n=Math.max(bn,mn);if(r<n&&t("Need larger WebGL texture support. Avaliable: ".concat(r," needed: ").concat(n)),!this.useReadpixelWorkaround){var o=new Float32Array(4),i=this.newTexture(e,o,1),a=this.newFramebuffer(e,i);e.bindFramebuffer(e.FRAMEBUFFER,a),e.readPixels(0,0,1,1,e.RGBA,e.FLOAT,o),e.getError()!==e.NO_ERROR&&(Kn.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(a),e.deleteTexture(i)}}},{key:"printGlStats",value:function(e){var t="?",r="?";if(e.getParameter(e.RENDERER))r=e.getParameter(e.RENDERER),t=e.getParameter(e.VENDOR);else{var n=e.getExtension("WEBGL_debug_renderer_info");n&&(t=e.getParameter(n.UNMASKED_VENDOR_WEBGL),r=e.getParameter(n.UNMASKED_RENDERER_WEBGL))}Kn.trace("Vendor: ".concat(t)),Kn.trace("Renderer: ".concat(r));var o=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE);Kn.trace("Line width range: ".concat(o));var i=e.getSupportedExtensions();Kn.trace("Extentions:"),i.length>0&&i.forEach((function(e){return Kn.trace(e)}))}},{key:"adjustToGlSize",value:function(e){return e*this.dpr*2.5}},{key:"setupSize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},t=new Float32Array(65536),r=e.nodes,n=r.length,o=0,i=0;i<n;i++){var a,u=parseInt(null!==(a=r[i].size)&&void 0!==a?a:gn,10);t[i]=this.adjustToGlSize(u),o+=u}this.averageNodeSize=n?o/n:gn;var s=this.gl;void 0===this.sizeTexture&&(this.sizeTexture=s.createTexture()),s.bindTexture(s.TEXTURE_2D,this.sizeTexture),s.texImage2D(s.TEXTURE_2D,0,s.ALPHA,bn,bn,0,s.ALPHA,s.FLOAT,t),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(e){var t,r,n=this.gl,o=e.relationships,i=new Float32Array(16777216),a=new Float32Array(65536),u=0;for(t=0;t<e.nodes.length;t++)for(a[t]=u,i[u]=o[t].length,u+=1,r=0;r<o[t].length;r++)i[u]=o[t][r],u+=1;for(r=u;r<i.length;r++)i[r]=1;for(r=t;r<a.length;r++)a[r]=0;void 0===this.offsetTexture&&(this.offsetTexture=n.createTexture()),n.bindTexture(n.TEXTURE_2D,this.offsetTexture),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,bn,bn,0,n.ALPHA,n.FLOAT,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),void 0===this.springTexture&&(this.springTexture=n.createTexture()),n.bindTexture(n.TEXTURE_2D,this.springTexture),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,mn,mn,0,n.ALPHA,n.FLOAT,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var e=this.gl,t=this.subGraphs.length,r=this.subGraphs[0].nodes,n=3*Math.sqrt(r.length),o=new Float32Array(262144),i=new Float32Array(262144);this.numNodes=r.length;for(var a=0;a<262144;a++)o[a]=0,i[a]=0;for(var u=function(e,t,r,n){n[4*e+0]=t,n[4*e+1]=r,n[4*e+2]=0,n[4*e+3]=0},s=t-1;s>=0;s--){var c=s===t-1?[]:this.subGraphs[s+1].nodes;0===c.length?this.subGraphs[s].nodes.forEach((function(e,t){var r=e.placement?e.placement.x:n*(Math.random()-.5),i=e.placement?e.placement.y:n*(Math.random()-.5);u(void 0===e.finestIndex?t:e.finestIndex,r,i,o)})):c.forEach((function(e){var t=e.finestIndex,r=o[4*e.finestIndex],n=o[4*e.finestIndex+1],i=Qo({x:r,y:n},10,e.planets.length+1);t+=1,e.planets.forEach((function(e,r){var n=i[r];u(t+=1,n.x,n.y,o);var a=Qo({x:n.x,y:n.y},10,e.moons.length+1);e.moons.forEach((function(e,r){var n=a[r];u(t+=1,n.x,n.y,o)}))}))}))}this.physData=[];for(var l=0;l<2;l++){var f=this.newTexture(e,0===l?o:i,bn),h=this.newFramebuffer(e,f);this.physData.push({texture:f,frameBuffer:h})}var d=this.enableVerlet?"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_connections;\nuniform sampler2D u_connectionOffsets;\nuniform sampler2D u_pinnedNodes;\nuniform sampler2D u_sizeTexture;\nuniform float u_baseLength;\nuniform float u_curIteration;\nuniform float u_iterationMultiplier;\nuniform vec2 u_gravityCenter;\nuniform float u_numNodes;\nuniform float u_gravity;\n\nuniform sampler2D u_clusterData;\nuniform sampler2D u_prevForce;\nuniform float u_collisionMultiplier;\n\n\nfloat DAMP = 0.6;\nfloat COOL = 0.99998;\nfloat TEMP = max(0.02, pow(COOL, u_curIteration));\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\nfloat accLimitLow = 500000.0;\nfloat accLimitHigh = 750000.0;\nfloat accLimitPosHigh = 10000000.0;\n\nconst float denseNodeThreshold = 1000.0;\nconst float MIN_DISTANCE = 0.00000001;\nconst float MAX_DISTANCE = 1000000000.0;\nconst float MAX_ACCELERATION = 50000.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nbool isNan(float val) {\n  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n}\n\nconst float BIG_NUMBER = 999999999999999999.0;\nbool isInf(float val) {\n  return val > BIG_NUMBER || val < -BIG_NUMBER;\n}\n\nvec2 getDelta(vec2 v1, vec2 v2) {\n  vec2 delta = v1 - v2;\n  float dist = length(delta);\n  if (dist < MIN_DISTANCE || isNan(dist)) {\n    return vec2(MIN_DISTANCE, MIN_DISTANCE);\n  }\n  if (dist > MAX_DISTANCE) {\n    vec2 normDelta = delta / dist;\n    return normDelta * MAX_DISTANCE;\n  }\n  return delta;\n}\n\nvec4 getOtherNodePosition(float i) {\n  return getTextureData(u_physData, i, 256.0);\n}\n\nfloat getCombinedNodeSize(float i, float nodeSize) {\n  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;\n  return nodeSize + otherNodeSize;\n}\n\nvec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {\n  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;\n\n  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);\n  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;\n  float avgDegree;\n#if INTEL_WORKAROUND\n    avgDegree = max(numConnections, 4.0);\n#else\n    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;\n    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);\n#endif\n\n  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n  float dist = length(delta);\n\n  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);\n  if (u_collisionMultiplier > 0.0) {\n    F *= u_collisionMultiplier;\n  }\n  return (-delta / dist) * F;\n}\n\nvec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {\n  float collisionForce = (combinedNodeSize - dist) / (dist);\n  if (u_collisionMultiplier > 0.0) {\n    collisionForce *= u_collisionMultiplier;\n  }\n  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);\n}\n\nvec2 getRepulsionForce(float dist, float fScale, vec2 delta) {\n  float F = (u_baseLength * u_baseLength * fScale) / (dist);\n  return (delta / dist) * F * 0.05;\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterWeight = clusterData.w;\n\n  vec4 myPosition = getTextureData(u_physData, index, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n\n  vec2 acceleration = previousForce.xy;\n\n  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;\n  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;\n\n  if (isPinned > 0.5) {\n    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);\n    return;\n  }\n\n  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;\n  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;\n\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n  float springFScale = fScale;\n\n  if (numConnections > denseNodeThreshold) {\n    springFScale = sqrt(fScale);\n  }\n\n  float numOfRels = 0.0;\n\n  // Springs\n  for (float i = 1.0; i <= 256.0 * 256.0; i++) {\n    if (numOfRels >= numConnections) {\n      break;\n    }\n    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);\n    numOfRels += 1.0;\n  }\n\n  // Repulsion && collision detection\n  if (u_collisionMultiplier > 0.0) {\n    float number_of_collisions = 0.0;\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= u_numNodes) {\n        break;\n      }\n\n      if (i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;\n\n      if (dist < combinedNodeSize && number_of_collisions < 40.0) {\n        number_of_collisions++;\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {\n        acceleration += getRepulsionForce(dist, fScale, delta);\n      }\n    }\n  } else {\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n        break;\n      }\n\n      if (i < clusterStartIndex || i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);\n\n      if (dist < combinedNodeSize) {\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      acceleration += getRepulsionForce(dist, fScale, delta);\n    }\n  }\n\n  // Gravity\n  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);\n  float dist = length(delta);\n\n  vec2 grav = (delta / dist) * u_gravity * fScale;\n  acceleration += grav * smoothstep(0.0, 500.0, dist);\n\n  float accMagnitude = length(acceleration);\n  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;\n\n  float iterationFrictionThreshold = 1000.0;\n\n  if (u_curIteration > iterationFrictionThreshold) {\n    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;\n    acceleration *= 1.0 / friction;\n  }\n\n  if (u_curIteration == 0.0) {\n    gl_FragColor = vec4(myPosition.xy, myPosition.zw);\n  } else {\n    vec2 prevVelocity = myPosition.zw;\n    vec2 currentPos = myPosition.xy;\n    vec2 prevPos = currentPos - prevVelocity;\n\n    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);\n    vec2 newVelocity = newPos - currentPos;\n    gl_FragColor = vec4(newPos, newVelocity);\n  }\n}":"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_connections;\nuniform sampler2D u_connectionOffsets;\nuniform sampler2D u_pinnedNodes;\nuniform sampler2D u_sizeTexture;\nuniform float u_baseLength;\nuniform float u_curIteration;\nuniform float u_iterationMultiplier;\nuniform vec2 u_gravityCenter;\nuniform float u_numNodes;\nuniform float u_gravity;\n\nuniform sampler2D u_clusterData;\nuniform sampler2D u_prevForce;\nuniform float u_collisionMultiplier;\n\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\nfloat accLimitLow = 500000.0;\nfloat accLimitHigh = 750000.0;\nfloat accLimitPosHigh = 10000000.0;\n\nconst float denseNodeThreshold = 1000.0;\nconst float MIN_DISTANCE = 0.00000001;\nconst float MAX_DISTANCE = 1000000000.0;\nconst float MAX_ACCELERATION = 500000.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nbool isNan(float val) {\n  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;\n}\n\nconst float BIG_NUMBER = 999999999999999999.0;\nbool isInf(float val) {\n  return val > BIG_NUMBER || val < -BIG_NUMBER;\n}\n\nvec2 getDelta(vec2 v1, vec2 v2) {\n  vec2 delta = v1 - v2;\n  float dist = length(delta);\n  if (dist < MIN_DISTANCE || isNan(dist)) {\n    return vec2(MIN_DISTANCE, MIN_DISTANCE);\n  }\n  if (dist > MAX_DISTANCE) {\n    vec2 normDelta = delta / dist;\n    return normDelta * MAX_DISTANCE;\n  }\n  return delta;\n}\n\nvec4 getOtherNodePosition(float i) {\n  return getTextureData(u_physData, i, 256.0);\n}\n\nfloat getCombinedNodeSize(float i, float nodeSize) {\n  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;\n  return nodeSize + otherNodeSize;\n}\n\nvec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {\n  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;\n\n  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);\n  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;\n  float avgDegree;\n#if INTEL_WORKAROUND\n    avgDegree = max(numConnections, 4.0);\n#else\n    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;\n    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);\n#endif\n\n  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n  float dist = length(delta);\n\n  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);\n  if (u_collisionMultiplier > 0.0) {\n    F *= u_collisionMultiplier;\n  }\n  return (-delta / dist) * F;\n}\n\nvec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {\n  float collisionForce = ((combinedNodeSize - dist) / dist);\n  if (u_collisionMultiplier > 0.0) {\n    collisionForce *= u_collisionMultiplier;\n  }\n  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);\n}\n\nvec2 getRepulsionForce(float dist, float fScale, vec2 delta) {\n  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;\n  return (delta / dist) * F * 0.05;\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterWeight = clusterData.w;\n\n  vec4 myPosition = getTextureData(u_physData, index, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n\n  vec2 acceleration = previousForce.xy;\n\n  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;\n  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;\n\n  if (isPinned > 0.5) {\n    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);\n    return;\n  }\n\n  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;\n  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;\n\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n  float springFScale = fScale;\n\n  if (numConnections > denseNodeThreshold) {\n    springFScale = sqrt(fScale);\n  }\n\n  float numOfRels = 0.0;\n\n  // Springs\n  for (float i = 1.0; i <= 256.0 * 256.0; i++) {\n    if (numOfRels >= numConnections) {\n      break;\n    }\n    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);\n    numOfRels += 1.0;\n  }\n\n  // Repulsion && collision detection\n  if (u_collisionMultiplier > 0.0) {\n    float number_of_collisions = 0.0;\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= u_numNodes) {\n        break;\n      }\n\n      if (i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;\n\n      if (dist < combinedNodeSize && number_of_collisions < 40.0) {\n        number_of_collisions++;\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {\n        acceleration += getRepulsionForce(dist, fScale, delta);\n      }\n    }\n  } else {\n    for (float i = 0.0; i < 256.0 * 256.0; i++) {\n      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n        break;\n      }\n\n      if (i < clusterStartIndex || i == index) {\n        continue;\n      }\n\n      vec4 otherPosition = getOtherNodePosition(i);\n      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);\n      float dist = length(delta);\n      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);\n\n      if (dist < combinedNodeSize) {\n        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);\n      }\n\n      acceleration += getRepulsionForce(dist, fScale, delta);\n    }\n  }\n\n  // Gravity\n  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);\n  float dist = length(delta);\n\n  vec2 grav = (delta / dist) * u_gravity * fScale;\n  acceleration += grav * smoothstep(0.0, 500.0, dist);\n\n  float accMagnitude = length(acceleration);\n  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;\n\n  float iterationFrictionThreshold = 1000.0;\n\n  if (u_curIteration > iterationFrictionThreshold) {\n    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;\n    acceleration *= 1.0 / friction;\n  }\n\n  if (u_curIteration == 0.0) {\n    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);\n  } else {\n    myPosition.zw = myPosition.zw * VELOCITYDECAY;\n    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);\n  }\n}";this.physShader=new Uo(e,Yo,d,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity)}},{key:"setupPhysicsForCoarse",value:function(){var e=this,t=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var r,n,o=this.subGraphs.length,i=function(e,t,n,o,i){r[4*e+0]=t,r[4*e+1]=n,r[4*e+2]=i.size(),r[4*e+3]=o||1};if(1===o){r=new Float32Array(262144);var a=this.subGraphs[0].nodes;a.forEach((function(e,t){i(t,0,0,e.weight,{size:function(){return a.length}})})),this.levelsClusterTexture[0]=this.newTexture(t,r,ui)}else for(var u=function(){var o=e.subGraphs[s].nodes,a=s===e.subGraphs.length-1?[]:e.subGraphs[s+1].nodes;r=new Float32Array(262144),n=new Float32Array(65536);var u=0;if(a.length>0){var c=a.slice();c.sort((function(e,t){return e.previousIndex-t.previousIndex})),c.forEach((function(e,t){var r=u,s=a.indexOf(e);i(u,s,r,o[e.id].weight,e),n[u]=o[u].finestIndex,u+=1,e.planets.forEach((function(t){i(u,s,r,t.weight,e),n[u]=o[u].finestIndex,u+=1,t.moons.forEach((function(t){i(u,s,r,t.weight,e),n[u]=o[u].finestIndex,u+=1}))}))}))}else o.forEach((function(e,t){i(t,0,0,e.weight,{size:function(){return o.length}}),n[t]=o[t].finestIndex}));var l=e.newTexture(t,null,ui),f=e.newFramebuffer(t,l);e.levelsData[s]={texture:l,frameBuffer:f},e.levelsClusterTexture[s]=e.newTexture(t,r,ui),e.levelsFinestIndexTexture[s]=e.newTexture(t,n,bn,t.FLOAT,t.ALPHA)},s=this.subGraphs.length-1;s>=0;s--)u();for(var c=new Float32Array(262144),l=0;l<c.length;l++)c[l]=0;this.initalLevelTexture=this.newTexture(t,c,ui);var f=this.enableVerlet?"precision mediump float;\nuniform sampler2D u_physData;\nuniform sampler2D u_clusterData;\nuniform sampler2D u_finestIndexes;\nuniform sampler2D u_prevForce;\n\nuniform float u_baseLength;\nuniform float u_numNodes;\nuniform float u_iterationMultiplier;\nuniform float u_isTopLevel;\n\nfloat PI = 3.1415926535897932384626433832795;\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 1.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nfloat getSquaredLogClusterWeight(float value) {\n  return pow(log(value), 2.0);\n}\n\nvoid main(void) {\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);\n\n  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;\n  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n\n  vec2 acceleration = previousForce.xy;\n\n  // Repulsion & Collision Detection\n  for (float i = 0.0; i < 256.0 * 256.0; i++) {\n    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n      break;\n    }\n    if (i < clusterStartIndex || i == index) {\n      continue;\n    }\n\n    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);\n    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);\n\n    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;\n    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);\n\n    vec2 delta = myPosition.xy - otherPosition.xy;\n    float dist = max(length(delta), 0.0000001);\n    float maxDist = 25.0;\n    float repulsionForceScale = 0.1;\n\n    float F = (clusterArea * fScale) / (dist * dist);\n\n    if (u_isTopLevel == 1.0) {\n      repulsionForceScale = 0.2;\n    }\n\n    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;\n\n    if (dist < maxDist) {\n      float collide = (maxDist - dist) / (dist * dist);\n      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);\n    }\n  }\n\n  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));\n}":"precision mediump float;\nuniform sampler2D u_physData;\nuniform sampler2D u_clusterData;\nuniform sampler2D u_finestIndexes;\nuniform sampler2D u_prevForce;\n\nuniform float u_baseLength;\nuniform float u_numNodes;\nuniform float u_iterationMultiplier;\nuniform float u_isTopLevel;\n\nfloat TIMESTEP = 1.0 / 30.0;\nfloat VELOCITYDECAY = 0.6;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nfloat getLogClusterWeight(float value) {\n  return value / max(log(value), 1.0);\n}\n\nvoid main(void) {\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;\n\n  if (index >= u_numNodes) {\n    discard;\n  }\n\n  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);\n\n  float clusterIndex = clusterData.x;\n  float clusterStartIndex = clusterData.y;\n  float clusterSize = clusterData.z;\n\n  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;\n  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);\n  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);\n  float fScale = 1.0 + sqrt(u_iterationMultiplier);\n\n  vec2 acceleration = previousForce.xy;\n\n  // Repulsion & Collision Detection\n  for (float i = 0.0; i < 256.0 * 256.0; i++) {\n    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {\n      break;\n    }\n    if (i < clusterStartIndex || i == index) {\n      continue;\n    }\n\n    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);\n    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);\n\n    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;\n    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);\n\n    vec2 delta = myPosition.xy - otherPosition.xy;\n    float dist = max(length(delta), 0.0000001);\n    float maxDist = 25.0;\n    float repulsionForceScale = 0.1;\n\n    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;\n\n    if (u_isTopLevel == 1.0) {\n      repulsionForceScale = 0.3;\n    }\n\n    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;\n\n    if (dist < maxDist) {\n      float collide = (maxDist - dist) / dist;\n      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);\n    }\n  }\n\n  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));\n}";this.apprxRepForceShader=new Uo(t,Yo,f),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection)}},{key:"setupPinData",value:function(){var e=this.gl;this.pinTexture=e.createTexture(),this.pinData=new Uint8Array(65536);for(var t=0;t<65536;t++)this.pinData[t]=0;e.bindTexture(e.TEXTURE_2D,this.pinTexture),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,bn,bn,0,e.ALPHA,e.UNSIGNED_BYTE,this.pinData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var e=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.updateTexture),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,bn,bn,0,e.ALPHA,e.FLOAT,this.updateData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.updateShader=new Uo(e,Yo,"precision mediump float;\n\nuniform sampler2D u_physData;\nuniform sampler2D u_updateData;\nuniform float u_numNodesNew;\n\nconst float INDEX_FLAG = 999999.0;\n\nvec4 getTextureData(sampler2D texture, float index, float base) {\n  float x = mod(index, base);\n  float y = (index - x) / base;\n  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);\n}\n\nvoid main(void) {\n  float textureSide = 256.0; //#TEXTURE_SIDE#;\n  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;\n\n  if (index >= u_numNodesNew) {\n    discard;\n  }\n\n  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;\n  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;\n\n  if (secondValue == INDEX_FLAG) {\n    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);\n    gl_FragColor = myPosition;\n  } else {\n    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);\n  }\n}\n"),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection)}},{key:"setupReadpixelWorkaround",value:function(){var e=this.gl;this.workaroundShader=new Uo(e,Yo,"precision lowp float;\n\nuniform sampler2D u_physData;\nuniform float u_index;\n\nfloat shift_right (float v, float amt) { \n    v = floor(v) + 0.5; \n    return floor(v / exp2(amt)); \n}\n\nfloat shift_left (float v, float amt) { \n    return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last (float v, float bits) { \n    return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits (float num, float from, float to) { \n    from = floor(from + 0.5); to = floor(to + 0.5); \n    return mask_last(shift_right(num, from), to - from); \n}\n\n// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target\nvec4 encode_float (float val) { \n    if (val == 0.0) return vec4(0, 0, 0, 0); \n    float sign = val > 0.0 ? 0.0 : 1.0; \n    val = abs(val); \n    float exponent = floor(log2(val)); \n    float biased_exponent = exponent + 127.0; \n    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; \n    float t = biased_exponent / 2.0; \n    float last_bit_of_biased_exponent = fract(t) * 2.0; \n    float remaining_bits_of_biased_exponent = floor(t); \n    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; \n    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; \n    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n    return vec4(byte4, byte3, byte2, byte1); \n}\n\nvoid main(void) {\n  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);\n  float data;\n  if (u_index == 0.0) {\n    data = texData.x;\n  } else if (u_index == 1.0) {\n    data = texData.y;\n  } else if (u_index == 2.0) {\n    data = texData.z;\n  } else if (u_index == 3.0) {\n    data = texData.w;\n  }\n\n  gl_FragColor = encode_float(data);\n}\n"),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundData=[];for(var t=0;t<4;t++){var r=new Uint8Array(262144),n=this.newTexture(e,null,bn,e.UNSIGNED_BYTE),o=this.newFramebuffer(e,n);this.workaroundData.push({dataByte:r,dataFloat:new Float32Array(r.buffer),texture:n,frameBuffer:o})}}},{key:"doReadpixelWorkaround",value:function(){for(var e=this.gl,t=0;t<4;t++){var r=this.workaroundData[t];e.bindFramebuffer(e.FRAMEBUFFER,r.frameBuffer),e.viewport(0,0,bn,bn),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",t),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),e.bindBuffer(e.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.readPixels(0,0,bn,bn,e.RGBA,e.UNSIGNED_BYTE,r.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],r&&ri(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function fi(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return hi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function di(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vi(n.key),n)}}function pi(e,t,r){return(t=vi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e){var t=function(e,t){if("object"!=li(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==li(t)?t:String(t)}var yi="ForceCytoLayout",bi="forceDirected",mi="coseBilkent",gi=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pi(this,"physLayout",void 0),pi(this,"coseBilkentLayout",void 0),pi(this,"state",void 0),pi(this,"currentLayoutType",void 0),pi(this,"enableCytoscape",void 0),pi(this,"currentLayout",void 0);var n=t.state,o=t.enableCytoscape;this.enableCytoscape=null==o||o,this.physLayout=new ci(t),this.coseBilkentLayout=new Co({state:n,cytoCompleteCallback:function(){for(r.physLayout.update(!0),r.copyLayoutPositions(r.state.nodes.items,r.coseBilkentLayout,r.physLayout);r.physLayout.update(!1););r.copyLayoutPositions(r.state.nodes.items,r.physLayout,r.coseBilkentLayout)},animationCompleteCallback:function(){r.currentLayoutType===mi&&setTimeout((function(){return r.setLayout(bi)}),50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=bi;var i=n.nodes,a=n.rels;i.addChannel(yi),a.addChannel(yi),this.state=n}var t,r;return t=e,r=[{key:"setOptions",value:function(e){void 0!==e&&(this.currentLayout.setOptions(e),this.enableCytoscape=e.enableCytoscape)}},{key:"getLayout",value:function(e){return e===mi?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(e){if(e!==this.currentLayoutType){Kn.info("Switching to layout: ".concat(e," in ForceCyto"));var t=this.getLayout(e);this.currentLayout=t,this.currentLayoutType=e}}},{key:"copyLayoutPositions",value:function(e,t,r){var n=t.getNodePositions(e);r.updateNodes(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,r=t.nodes,n=t.rels,o=r.channels[yi],i=n.channels[yi],a=Object.values(o.adds).length,u=Object.values(i.adds).length,s=Object.values(o.adds).map((function(e){return e.id})),c=Object.values(i.adds).map((function(e){return e.id})),l=new Set(Object.keys(o.adds)),f=new Set(Object.keys(i.adds));if(r.clearChannel(yi),n.clearChannel(yi),this.currentLayoutType===bi&&this.enableCytoscape&&r.items.length<=100&&a<100&&a>0&&u>0){var h=r.items.map((function(e){return e.id})),d=new Set([].concat(fi(h),fi(s))),p=n.items.map((function(e){return e.id})),v=new Set([].concat(fi(p),fi(c)));if(d.size<=100&&v.size<=300){var y=function(e,t,r,n){var o,i=new Set(e),a=An(new Set(t));try{for(a.s();!(o=a.n()).done;){var u=o.value,s=n.idToItem[u];if(s){var c=s.from,l=s.to;i.add(c),i.add(l)}}}catch(e){a.e(e)}finally{a.f()}var f,h=function(e){var t,r={},n={},o=An(e);try{for(o.s();!(t=o.n()).done;){for(var i=t.value,a=i.from,u=i.to,s="".concat(a,"-").concat(u),c="".concat(u,"-").concat(a),l=0,f=[s,c];l<f.length;l++){var h=f[l];void 0!==n[h]?n[h].push(i):n[h]=[i]}r[a]||(r[a]=new Set),r[u]||(r[u]=new Set),r[a].add(u),r[u].add(a)}}catch(e){o.e(e)}finally{o.f()}return{adjNodesMap:r,relMap:n}}(n.items),d=h.adjNodesMap,p=h.relMap,v={},y={},b=function(e){var t=[];for(v[e]||t.push(e);t.length>0;){var n=t.shift();if(v[n]=r.idToItem[n],void 0!==d[n]){var o,i=An(d[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!v[a]){t.push(a);var u=p["".concat(n,"-").concat(a)];if(u){var s,c=An(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;y[l.id]||(y[l.id]=l)}}catch(e){c.e(e)}finally{c.f()}}}}}catch(e){i.e(e)}finally{i.f()}}}},m=An(i);try{for(m.s();!(f=m.n()).done;)b(f.value)}catch(e){m.e(e)}finally{m.f()}return{connectedNodes:v,connectedRels:y}}(l,f,r,n),b=y.connectedNodes,m=y.connectedRels,g=Object.values(b),_=Object.values(m),w=g.length,O=_.length;w===l.size&&O===f.size&&(f.size>0||l.size>0)?(this.setLayout(mi),this.coseBilkentLayout.update(!0,r.items,n.items)):O>0&&f.size/O>.25&&(this.setLayout(mi),this.coseBilkentLayout.update(!0,g,_))}}this.physLayout.update(e),this.coseBilkentLayout.update(e)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(e){this.setLayout(bi),this.physLayout.updateNodes(e)}},{key:"getNodePositions",value:function(e){return this.currentLayout.getNodePositions(e)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],r&&di(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){Ti(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Si(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ei(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xi(n.key),n)}}function Ti(e,t,r){return(t=xi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xi(e){var t=function(e,t){if("object"!=_i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=_i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_i(t)?t:String(t)}var Ci="FreeLayout",ji=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ti(this,"state",void 0),Ti(this,"positions",void 0),Ti(this,"shouldUpdate",void 0),Ti(this,"stateDisposers",void 0);var n=t.state;this.state=n,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction((function(){return r.state.graphUpdates}),(function(){void 0!==r.state.nodes.version&&(r.shouldUpdate=!0),void 0!==r.state.rels.version&&(r.shouldUpdate=!0)})));var o=this.state,i=o.nodes,a=o.rels;i.addChannel(Ci),a.addChannel(Ci),this.shouldUpdate=!0,this.setOptions(),this.layout(i.items,i.idToItem,i.idToPosition)}var t,n;return t=e,n=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(e){var t,r=Si(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;void 0!==n.x&&void 0!==n.y&&(this.positions[n.id]={x:n.x,y:n.y}),this.shouldUpdate=!0}}catch(e){r.e(e)}finally{r.f()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var t=this.state,r=t.nodes,n=t.rels,o=Object.values(r.channels[Ci].adds).length>0,i=Object.values(n.channels[Ci].adds).length>0,a=Object.values(r.channels[Ci].removes).length>0,u=Object.values(n.channels[Ci].removes).length>0;(o||i||a||u)&&this.layout(r.items,r.idToItem,r.idToPosition),r.clearChannel(Ci),n.clearChannel(Ci)}this.shouldUpdate=!1}},{key:"layout",value:function(e,t,n){var o,i=void 0!==(o=e)?gr(o):o;if(!(0,r.isEmpty)(i)){for(var a={},u=0;u<i.length;++u){var s,c=i[u].id,l=null!==(s=n[c])&&void 0!==s?s:{},f=l.x,h=void 0===f?0:f,d=l.y,p=void 0===d?0:d;a[c]={id:c,x:h,y:p}}this.positions=a,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(e){this.positions=e}},{key:"getNodePositions",value:function(e){var t,r=[],n=Si(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this.positions[o.id],a=Oi({id:o.id},i);r.push(a)}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel(Ci),this.state.rels.removeChannel(Ci)}}],n&&Pi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Di(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ii(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ni(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Di(n.key),n)}}function Di(e){var t=function(e,t){if("object"!=Ai(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ai(t)?t:String(t)}var Li="GridLayout",Ui=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.state;this.state=n,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction((function(){return r.state.graphUpdates}),(function(){void 0!==r.state.nodes.version&&(r.shouldUpdate=!0),void 0!==r.state.rels.version&&(r.shouldUpdate=!0)})));var o=this.state,i=o.nodes,a=o.rels;i.addChannel(Li),a.addChannel(Li),this.shouldUpdate=!0,this.setOptions(t),this.layout(i.items,i.idToItem,i.idToPosition,a.items)}var t,n;return t=e,n=[{key:"setOptions",value:function(e){}},{key:"updateNodes",value:function(e){var t,r=Ii(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;void 0!==n.x&&void 0!==n.y&&(this.positions[n.id]={x:n.x,y:n.y}),this.shouldUpdate=!0}}catch(e){r.e(e)}finally{r.f()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var t=this.state,r=t.nodes,n=t.rels,o=Object.values(r.channels[Li].adds).length>0,i=Object.values(n.channels[Li].adds).length>0,a=Object.values(r.channels[Li].removes).length>0,u=Object.values(n.channels[Li].removes).length>0;(o||i||a||u)&&(this.layout(r.items,r.idToItem,r.idToPosition,n.items),r.idToPosition=this.positions),r.clearChannel(Li),n.clearChannel(Li)}this.shouldUpdate=!1}},{key:"layout",value:function(e,t,n,o){var i,a=(i=e)?gr(i):i;if(!(0,r.isEmpty)(a)){for(var u=a.length,s=Math.ceil(Math.sqrt(u)),c=new Array(u),l=0,f=0;f<s;++f){for(var h=0;h<s&&(c[l]={y:0+150*f,x:0+150*h},(l+=1)!==u);++h);if(l===u)break}for(var d=a.sort(),p={},v=0;v<u;++v){var y=d[v],b=c[v];y.x===b.x&&y.y===b.y||(p[y.id]=Ri({id:y.id},b))}this.positions=p,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(e){var t,r=[],n=Ii(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this.positions[o.id],a=Ri({id:o.id},i);r.push(a)}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel(Li),this.state.rels.removeChannel(Li)}}],n&&Ni(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Fi=new Set(["direction","packing"]),Bi="forceDirected",zi="hierarchical",Vi="grid",Wi="free",Gi="d3Force",qi="webgl",Hi="canvas";function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Xi(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Yi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yi(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zi="down",Ki=Xi(Xi(Xi(Xi({},"up","BT"),Zi,"TB"),"left","RL"),"right","LR"),$i="bin",Qi=[$i,"stack"],Ji=["html"],ea=["html"],ta=["captionHtml"];function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function na(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function oa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ha(n.key),n)}}function ia(e,t,r){return t=ca(t),function(e,t){if(t&&("object"===ra(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ua(e)}(e,aa()?Reflect.construct(t,r||[],ca(e).constructor):t.apply(e,r))}function aa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aa=function(){return!!e})()}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sa(){return sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ca(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sa.apply(this,arguments)}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function la(e,t){return la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},la(e,t)}function fa(e,t,r){return(t=ha(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ha(e){var t=function(e,t){if("object"!=ra(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ra(t)?t:String(t)}var da="HierarchicalLayout",pa=function(e){return void 0!==e?gr(e):e},va=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fa(ua(r=ia(this,t,[e])),"direction",void 0),fa(ua(r),"packing",void 0),fa(ua(r),"stateDisposers",void 0),fa(ua(r),"oldComputing",void 0),fa(ua(r),"computing",void 0),fa(ua(r),"pendingLayoutData",void 0),fa(ua(r),"worker",void 0),fa(ua(r),"directionChanged",void 0),fa(ua(r),"packingChanged",void 0),fa(ua(r),"workersDisabled",void 0),r.direction=Zi,r.packing=$i;var n=r.state,o=n.nodes,i=n.rels;return o.addChannel(da),i.addChannel(da),r.stateDisposers=[r.state.reaction((function(){return r.state.graphUpdates}),(function(){if(void 0!==o.version){var e=o.channels[da],t=Object.values(e.adds).length>0,n=Object.values(e.removes).length>0,a=Object.values(e.updates),u=In(a);r.shouldUpdate=r.shouldUpdate||t||n||u}if(void 0!==i.version){var s=i.channels[da],c=Object.values(s.adds).length>0,l=Object.values(s.removes).length>0;r.shouldUpdate=r.shouldUpdate||c||l}}))],r.shouldUpdate=!0,r.oldComputing=!1,r.computing=!1,r.workersDisabled=e.state.disableWebWorkers,r.setOptions(e),r.worker=Jn("HierarchicalLayout",r.workersDisabled),r.pendingLayoutData=null,r.layout(o.items,o.idToItem,o.idToPosition,i.items),r}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&la(e,t)}(t,e),r=t,n=[{key:"setOptions",value:function(e){if(void 0!==e&&function(e){return Object.keys(e).every((function(e){return Fi.has(e)}))}(e)){var t=e.direction,r=void 0===t?Zi:t,n=e.packing,o=void 0===n?$i:n;Object.keys(Ki).includes(r)&&(this.directionChanged=this.direction&&this.direction!==r,this.direction=r),Qi.includes(o)&&(this.packingChanged=this.packing&&this.packing!==o,this.packing=o),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.shouldUpdate||e){var r=this.state,n=r.nodes,o=r.rels,i=this.directionChanged,a=this.packingChanged,u=Object.values(n.channels[da].adds).length>0,s=Object.values(o.channels[da].adds).length>0,c=Object.values(n.channels[da].removes).length>0,l=Object.values(o.channels[da].removes).length>0,f=Object.values(n.channels[da].updates),h=In(f);(e||u||s||c||l||i||a||h)&&this.layout(n.items,n.idToItem,n.idToPosition,o.items),n.clearChannel(da),o.clearChannel(da),this.directionChanged=!1,this.packingChanged=!1}sa(ca(t.prototype),"update",this).call(this),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(e,t,r,n){var o=this;if(this.worker){var i=pa(e).map((function(e){return e.html,na(e,Ji)})),a=pa(t),u={};Object.keys(a).forEach((function(e){var t=a[e],r=(t.html,na(t,ea));u[e]=r}));var s=pa(n).map((function(e){return e.captionHtml,na(e,ta)})),c=pa(r),l=this.direction,f=this.packing,h=window.devicePixelRatio,d={nodes:i,nodeIds:u,idToPosition:c,rels:s,direction:l,packing:f,pixelRatio:h,forcedDelay:0};this.computing?this.pendingLayoutData=d:(this.worker.port.onmessage=function(e){var t=e.data,r=t.positions,n=t.parents,i=t.waypoints;o.computing&&(o.positions=r),o.parents=n,o.state.setWaypoints(i),null!==o.pendingLayoutData?(o.worker.port.postMessage(o.pendingLayoutData),o.pendingLayoutData=null):o.computing=!1,o.shouldUpdate=!0,o.startAnimation()},this.computing=!0,this.worker.port.postMessage(d))}else Kn.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var e,t;this.computing=!1,this.shouldUpdate=!1,null===(e=this.state.nodes)||void 0===e||e.clearChannel(da),null===(t=this.state.rels)||void 0===t||t.clearChannel(da)}},{key:"destroy",value:function(){var e;this.stateDisposers.forEach((function(e){e()})),this.state.nodes.removeChannel(da),this.state.rels.removeChannel(da),null===(e=this.worker)||void 0===e||e.port.close()}}],n&&oa(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(co);function ya(e){return ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(e)}function ba(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ga(n.key),n)}}function ma(e,t,r){return(t=ga(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ga(e){var t=function(e,t){if("object"!=ya(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ya(t)?t:String(t)}var _a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ma(this,"elementId",void 0),ma(this,"currentValue",void 0),ma(this,"startValue",void 0),ma(this,"currentTime",void 0),ma(this,"duration",void 0),ma(this,"status",void 0),ma(this,"endValue",void 0),ma(this,"startTime",void 0),ma(this,"endTime",void 0),ma(this,"hasNextAnimation",void 0),this.elementId=t,this.startValue=r,this.status=0,this.currentValue=r,this.duration=0}var t,r;return t=e,(r=[{key:"setDuration",value:function(e){this.duration=e,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(1!==this.status)return!1;this.currentTime=(new Date).getTime();var e,t=this.endTime-this.startTime;return(e=t>0?(this.currentTime-this.startTime)/t:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+e*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(e){this.endValue!==e&&(e-this.currentValue!=0?(this.currentTime=(new Date).getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=e,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=e)}},{key:"setEndTime",value:function(e){this.endTime=Math.max(e,this.startTime)}}])&&ba(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}function Oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(r),!0).forEach((function(t){Pa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ta(n.key),n)}}function Pa(e,t,r){return(t=Ta(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ta(e){var t=function(e,t){if("object"!=wa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wa(t)?t:String(t)}var xa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pa(this,"animations",void 0),Pa(this,"durations",void 0),Pa(this,"defaultDuration",void 0),Pa(this,"hasNextAnimation",void 0),Pa(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1}var t,r;return t=e,r=[{key:"advance",value:function(){var e=this;return this.hasNextAnimation=!1,this.animations.forEach((function(t){Object.values(t).forEach((function(t){t.advance()&&(e.hasNextAnimation=!0)}))})),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(e){this.ignoreAnimationsFlag=e}},{key:"setOptions",value:function(e){void 0!==e.fadeDuration&&(this.durations[0]=e.fadeDuration),void 0!==e.sizeDuration&&(this.durations[1]=e.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(this.ignoreAnimationsFlag)return r;var a=null!==(n=this.getById(e))&&void 0!==n?n:{};if(void 0===a[t]){var u=1===i?this.createSizeAnimation(0,e,t):this.createFadeAnimation(0,e,t);u.setEndValue(r),o=u.currentValue}else{var s=a[t];if(s.currentValue===r)return r;s.setEndValue(r),o=s.currentValue}return this.hasNextAnimation=!0,o}},{key:"createAnimation",value:function(e,t,r){var n,o=new _a(t,e),i=null!==(n=this.animations.get(t))&&void 0!==n?n:{};return this.animations.set(t,Sa(Sa({},i),{},Pa({},r,o))),o}},{key:"getById",value:function(e){return this.animations.get(e)}},{key:"createFadeAnimation",value:function(e,t,r){var n,o=this.createAnimation(e,t,r);return o.setDuration(null!==(n=this.durations[0])&&void 0!==n?n:this.defaultDuration),o}},{key:"createSizeAnimation",value:function(e,t,r){var n,o=this.createAnimation(e,t,r);return o.setDuration(null!==(n=this.durations[1])&&void 0!==n?n:this.defaultDuration),o}}],r&&Ea(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function ja(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aa(n.key),n)}}function Aa(e){var t=function(e,t){if("object"!=Ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ca(t)?t:String(t)}var ka=64,Ra=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=void 0,(r=Aa(r="cache"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.cache={}}var t,r;return t=e,r=[{key:"getImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getOrCreateEntry(e),n=t?"inverted":"image",o=r[n];return void 0===o&&(o=this.loadImage(e),r[n]=o),this.drawIfNeeded(o,t),o.canvas}},{key:"getOrCreateEntry",value:function(e){return void 0===this.cache[e]&&(this.cache[e]={}),this.cache[e]}},{key:"invertCanvas",value:function(e){for(var t=e.getImageData(0,0,ka,ka),r=t.data,n=0;n<4096;n++){var o=4*n;r[o]^=255,r[o+1]^=255,r[o+2]^=255}e.putImageData(t,0,0)}},{key:"loadImage",value:function(e){var t=document.createElement("canvas");t.width=ka,t.height=ka;var r=new Image;return r.src=e,r.crossOrigin="anonymous",{canvas:t,image:r,drawn:!1}}},{key:"drawIfNeeded",value:function(e,t){var r=e.image,n=e.canvas;if(!e.drawn&&r.complete){var o=n.getContext("2d");try{o.drawImage(r,0,0,ka,ka)}catch(e){Kn.error("Failed to draw image",r.src,e),o.beginPath(),o.strokeStyle="black",o.rect(0,0,ka,ka),o.moveTo(0,0),o.lineTo(ka,ka),o.moveTo(0,ka),o.lineTo(ka,0),o.stroke(),o.closePath()}t&&this.invertCanvas(o),e.drawn=!0}}}],r&&ja(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ia=Ra;function Ma(e){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(e)}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Da(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ua(n.key),n)}}function La(e,t,r){return(t=Ua(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ua(e){var t=function(e,t){if("object"!=Ma(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ma(t)?t:String(t)}var Fa=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),La(this,"key",void 0),La(this,"rels",void 0),La(this,"waypointPath",void 0),La(this,"selfReferring",void 0),La(this,"fromId",void 0),La(this,"toId",void 0),La(this,"angles",void 0),La(this,"labelInfo",void 0),this.key=t,this.rels=[],this.selfReferring=r===n,this.fromId=r,this.toId=n,this.labelInfo={},this.angles=[]}var t,n;return t=e,n=[{key:"insert",value:function(e){this.rels.push({rel:e})}},{key:"setLabelInfo",value:function(e,t){this.labelInfo[e]=t}},{key:"remove",value:function(e){var t=e.id,r=this.rels,n=r.findIndex((function(e){return e.rel.id===t}));if(-1!==n&&(r.splice(n,1),0===n&&r.length>0)){var o=r[0].rel,i=o.from,a=o.to;this.fromId=i,this.toId=a}}},{key:"size",value:function(){return this.rels.length}},{key:"maxFontSize",value:function(){return Math.max.apply(Math,function(e){if(Array.isArray(e))return Na(e)}(e=this.rels.map((function(e){var t=e.rel;return(0,r.isNumber)(t.captionSize)?t.captionSize:1})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Na(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Na(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e}},{key:"relIsOppositeDirection",value:function(e){var t=e.from,r=e.to,n=this.fromId,o=this.toId;return t!==n&&r!==o||t===o&&r===n}},{key:"indexOf",value:function(e){var t=e.id;return this.rels.findIndex((function(e){return e.rel.id===t}))}},{key:"getRel",value:function(e){var t=this.rels;return e<0||e>=t.length?null:t[e].rel}},{key:"setWaypoints",value:function(e){this.waypointPath=e}},{key:"setAngles",value:function(e){this.angles=e}}],n&&Da(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ba=wn,za=2*Math.PI/50,Va=.1*Math.PI;function Wa(e){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(e)}function Ga(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return qa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qa(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ha(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xa(n.key),n)}}function Ya(e,t,r){return(t=Xa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xa(e){var t=function(e,t){if("object"!=Wa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wa(t)?t:String(t)}var Za=function(e){var t=[];if(0===e.length)t.push({size:2*Math.PI,start:0});else{for(var r=e.length-1;r>=0;r--){var n=void 0,o=void 0;0===r?(o=e[e.length-1],n=e[r]-e[e.length-1]+2*Math.PI):(o=e[r-1],n=e[r]-e[r-1]),t.push({size:n,start:o})}t.sort((function(e,t){return t.size-e.size}))}return t},Ka=function(e,t){for(;t>e.length||e[0].size>2*e[t-1].size;)e.push({size:e[0].size/2,start:e[0].start}),e.push({size:e[0].size/2,start:e[0].start+e[0].size/2}),e.shift(),e.sort((function(e,t){return t.size-e.size}));return e},$a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ya(this,"bundles",void 0),Ya(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var n=t.reduce((function(e,t){return e[t.id]=t,e}),{});this.updateData(n,{},r)}var t,r;return t=e,r=[{key:"getBundle",value:function(e){var t=this.bundles,r=this.nodeToBundles,n=this.generatePairId(e.from,e.to),o=t[n];return void 0===o&&(o=new Fa(n,e.from,e.to),t[n]=o,void 0===r[e.from]&&(r[e.from]=[]),void 0===r[e.to]&&(r[e.to]=[]),r[e.from].push(o),r[e.to].push(o)),o}},{key:"updateData",value:function(e,t,r){for(var n=this.bundles,o=this.nodeToBundles,i=function(e,t){var r=o[t].findIndex((function(t){return t===e}));-1!==r&&o[t].splice(r,1),0===o[t].length&&delete o[t]},a=Object.values(e),u=Object.values(t),s=0,c=a;s<c.length;s++){var l=c[s];this.getBundle(l).insert(l)}for(var f=0,h=u;f<h.length;f++){var d=h[f],p=this.getBundle(d);p.remove(d),0===p.size()&&(delete n[p.key],i(p,d.from),i(p,d.to))}for(var v=0,y=Object.keys(n);v<y.length;v++){var b=n[y[v]];b.setWaypoints(r["".concat(b.fromId,"-").concat(b.toId)])}}},{key:"updatePositions",value:function(e){for(var t=this.nodeToBundles,r=0,n=Object.keys(e);r<n.length;r++){var o,i=n[r],a=null!==(o=t[i])&&void 0!==o?o:[];if(0!==a.length){var u=a.find((function(e){return e.selfReferring})),s=a.filter((function(e){return!e.selfReferring}));if(void 0!==u){var c,l=[],f=Ga(s);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=e[h.fromId],p=e[h.toId];if(void 0!==d&&void 0!==p)for(var v=za*h.size(),y=d.id===i?Math.atan2(p.y-d.y,p.x-d.x):Math.atan2(d.y-p.y,d.x-p.x),b=0;b<h.size();b++)l.push(y+v/2-b*za);else{var m=void 0===d?h.fromId:h.toId;Kn.warn("Arrowbundler: Node with id ".concat(m," is not in position map"))}}}catch(e){f.e(e)}finally{f.f()}var g=l.map((function(e){return(e+2*Math.PI)%(2*Math.PI)})).sort(),_=Za(g);Ka(_,u.size());var w=_.map((function(e){return e.start+e.size/2})).slice(0,u.size());u.setAngles(w)}}}}},{key:"generatePairId",value:function(e,t){return[e.toString(),t.toString()].sort((function(e,t){return e.localeCompare(t)})).join("-")}}],r&&Ha(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ru(n.key),n)}}function tu(e,t,r){return(t=ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ru(e){var t=function(e,t){if("object"!=Qa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Qa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qa(t)?t:String(t)}var nu=function(e,t){return(0,r.isFinite)(e.x)&&(0,r.isFinite)(e.y)&&(0,r.isFinite)(t.x)&&(0,r.isFinite)(t.y)},ou=function(e,t){if(void 0===e||void 0===t||!nu(e,t))return!1;var r=t.x-e.x,n=t.y-e.y,o=Cn();return r*r+n*n<100*o*o},iu=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tu(this,"p1",void 0),tu(this,"p2",void 0),tu(this,"unit",void 0),tu(this,"norm",void 0),tu(this,"length",void 0),tu(this,"vector",void 0),this.p1=t,this.p2=r,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()}var t,r;return t=e,r=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var e=this.vector,t=e.x,r=e.y;return Math.sqrt(t*t+r*r)}},{key:"getUnitVector",value:function(){var e=this.vector,t=this.length;return{x:e.x/t,y:e.y/t}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],r&&eu(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),au=function(e,t,n){var o={x:t.x-e.x,y:t.y-e.y},i=function(e,t){var n=(e.x*t.x+e.y*t.y)/(t.x*t.x+t.y*t.y);return(0,r.clamp)(n,0,1)}({x:n.x-e.x,y:n.y-e.y},o),a=e.x+i*o.x,u=e.y+i*o.y,s=a-n.x,c=u-n.y;return Math.sqrt(s*s+c*c)},uu=function(e,t,r,n){if(t.x===r.x&&t.y===r.y)return t;var o=t.y-e.y,i=e.x-t.x,a=o*e.x+i*e.y,u=n.y-r.y,s=r.x-n.x,c=u*r.x+s*r.y,l=o*s-u*i;return 0===l?null:{x:(s*a-i*c)/l,y:(o*c-u*a)/l}},su=function(e,t,r,n){var o,i,a,u=1e9,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){tu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),c={x:0,y:0};for(i=1;i<10;i++)a=.1*i,c.x=Math.pow(1-a,2)*e.x+2*a*(1-a)*r.x+Math.pow(a,2)*t.x,c.y=Math.pow(1-a,2)*e.y+2*a*(1-a)*r.y+Math.pow(a,2)*t.y,i>0&&(u=(o=au(s,c,n))<u?o:u),s.x=c.x,s.y=c.y;return u},cu=o(3269),lu=o.n(cu);function fu(e){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(e)}function hu(e){return function(e){if(Array.isArray(e))return yu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?du(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],o=function(e){var t=function(e,t){if("object"!=fu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=fu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fu(t)?t:String(t)}(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vu(e,t){if(e){if("string"==typeof e)return yu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yu(e,t):void 0}}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bu="…",mu=function(e){return!(!e||!isNaN(Number(e))||e.toLowerCase()===e.toUpperCase())&&e===e.toUpperCase()},gu=function(e){var t=e[e.length-1],r=e[e.length-2];return!(!t||!isNaN(Number(t))||t.toLowerCase()===t.toUpperCase())&&!(!r||!isNaN(Number(r))||r.toLowerCase()===r.toUpperCase())&&mu(t)&&!mu(r)},_u=function(e,t,r,n){for(var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=[],u=[],s=0,c=0,l=!1,f=!1,h=0;h<n;h++)a[h]=r(h,n);for(var d,p=function(){o=e.slice(s,v);var r,h,d=t(o),p=a[c];if(d>p||(h=e[v-1],"\n\r\v".includes(h))){if(!(c<n-1)){if(i)return{v:[]};for(var y=v;d>p;){for(y-=1;r=e[y-1]," \t\n\r\v".includes(r);)y-=1;if(!(y-s>1)){o="",f=!0,l=!1;break}o=e.slice(s,y),d=t(o),f=!0,l=!1}return u[c]={text:o,hasEllipsisChar:f,hasHyphenChar:l},{v:u}}l=!1,f=!1;var b=function(e){var t=e.length,r=Math.min(t-1,3);if(1===t)return{hyphen:!1,cnt:0};for(var n=0;n<r;n++){var o=e[e.length-(n+1)];if(" "===o||o.toLowerCase()===o.toUpperCase())return{hyphen:!1,cnt:n+1};var i=e.slice(0,e.length-n);if(gu(i))return{hyphen:!1,cnt:n+1}}return{hyphen:!0,cnt:1}}(o),m=v-b.cnt;if(b.hyphen)for(o=e.slice(s,m),d=t(o),l=!0;d>p;){if(!(m-s>1)){o=e[s],m=s+1,d=t(o),l=!1;break}m-=1,o=e.slice(s,m),d=t(o),l=!0}else o=(o=e.slice(s,m)).trim();u[c]={text:o,hasEllipsisChar:f,hasHyphenChar:l},s=m,c+=1}},v=1;v<=e.length;v++)if(d=p())return d.v;return o=e.slice(s,e.length),u[c]={text:o,hasEllipsisChar:f,hasHyphenChar:!1},u},wu=function(e,t,r,n,o,i,a,u){e.font="bold ".concat(n,"px ").concat(r).replace(/"/g,"");for(var s=function(t){var r;return null===(r=e.measureText(t))||void 0===r?void 0:r.width},c=i?(a<4?["",""]:[""]).length:0,l=function(e,t){return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",o=.98*r,i=.89*r,a=.95*r;return 1===t?o:2===t?a:3===t&&"top"===n?0===e||2===e?i:o:4===t&&"top"===n?0===e||3===e?.78*r:a:5===t&&"top"===n?0===e||4===e?.65*r:1===e||3===e?i:a:o}(e+c,t+c,o)},f=1,h=[],d=function(){if(0===(h=function(e,t,r,n){var o,i=e.split(/\s/g).filter((function(e){return e.length>0})),a=[],u=null,s=function(e){return t(e)>r(a.length,n)},c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=vu(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(i);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=u?"".concat(u," ").concat(l):l;if(t(f)<r(a.length,n))u=f;else{if(null!==u){var h=s(u);a.push({text:u,overflowed:h})}if(u=l,a.length>n)return[]}}}catch(e){c.e(e)}finally{c.f()}if(u){var d=s(u);a.push({text:u,overflowed:d})}return a.length<=n?a:[]}(t,s,l,f)).length)h=_u(t,s,l,f,a>f);else if(h.some((function(e){return e.overflowed}))){var e=f;h=h.reduce((function(t,r){var n=a-t.length;if(0===n){var o=t[t.length-1];return o.text.endsWith(bu)||(s(o.text)+s(bu)>l(t.length,e)?(t[t.length-1].text=o.text.slice(0,-2),t[t.length-1].hasEllipsisChar=!0):(t[t.length-1].text=o.text,t[t.length-1].hasEllipsisChar=!0)),t}if(r.overflowed){var i=_u(r.text,s,l,n);t=t.concat(i)}else t.push({text:r.text,hasEllipsisChar:!1,hasHyphenChar:!1});return t}),[])}else h=h.map((function(e){return pu(pu({},e),{},{hasEllipsisChar:!1,hasHyphenChar:!1})}));f+=1};0===h.length;)d();return Array.from(h)},Ou=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t,r){var n=t.value;if(n){var o="".concat(r>0&&e.length?", ":"").concat(n);return[].concat(hu(e),[pu(pu({},t),{},{value:o,chars:o.split("").map((function(n,o){var i,a;return 0!==r&&e.length?o<2?null:hu(null!==(i=t.styles)&&void 0!==i?i:[]):hu(null!==(a=t.styles)&&void 0!==a?a:[])}))})])}return[]}),[]);return{stylesPerChar:e.reduce((function(e,t){return[].concat(hu(e),hu(t.chars))}),[]),fullCaption:e.map((function(e){return e.value})).join("")}};function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Eu=[[.04,1],[100,2]],Pu=[[.8,1.1],[3,1.6],[8,2.5]],Tu=[[Pu[0][0],1],[100,1.25]],xu=function(e,t){if(e.includes("rgba"))return e;if(e.includes("rgb")){var r=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(t,")")}var n=lu().get.rgb(e);return null===n?e:"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(t,")")},Cu=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n.headPosition,u=n.headAngle,s=n.headHeight,c=n.headChinHeight,l=n.headWidth,f=Math.cos(u),h=Math.sin(u),d=function(e,t){return{x:a.x+e*f-t*h,y:a.y+e*h+t*f}},p=[d(c-s,0),d(-s,l/2),d(0,0),d(-s,-l/2)],v={lineWidth:e.lineWidth,strokeStyle:e.strokeStyle,fillStyle:e.fillStyle};e.lineWidth=t,e.strokeStyle=r,e.fillStyle=r,function(e,t,r,n){if(e.beginPath(),t.length>0){var o=t[0];e.moveTo(o.x,o.y)}for(var i=1;i<t.length;i++){var a=t[i];e.lineTo(a.x,a.y)}e.closePath(),r&&e.fill(),n&&e.stroke()}(e,p,o,i),e.lineWidth=v.lineWidth,e.strokeStyle=v.strokeStyle,e.fillStyle=v.fillStyle},ju=function(e,t,r,n,o){var i=n;o.forEach((function(n){var o=n.width,a=n.color,u=i+o;e.beginPath(),e.fillStyle=a,e.arc(t,r,u,0,2*Math.PI,!1),e.arc(t,r,i,2*Math.PI,0,!0),e.fill(),e.closePath(),i=u}))},Au=function(e,t,r,n){e.beginPath(),e.arc(t,r,n,0,2*Math.PI,!1),e.closePath()},ku=function(e,t,r,n,o){e.beginPath(),e.fillStyle=n,Au(e,t,r,o),e.fill(),e.closePath()};function Ru(e,t){var r=t.find((function(t){return e<t[0]})),n=t[t.length-1][1];return void 0!==r?r[1]:n}var Iu=function(e,t,r,n,o,i,a,u,s,c){var l=n,f=0,h=0,d="".concat(o,"px ").concat(i),p="normal ".concat(d);t.forEach((function(t){var n;e.font=p;var o,i=-(null===(n=e.measureText(t.text))||void 0===n?void 0:n.width)/2,v=t.text?function(e){if(Array.isArray(e))return Su(e)}(o=t.text)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return Su(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Su(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[];t.hasHyphenChar||t.hasEllipsisChar||v.push(" "),v.forEach((function(n){var o,a=e.measureText(n).width,v=null!==(o=r[h])&&void 0!==o?o:[],y=v.includes("bold"),b=v.includes("italic");e.font=y&&b?"italic 600 ".concat(d):b?"italic 400 ".concat(d):y?"bold ".concat(d):p,v.includes("underline")&&e.fillRect(u+i+f,s+l+.2,a,.2),t.hasEllipsisChar?e.fillText(n,u+i+f-c/2,s+l):e.fillText(n,u+i+f,s+l),f+=a,h+=1})),e.font=p,t.hasHyphenChar&&e.fillText("‐",u+i+f,s+l),t.hasEllipsisChar&&e.fillText(bu,u+i+f-c/2,s+l),f=0,l+=a}))},Mu=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Nu=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Du=function(e,t){return{x:e.x*t,y:e.y*t}},Lu=function(e,t){return function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(Nu(e,t))},Uu=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}};function Fu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Bu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zu=2*Math.PI,Vu=Math.PI/2,Wu=function(e,t,r,n,o,i){var a={x:(e.x+t.x)/2,y:(e.y+t.y)/2},u={x:e.x,y:e.y},s={x:t.x,y:t.y},c=new iu(s,u),l=function(e,t){var r=0;return e&&(r+=e),t&&(r-=t),r}(n,r);a.x+=l/2*c.unit.x,a.y+=l/2*c.unit.y;var f=i.size()/2-i.indexOf(o);return a.x+=f*c.unit.x,a.y+=f*c.unit.y,a},Gu=function(e){var t=Cn(),r=e.size,n=e.selected;return((null!=r?r:gn)+4+(!0===n?4:0))*t},qu=function(e,t){var r=Cn();e.shadowColor=t.color,e.shadowBlur=t.width*r,e.shadowOffsetX=0,e.shadowOffsetY=0},Hu=function(e){e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0},Yu=function(e,t,r,n,o){var i,a,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.norm.x,n=e.norm.y;return t?{x:-r,y:-n}:e.norm},c=Cn(),l=t.indexOf(e),f=(t.size()-1)/2,h=l>f,d=Math.abs(l-f),p=o?17*t.maxFontSize():8,v=(t.size()-1)*p*c,y=function(e,t,r,n,o,i,a){var u,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=Cn(),l=e.size(),f=l>1,h=e.relIsOppositeDirection(i),d=h?r:t,p=h?t:r,v=e.waypointPath,y=null==v?void 0:v.points,b=null==v?void 0:v.from,m=null==v?void 0:v.to,g=ou(d,b)&&ou(p,m)||ou(p,b)&&ou(d,m),_=g?y[1]:null,w=g?y[y.length-2]:null,O=Gu(d),S=Gu(p),E=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},P=Math.max(Math.PI,zu/(l/2)),T=f?n*P*(a?1:-1)/(null!==(u=d.size)&&void 0!==u?u:gn):0,x=E(g?_:p,d),C=g?E(p,w):x,j=function(e,t,r,n){return{x:e.x+Math.cos(t)*r*(n?-1:1),y:e.y+Math.sin(t)*r*(n?-1:1)}},A=function(e,t){return j(d,x+e,t,!1)},k=function(e,t){return j(p,C-e,t,!0)},R=function(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}},I=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))*c},M=A(T,O),N=k(T,S),D=f?A(0,O):null,L=f?k(0,S):null,U=200*c,F=[];if(g){var B=I(M,_)<U;if(f&&!B){var z=R(D,_);F.push(new iu(M,z)),F.push(new iu(z,_))}else F.push(new iu(M,_));for(var V=2;V<y.length-1;V++)F.push(new iu(y[V-1],y[V]));var W=I(N,w)<U;if(f&&!W){var G=R(L,w);F.push(new iu(w,G)),F.push(new iu(G,N))}else F.push(new iu(w,N))}else{var q=f?I(D,L):0;if(f&&q>2*(30*c+Math.min(O,S)))if(s){var H=Wu(d,p,O,S,i,e);F.push(new iu(M,H)),F.push(new iu(H,N))}else{var Y=n*o,X=30+O,Z=Math.sqrt(X*X+Y*Y),K=30+S,$=Math.sqrt(K*K+Y*Y),Q=A(0,Z),J=k(0,$);F.push(new iu(M,Q)),F.push(new iu(Q,J)),F.push(new iu(J,N))}else if(q>(O+S)/2){var ee=Wu(d,p,O,S,i,e);F.push(new iu(M,ee)),F.push(new iu(ee,N))}else F.push(new iu(M,N))}return F}(t,r,n,d,p,e,h,u),b=[],m=y[0],g=s(m,h);b.push({x:m.p1.x+g.x,y:m.p1.y+g.y});for(var _=1;_<y.length;_++)if(1===t.size())b.push(y[_-1].p2);else{var w=y[_-1],O=y[_],S=s(w,h),E=s(O,h),P=Mu(w.p1,Du(S,v/2)),T=Mu(w.p2,Du(S,v/2)),x=Mu(O.p1,Du(E,v/2)),C=Mu(O.p2,Du(E,v/2)),j=null;a=E,(i=S).x*a.x+i.y*a.y<.99&&(j=uu(P,T,x,C));var A=null!==j?Nu(j,w.p2):Du(S,v/2);b.push(Mu(w.p2,Du(A,d/f)))}var k=y[y.length-1],R=s(k,h);return b.push({x:k.p2.x+R.x,y:k.p2.y+R.y}),t.relIsOppositeDirection(e)?b.reverse():b},Xu=function(e,t,r,n,o,i,a,u){var s,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=Cn(),f=o.selected,h=o.captions,d=void 0===h?[]:h,p=o.caption,v=void 0===p?"":p,y=o.width,b=o.disabled,m=o.captionAlign,g=void 0===m?"top":m,_=o.captionSize,w=void 0===_?1:_,O=d.length>0?null===(s=Ou(d))||void 0===s?void 0:s.fullCaption:v;if(void 0!==O){var S=6*w*l,E=!0===f?"bold":"normal",P=O;e.fillStyle=!0===b?a.fontColor:u,e.font="".concat(E," ").concat(S,"px ").concat('"Open Sans", sans-serif');var T=function(t){return e.measureText(t).width},x=(null!=y?y:1)*(!0===f?1.5:1),C=T(P);if(C>n){var j=_u(P,T,(function(){return n}),1,!1)[0];P=!0===j.hasEllipsisChar?"".concat(j.text,"..."):P,C=n}var A=Math.cos(r),k=Math.sin(r),R={x:t.x,y:t.y},I=R.x,M=R.y,N=r;c&&(N=r-Vu,I+=2*S*A,M+=2*S*k,N-=Vu);var D=(1+w)*l,L="bottom"===g?S/2+x+D:-(x+D);e.translate(I,M),e.rotate(N),e.fillText(P,-C/2,L),e.rotate(-N),e.translate(-I,-M);var U=2*L*Math.sin(r),F=2*L*Math.cos(r),B={position:{x:t.x-U,y:t.y+F},rotation:c?r-Math.PI:r,width:n/l,height:(S+D)/l};i.setLabelInfo(o.id,B)}},Zu=function(e,t,r,n,o){if(e.beginPath(),e.moveTo(t[0].x,t[0].y),o&&t.length>2){for(var i=1;i<t.length-2;){var a=(t[i].x+t[i+1].x)/2,u=(t[i].y+t[i+1].y)/2;e.quadraticCurveTo(t[i].x,t[i].y,a,u),i+=1}e.quadraticCurveTo(t[i].x,t[i].y,t[i+1].x,t[i+1].y)}else for(var s=1;s<t.length;s++)e.lineTo(t[s].x,t[s].y);e.lineWidth=r,e.strokeStyle=n,e.lineCap="round",e.stroke()},Ku=function(e){return e.rings[0].width*Cn()*1.5},$u=function(e){return 6*e*Cn()},Qu=function(e,t,r){var n,o;return{widthAlign:t/2*(null!==(n=e[0])&&void 0!==n?n:0),heightAlign:r/2*(null!==(o=e[1])&&void 0!==o?o:0)}},Ju=function(e,t,r){var n,o,i=r.indexOf(e),a=null!==(n=r.angles[i])&&void 0!==n?n:0,u=a-Va/2,s=a+Va/2,c=null!==(o=e.width)&&void 0!==o?o:1,l=Cn(),f=Gu(t),h={x:t.x+Math.cos(u)*(f+c/2),y:t.y+Math.sin(u)*(f+c/2)},d={x:t.x+Math.cos(s)*(f+c/2),y:t.y+Math.sin(s)*(f+c/2)},p={x:t.x+Math.cos(a)*(f+35*l),y:t.y+Math.sin(a)*(f+35*l)};return{startAngle:u,endAngle:s,startPoint:h,endPoint:d,apexPoint:p,control1Point:{x:p.x+25*Math.cos(a-Vu)*l/2,y:p.y+25*Math.sin(a-Vu)*l/2},control2Point:{x:p.x+25*Math.cos(a+Vu)*l/2,y:p.y+25*Math.sin(a+Vu)*l/2}}},es=function(e,t,r,n,o,i){e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo(o.x,o.y,n.x,n.y),e.quadraticCurveTo(i.x,i.y,r.x,r.y),e.stroke()},ts=function(e,t,r,n,o,i,a,u,s,c){var l=!(arguments.length>10&&void 0!==arguments[10])||arguments[10];nu(r,n)&&(r.id===n.id?function(e,t,r,n,o,i,a,u){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ba,c=t.overlayIcon,l=t.selected,f=t.width,h=t.hovered,d=t.disabled,p=t.color,v=Ju(t,r,n),y=v.startPoint,b=v.endPoint,m=v.apexPoint,g=v.control1Point,_=v.control2Point,w=a.rings,O=a.shadow,S=Cn(),E=w[0].color,P=w[1].color,T=w[0].width*S,x=w[1].width*S,C=40*S,j=(null!=f?f:1)*S,A=j>1?j/2:1,k=9*A,R=2*A,I=7*A,M=!0===l,N=!0===d,D=void 0!==c,L=Math.atan2(b.y-_.y,b.x-_.x),U=M?T*Math.sqrt(1+2*k/I*(2*k/I)):0,F={x:b.x-Math.cos(L)*(.5*k-R+U),y:b.y-Math.sin(L)*(.5*k-R+U)},B={headPosition:{x:b.x+Math.cos(L)*(.5*k-R-U),y:b.y+Math.sin(L)*(.5*k-R-U)},headAngle:L,headHeight:k,headChinHeight:R,headWidth:I};if(e.save(),e.lineCap="round",M&&(qu(e,O),e.lineWidth=j+x,e.strokeStyle=P,es(e,y,F,m,g,_),Cu(e,x,P,B,!1,!0),Hu(e),e.lineWidth=j+T,e.strokeStyle=E,es(e,y,F,m,g,_),Cu(e,T,E,B,!1,!0)),e.lineWidth=j,!0===h&&!M&&!N){var z=O.color;qu(e,O),e.strokeStyle=z,e.fillStyle=z,es(e,y,F,m,g,_),Cu(e,j,z,B),Hu(e)}var V=N?u.color:null!=p?p:s;if(e.fillStyle=V,e.strokeStyle=V,es(e,y,F,m,g,_),Cu(e,j,V,B),i||D){var W,G=n.indexOf(t),q=null!==(W=n.angles[G])&&void 0!==W?W:0,H=m.x-Math.cos(L)*(U/4),Y=m.y-Math.sin(L)*(U/4),X=(q+Vu)%zu,Z=(q+zu)%zu<Math.PI;if(i&&Xu(e,{x:H,y:Y},X,C,t,n,u,s,Z),D){var K=c.position,$=void 0===K?[0,0]:K,Q=c.url,J=c.size,ee=$u(void 0===J?1:J),te=Qu($,C,ee),re=te.widthAlign,ne=te.heightAlign+(M?Ku(a):0)*($[1]<0?-1:1);e.save(),e.translate(H,Y),Z?(e.rotate(X-Math.PI),e.translate(2*-re,2*-ne)):e.rotate(X);var oe=ee/2,ie=-oe+re,ae=-oe+ne;e.drawImage(o.getImage(Q),ie,ae,ee,ee),e.restore()}}e.restore()}(e,t,r,o,i,a,u,s,c):function(e,t,r,n,o,i,a,u,s,c){var l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Ba,f=t.overlayIcon,h=t.color,d=t.disabled,p=t.selected,v=t.width,y=t.hovered,b=t.captionAlign,m=!0===p,g=!0===d,_=void 0!==f,w=s.rings,O=s.shadow,S=Yu(t,o,r,n,a,u),E=Cn(),P=function(e){var t,r=!0===e.selected?1.5:1;return(null!==(t=e.width)&&void 0!==t?t:1)*r*Cn()}(t),T=g?c.color:null!=h?h:l,x=w[0].width*E,C=w[1].width*E,j=E*(v>1?v/2:1),A=9*j,k=2*j,R=7*j,I=Lu(S[S.length-2],S[S.length-1]),M=2*A,N=m?x*Math.sqrt(1+M/R*(M/R)):0,D=2-N,L=Math.floor(S.length/2);S.length>2&&m&&I<A+N-k&&(D+=I,N-=I/2+k,S.pop(),L=Math.floor(S.length/2));var U,F,B=S[S.length-2],z=S[S.length-1],V=(U=B,F=z,Math.atan2(F.y-U.y,F.x-U.x)),W=A/2+N,G=Math.cos(V),q=Math.sin(V);S[S.length-1]={x:z.x-G*W,y:z.y-q*W};var H,Y={headPosition:{x:z.x+G*D,y:z.y+q*D},headAngle:V,headHeight:A,headChinHeight:k,headWidth:R},X=Fu(S);try{for(X.s();!(H=X.n()).done;){var Z=H.value;Z.x=Math.round(Z.x),Z.y=Math.round(Z.y)}}catch(e){X.e(e)}finally{X.f()}if(e.save(),m){var K=w[0].color,$=w[1].color,Q=Math.atan2(S[1].y-S[0].y,S[1].x-S[0].x),J=Uu(Q,Ku(s));S[0]=Mu(S[0],J),qu(e,O),Zu(e,S,P+C,$,u),Cu(e,C,$,Y,!1,!0),Hu(e),Zu(e,S,P+x,K,u),Cu(e,x,K,Y,!1,!0)}if(!0===y&&!m&&!g){var ee=O.color;qu(e,O),Zu(e,S,P,ee,u),Cu(e,P,ee,Y),Hu(e)}if(Zu(e,S,P,T,u),Cu(e,P,T,Y),a||_){var te,re,ne,oe,ie,ae=r.x>n.x,ue=S[L];1==(1&S.length)?(te=S[ae?L+1:L-1],re=S[ae?L-1:L+1],u?(ne=(ue.x+(te.x+re.x)/2)/2,oe=(ue.y+(te.y+re.y)/2)/2,ie=ae?Math.atan2(r.y-n.y,r.x-n.x):Math.atan2(n.y-r.y,n.x-r.x)):(Lu(ue,te)>Lu(ue,re)?re=ue:te=ue,ne=(te.x+re.x)/2,oe=(te.y+re.y)/2,ie=Math.atan2(re.y-te.y,re.x-te.x))):(te=S[ae?L:L-1],re=S[ae?L-1:L],ne=(te.x+re.x)/2,oe=(te.y+re.y)/2,ie=Math.atan2(re.y-te.y,re.x-te.x));var se=m?Uu(ie+Vu,Ku(s)):{x:0,y:0},ce=Lu(te,re);if(a){var le="bottom"===b?1:-1,fe={x:ne+se.x*le,y:oe+se.y*le};Xu(e,fe,ie,ce,t,o,c,l)}if(_){var he=f.position,de=void 0===he?[0,0]:he,pe=f.url,ve=f.size,ye=$u(void 0===ve?1:ve),be=Qu(de,ce,ye),me=be.widthAlign,ge=be.heightAlign,_e=de[1]<0?-1:1,we=se.x*_e,Oe=se.y*_e,Se=ye/2;e.translate(ne,oe),e.rotate(ie);var Ee=-Se+we+me,Pe=-Se+Oe+ge;e.drawImage(i.getImage(pe),Ee,Pe,ye,ye),e.rotate(-ie),e.translate(-ne,-oe)}}e.restore()}(e,t,r,n,o,i,a,l,u,s,c))},rs=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return nu(r,n)?r.id===n.id?function(e,t,r){for(var n=Ju(e,t,r),o={left:1/0,top:1/0,right:-1/0,bottom:-1/0},i=["startPoint","endPoint","apexPoint","control1Point","control2Point"],a=0;a<i.length;a++){var u=n[i[a]],s=u.x,c=u.y;s<o.left&&(o.left=s),s>o.right&&(o.right=s),c<o.top&&(o.top=c),c>o.bottom&&(o.bottom=c)}return o}(e,r,t):function(e,t,r,n,o,i){var a,u={left:1/0,top:1/0,right:-1/0,bottom:-1/0},s=Fu(Yu(e,t,r,n,o,i));try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.x,f=c.y;l<u.left&&(u.left=l),l>u.right&&(u.right=l),f<u.top&&(u.top=f),f>u.bottom&&(u.bottom=f)}}catch(e){s.e(e)}finally{s.f()}return u}(e,t,r,n,o,i):null};function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}var os=/^\s+/,is=/\s+$/;function as(e,t){if(t=t||{},(e=e||"")instanceof as)return e;if(!(this instanceof as))return new as(e,t);var r=function(e){var t,r,n,o={r:0,g:0,b:0},i=1,a=null,u=null,s=null,c=!1,l=!1;return"string"==typeof e&&(e=function(e){e=e.replace(os,"").replace(is,"").toLowerCase();var t,r=!1;if(Ss[e])e=Ss[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Ds.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Ds.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Ds.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Ds.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Ds.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Ds.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Ds.hex8.exec(e))?{r:Cs(t[1]),g:Cs(t[2]),b:Cs(t[3]),a:Rs(t[4]),format:r?"name":"hex8"}:(t=Ds.hex6.exec(e))?{r:Cs(t[1]),g:Cs(t[2]),b:Cs(t[3]),format:r?"name":"hex"}:(t=Ds.hex4.exec(e))?{r:Cs(t[1]+""+t[1]),g:Cs(t[2]+""+t[2]),b:Cs(t[3]+""+t[3]),a:Rs(t[4]+""+t[4]),format:r?"name":"hex8"}:!!(t=Ds.hex3.exec(e))&&{r:Cs(t[1]+""+t[1]),g:Cs(t[2]+""+t[2]),b:Cs(t[3]+""+t[3]),format:r?"name":"hex"}}(e)),"object"==ns(e)&&(Ls(e.r)&&Ls(e.g)&&Ls(e.b)?(t=e.r,r=e.g,n=e.b,o={r:255*Ts(t,255),g:255*Ts(r,255),b:255*Ts(n,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):Ls(e.h)&&Ls(e.s)&&Ls(e.v)?(a=As(e.s),u=As(e.v),o=function(e,t,r){e=6*Ts(e,360),t=Ts(t,100),r=Ts(r,100);var n=Math.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),u=r*(1-(1-o)*t),s=n%6;return{r:255*[r,a,i,i,u,r][s],g:255*[u,r,r,a,i,i][s],b:255*[i,i,u,r,r,a][s]}}(e.h,a,u),c=!0,l="hsv"):Ls(e.h)&&Ls(e.s)&&Ls(e.l)&&(a=As(e.s),s=As(e.l),o=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=Ts(e,360),t=Ts(t,100),r=Ts(r,100),0===t)n=o=i=r;else{var u=r<.5?r*(1+t):r+t-r*t,s=2*r-u;n=a(s,u,e+1/3),o=a(s,u,e),i=a(s,u,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,a,s),c=!0,l="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=Ps(i),{ok:c,format:e.format||l,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:i}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function us(e,t,r){e=Ts(e,255),t=Ts(t,255),r=Ts(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),u=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=u>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:u}}function ss(e,t,r){e=Ts(e,255),t=Ts(t,255),r=Ts(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),u=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:u}}function cs(e,t,r,n){var o=[js(Math.round(e).toString(16)),js(Math.round(t).toString(16)),js(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function ls(e,t,r,n){return[js(ks(n)),js(Math.round(e).toString(16)),js(Math.round(t).toString(16)),js(Math.round(r).toString(16))].join("")}function fs(e,t){t=0===t?0:t||10;var r=as(e).toHsl();return r.s-=t/100,r.s=xs(r.s),as(r)}function hs(e,t){t=0===t?0:t||10;var r=as(e).toHsl();return r.s+=t/100,r.s=xs(r.s),as(r)}function ds(e){return as(e).desaturate(100)}function ps(e,t){t=0===t?0:t||10;var r=as(e).toHsl();return r.l+=t/100,r.l=xs(r.l),as(r)}function vs(e,t){t=0===t?0:t||10;var r=as(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),as(r)}function ys(e,t){t=0===t?0:t||10;var r=as(e).toHsl();return r.l-=t/100,r.l=xs(r.l),as(r)}function bs(e,t){var r=as(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,as(r)}function ms(e){var t=as(e).toHsl();return t.h=(t.h+180)%360,as(t)}function gs(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=as(e).toHsl(),n=[as(e)],o=360/t,i=1;i<t;i++)n.push(as({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function _s(e){var t=as(e).toHsl(),r=t.h;return[as(e),as({h:(r+72)%360,s:t.s,l:t.l}),as({h:(r+216)%360,s:t.s,l:t.l})]}function ws(e,t,r){t=t||6,r=r||30;var n=as(e).toHsl(),o=360/r,i=[as(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(as(n));return i}function Os(e,t){t=t||6;for(var r=as(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],u=1/t;t--;)a.push(as({h:n,s:o,v:i})),i=(i+u)%1;return a}as.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=Ps(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=ss(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=ss(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=us(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=us(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return cs(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[js(Math.round(e).toString(16)),js(Math.round(t).toString(16)),js(Math.round(r).toString(16)),js(ks(n))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Ts(this._r,255))+"%",g:Math.round(100*Ts(this._g,255))+"%",b:Math.round(100*Ts(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Ts(this._r,255))+"%, "+Math.round(100*Ts(this._g,255))+"%, "+Math.round(100*Ts(this._b,255))+"%)":"rgba("+Math.round(100*Ts(this._r,255))+"%, "+Math.round(100*Ts(this._g,255))+"%, "+Math.round(100*Ts(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Es[cs(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+ls(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=as(e);r="#"+ls(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return as(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(ps,arguments)},brighten:function(){return this._applyModification(vs,arguments)},darken:function(){return this._applyModification(ys,arguments)},desaturate:function(){return this._applyModification(fs,arguments)},saturate:function(){return this._applyModification(hs,arguments)},greyscale:function(){return this._applyModification(ds,arguments)},spin:function(){return this._applyModification(bs,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(ws,arguments)},complement:function(){return this._applyCombination(ms,arguments)},monochromatic:function(){return this._applyCombination(Os,arguments)},splitcomplement:function(){return this._applyCombination(_s,arguments)},triad:function(){return this._applyCombination(gs,[3])},tetrad:function(){return this._applyCombination(gs,[4])}},as.fromRatio=function(e,t){if("object"==ns(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:As(e[n]));e=r}return as(e,t)},as.equals=function(e,t){return!(!e||!t)&&as(e).toRgbString()==as(t).toRgbString()},as.random=function(){return as.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},as.mix=function(e,t,r){r=0===r?0:r||50;var n=as(e).toRgb(),o=as(t).toRgb(),i=r/100;return as({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},as.readability=function(e,t){var r=as(e),n=as(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},as.isReadable=function(e,t,r){var n,o,i,a,u,s=as.readability(e,t);switch(o=!1,"AA"!==(a=((i=(i=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(u=(i.size||"small").toLowerCase())&&"large"!==u&&(u="small"),(n={level:a,size:u}).level+n.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},as.mostReadable=function(e,t,r){var n,o,i,a,u=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var c=0;c<t.length;c++)(n=as.readability(e,t[c]))>s&&(s=n,u=as(t[c]));return as.isReadable(e,u,{level:i,size:a})||!o?u:(r.includeFallbackColors=!1,as.mostReadable(e,["#fff","#000"],r))};var Ss=as.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Es=as.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(Ss);function Ps(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ts(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function xs(e){return Math.min(1,Math.max(0,e))}function Cs(e){return parseInt(e,16)}function js(e){return 1==e.length?"0"+e:""+e}function As(e){return e<=1&&(e=100*e+"%"),e}function ks(e){return Math.round(255*parseFloat(e)).toString(16)}function Rs(e){return Cs(e)/255}var Is,Ms,Ns,Ds=(Ms="[\\s|\\(]+("+(Is="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Is+")[,|\\s]+("+Is+")\\s*\\)?",Ns="[\\s|\\(]+("+Is+")[,|\\s]+("+Is+")[,|\\s]+("+Is+")[,|\\s]+("+Is+")\\s*\\)?",{CSS_UNIT:new RegExp(Is),rgb:new RegExp("rgb"+Ms),rgba:new RegExp("rgba"+Ns),hsl:new RegExp("hsl"+Ms),hsla:new RegExp("hsla"+Ns),hsv:new RegExp("hsv"+Ms),hsva:new RegExp("hsva"+Ns),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Ls(e){return!!Ds.CSS_UNIT.exec(e)}var Us=function(e){return as.mostReadable(e,[Tn,"#FFFFFF"]).toString()},Fs=function(e){return lu().get.rgb(e)},Bs=function(e){var t=new ArrayBuffer(4),r=new Uint32Array(t),n=new Uint8Array(t),o=Fs(e);return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=255*o[3],r[0]},zs=function(e){return[(t=Fs(e))[0]/255,t[1]/255,t[2]/255];var t};function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ws(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ws(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gs=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.size,a=void 0===i?gn:i;return{top:o-a,left:r-a,right:r+a,bottom:o+a}},qs=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_n,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=t.x,l=void 0===c?0:c,f=t.y,h=void 0===f?0:f,d=t.size,p=void 0===d?gn:d,v=t.caption,y=void 0===v?"":v,b=t.captions,m=void 0===b?[]:b,g=t.captionAlign,_=void 0===g?"center":g,w=t.captionSize,O=void 0===w?1:w,S=t.disabled,E=t.activated,P=t.selected,T=t.hovered,x=t.id,C=t.icon,j=t.overlayIcon,A=Cn(),k=function(e,t,r){var n=e.selected?r.selected.rings:r.default.rings;if(!n.length){var o=t.getById(e.id);return void 0!==o&&Object.entries(o).forEach((function(e){var t=Vs(e,2),r=t[0],n=t[1];r.startsWith("ring-")&&n.setEndValue(0)})),[{width:0,color:""}]}return n.map((function(r,n){var o=r.widthFactor,i=r.color,a=(e.size||gn)*o*Cn();return{width:t.getValueForAnimationName(e.id,"ring-".concat(n),a),color:i}}))}(t,n,o),R=k.reduce((function(e,t){return e+t.width}),0),I=p*A,M=2*I,N=function(e,t){if(!e||!t)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var r=Cn(),n=1600*r*(1200*r),o=Math.pow(e,2)*Math.PI*Math.pow(t,2)/(n/100);return{nodeInfoLevel:Ru(o,Eu),fontInfoLevel:Ru(o,Pu),iconInfoLevel:Ru(o,Tu)}}(I,s),D=N.nodeInfoLevel,L=N.fontInfoLevel,U=N.iconInfoLevel,F=t.color||a,B=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn)/({1:3.5,2:2.75,3:2}[arguments.length>2&&void 0!==arguments[2]?arguments[2]:1]+(arguments.length>3&&void 0!==arguments[3]&&arguments[3]?1:0))/e}(L,I,O,Boolean(C)),z=Us(F),V=I;if(R>0&&(V=I+R),S)F=i.color,z=i.fontColor;else{var W;if(E){var G=Date.now()%1e3/1e3,q=G<.7?G/.7:0,H=xu(F,.4-.4*q);ku(e,l,h,H,I+.88*I*q)}var Y=null!==(W=o.selected.shadow)&&void 0!==W?W:{width:0,opacity:0,color:""},X=Y.width*A,Z=Y.opacity,K=Y.color,$=P||T?X:0,Q=n.getValueForAnimationName(x,"shadowWidth",$);Q>0&&function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=o+i,s=e.createRadialGradient(t,r,o,t,r,u);s.addColorStop(0,"transparent"),s.addColorStop(.01,xu(n,.5*a)),s.addColorStop(.05,xu(n,.5*a)),s.addColorStop(.5,xu(n,.12*a)),s.addColorStop(.75,xu(n,.03*a)),s.addColorStop(1,xu(n,0)),e.fillStyle=s,Au(e,t,r,u),e.fill()}(e,l,h,K,V,Q,Z)}ku(e,l,h,F,I),R>0&&ju(e,l,h,I,k);var J=Boolean(y.length),ee=Boolean(m.length),te=Boolean(C);if(C){var re=D<2||!(J||ee),ne=D>0?1:0,oe=re?1*I:.75*I;oe/=U;var ie=re?.5*oe:oe*(1===U?"center"===_?1.3:"bottom"===_||re?1.1:0:"center"===_?1.35:"bottom"===_||re?1.1:0),ae=oe/2;oe=n.getValueForAnimationName(x,"iconSize",oe),ae=n.getValueForAnimationName(x,"iconXPos",ae),ie=n.getValueForAnimationName(x,"iconYPos",ie);var ue=e.globalAlpha,se=S?.1:ne;e.globalAlpha=n.getValueForAnimationName(x,"iconOpacity",se);var ce="#ffffff"===z,le=r.getImage(C,ce);e.drawImage(le,l-ae,h-ie,Math.floor(oe),Math.floor(oe)),e.globalAlpha=ue}if(void 0!==j){var fe,he,de,pe,ve,ye=M*(null!==(fe=j.size)&&void 0!==fe?fe:1),be=ye/2-I*(null!==(he=null===(de=j.position)||void 0===de?void 0:de[1])&&void 0!==he?he:0),me=ye/2-I*(null!==(pe=null===(ve=j.position)||void 0===ve?void 0:ve[0])&&void 0!==pe?pe:0),ge=e.globalAlpha,_e=S?.1:1;e.globalAlpha=n.getValueForAnimationName(x,"iconOpacity",_e);var we=r.getImage(j.url);e.drawImage(we,l-me,h-be,ye,ye),e.globalAlpha=ge}if(J||ee){var Oe=D<2?0:1,Se=n.getValueForAnimationName(x,"textOpacity",Oe,0);if(Se>0){var Ee,Pe,Te='"Open Sans", sans-serif',xe=2;L===(null===(Ee=Pu[1])||void 0===Ee?void 0:Ee[1])?xe=3:L===(null===(Pe=Pu[2])||void 0===Pe?void 0:Pe[1])&&(xe=4);var Ce="center"===_?.7*M:2*Math.sqrt(Math.pow(M/2,2)-Math.pow(M/3,2));if(e.fillStyle=xu(z,Se),ee){var je,Ae=Ou(m),ke=Ae.stylesPerChar,Re=Ae.fullCaption,Ie=wu(e,Re,Te,B,Ce,te,xe,null==t||t.captionAlign),Me=-(Ie.length-2)*B/2;je=_&&"center"!==_?"bottom"===_?Me+I/Math.PI:Me-I/Math.PI:Me,Iu(e,Ie,ke,je,B,Te,B,l,h,u)}else if(J){var Ne=wu(e,y,Te,B,Ce,te,xe,null==t||t.captionAlign),De=-(Ne.length-2)*B/2,Le=y.split("").map((function(e){return[]}));Iu(e,Ne,Le,De,B,Te,B,l,h,u)}}}};function Hs(e){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(e)}function Ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ys(Object(r),!0).forEach((function(t){Qs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zs(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ks(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ks(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Js(n.key),n)}}function Qs(e,t,r){return(t=Js(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Js(e){var t=function(e,t){if("object"!=Hs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Hs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hs(t)?t:String(t)}var ec="canvasRenderer",tc=function(){function e(t,r,n){var o=this,i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).relationshipThreshold,a=void 0===i?0:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qs(this,"arrowBundler",void 0),Qs(this,"activeNodes",void 0),Qs(this,"canvas",void 0),Qs(this,"context",void 0),Qs(this,"state",void 0),Qs(this,"stateDisposers",void 0),Qs(this,"relationshipThreshold",void 0),Qs(this,"animationHandler",void 0),Qs(this,"imageCache",void 0),Qs(this,"needsRun",void 0),Qs(this,"nodeVersion",void 0),Qs(this,"relVersion",void 0),Qs(this,"waypointVersion",void 0),Qs(this,"ellipsisWidth",void 0),null!==r&&(this.activeNodes=new Set,this.canvas=t,this.context=r,this.state=n,this.stateDisposers=[],this.stateDisposers.push(n.autorun((function(){void 0!==n.zoom&&(o.needsRun=!0),void 0!==n.panX&&(o.needsRun=!0),void 0!==n.panY&&(o.needsRun=!0),void 0!==n.nodes.version&&(o.needsRun=!0),void 0!==n.rels.version&&(o.needsRun=!0),n.waypoints.counter>0&&(o.needsRun=!0),void 0!==n.layout&&(o.needsRun=!0)}))),n.nodes.addChannel(ec),n.rels.addChannel(ec),this.relationshipThreshold=a,this.nodeVersion=n.nodes.version,this.relVersion=n.rels.version,this.waypointVersion=n.waypoints.counter,this.animationHandler=new xa,this.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),this.arrowBundler=new $a(n.rels.items,n.waypoints.data),this.imageCache=new Ia,this.needsRun=!0,this.ellipsisWidth=r.measureText(bu).width)}var t,r;return t=e,r=[{key:"needsToRun",value:function(){return this.needsRun||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){var e=this.state,t=!1,r=e.nodes.channels[ec],n=e.rels.channels[ec],o=r.adds,i=r.removes,a=n.adds,u=n.removes;this.nodeVersion<e.nodes.version&&(Object.keys(o).length>0||Object.keys(i).length,this.handleChannelUpdate(r,e.nodes,!0),this.nodeVersion=e.nodes.version,e.nodes.clearChannel(ec)),this.relVersion<e.rels.version&&(t=Object.keys(a).length>0||Object.keys(u).length>0,e.rels.clearChannel(ec),this.relVersion=e.rels.version),(t||this.waypointVersion<e.waypoints.counter)&&(this.arrowBundler.updateData(a,u,e.waypoints.data),this.waypointVersion=e.waypoints.counter)}},{key:"render",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.state,i=this.animationHandler,a=this.arrowBundler,u=o.zoom,s=o.layout,c=o.nodes.idToPosition,l=null!==(t=n.canvas)&&void 0!==t?t:this.canvas,f=null!==(r=n.context)&&void 0!==r?r:this.context,h=Cn(),d=l.clientWidth*h,p=l.clientHeight*h;f.save(),void 0!==n.backgroundColor?(f.fillStyle=n.backgroundColor,f.fillRect(0,0,d,p)):f.clearRect(0,0,d,p),this.zoomAndPan(f,l),i.ignoreAnimations(Boolean(n.ignoreAnimations)),!0!==n.ignoreAnimations&&i.advance(),a.updatePositions(c);var v=this.getRelationshipsToRender(n.showCaptions,d,p);this.renderRelationships(v,f,s!==zi);var y=this.getNodesToRender(e,d,p);this.renderNodes(y,f,u),f.restore(),this.needsRun=!1}},{key:"getRelationshipsToRender",value:function(e,t,r){var n,o=[],i=[],a=[],u=this.arrowBundler,s=this.state,c=this.relationshipThreshold,l=s.layout,f=s.zoom,h=s.rels,d=s.nodes,p=d.idToItem,v=d.idToPosition,y=Zs(h.items);try{for(y.s();!(n=y.n()).done;){var b=n.value,m=u.getBundle(b),g=Xs(Xs({},p[b.from]),v[b.from]),_=Xs(Xs({},p[b.to]),v[b.to]),w=e||f>c||void 0!==b.captionHtml,O=rs(b,m,g,_,w,l!==zi);if(null!==O){var S,E,P,T,x,C,j=this.isBoundingBoxOffScreen(O,t,r),A=Lu({x:null!==(S=g.x)&&void 0!==S?S:0,y:null!==(E=g.y)&&void 0!==E?E:0},{x:null!==(P=_.x)&&void 0!==P?P:0,y:null!==(T=_.y)&&void 0!==T?T:0}),k=((null!==(x=g.size)&&void 0!==x?x:gn)+(null!==(C=_.size)&&void 0!==C?C:gn))*devicePixelRatio,R=g.id!==_.id&&k>A;j||R||(!0===b.disabled?i.push(Xs(Xs({},b),{},{fromNode:g,toNode:_,showLabel:w})):!0===b.selected?o.push(Xs(Xs({},b),{},{fromNode:g,toNode:_,showLabel:w})):a.push(Xs(Xs({},b),{},{fromNode:g,toNode:_,showLabel:w})))}}}catch(e){y.e(e)}finally{y.f()}return[].concat(i,a,o)}},{key:"getNodesToRender",value:function(e,t,r){var n,o=[],i=[],a=[],u=this.state.nodes.idToItem,s=Zs(e);try{for(s.s();!(n=s.n()).done;){var c,l,f=n.value,h=Gs(f);this.isBoundingBoxOffScreen(h,t,r)||(!0===(null===(c=u[f.id])||void 0===c?void 0:c.disabled)?o.push(Xs({},f)):!0===(null===(l=u[f.id])||void 0===l?void 0:l.selected)?i.push(Xs({},f)):a.push(Xs({},f)))}}catch(e){s.e(e)}finally{s.f()}return[].concat(o,a,i)}},{key:"renderNodes",value:function(e,t,r){var n,o=this.imageCache,i=this.animationHandler,a=this.state,u=this.ellipsisWidth,s=a.nodes.idToItem,c=a.nodeBorderStyles,l=a.disabledItemStyles,f=a.defaultNodeColor,h=Zs(e);try{for(h.s();!(n=h.n()).done;){var d=n.value;qs(t,Xs(Xs({},s[d.id]),d),o,i,c,l,f,u,r)}}catch(e){h.e(e)}finally{h.f()}}},{key:"renderRelationships",value:function(e,t,r){var n,o=this.state.relationshipBorderStyles.selected,i=this.arrowBundler,a=this.imageCache,u=this.state,s=u.disabledItemStyles,c=u.defaultRelationshipColor,l=Zs(e);try{for(l.s();!(n=l.n()).done;){var f=n.value,h=i.getBundle(f),d=f.fromNode,p=f.toNode,v=f.showLabel;ts(t,f,d,p,h,a,v,o,s,c,r)}}catch(e){l.e(e)}finally{l.f()}}},{key:"getNodesAt",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],o=this.state.nodes,i=o.items,a=o.idToPosition,u=Cn(),s=Zs(i);try{var c=function(){var o=t.value,i=o.id,s=o.size,c=void 0===s?gn:s,l=a[i],f=l.x,h=l.y,d=Math.sqrt(Math.pow(e.x-f,2)+Math.pow(e.y-h,2));if(d<=(c+r)*u){var p=n.findIndex((function(e){return e.distance>d}));n.splice(-1!==p?p:n.length,0,{data:o,targetCoordinates:{x:f,y:h},pointerCoordinates:e,distanceVector:{x:e.x-f,y:e.y-h},insideNode:d<=c*u,distance:d})}};for(s.s();!(t=s.n()).done;)c()}catch(e){s.e(e)}finally{s.f()}return n}},{key:"getRelsAt",value:function(e){var t,r=[],n=this.state,o=this.arrowBundler,i=this.relationshipThreshold,a=n.zoom,u=n.rels.items,s=n.nodes.idToPosition,c=n.layout,l=a>i,f=Zs(u);try{var h=function(){var n=t.value,i=o.getBundle(n),a=s[n.from],u=s[n.to];if(void 0!==a&&void 0!==u&&-1!==i.indexOf(n)){var f=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!nu(r,n))return 1/0;var u=r===n?function(e,t,r,n){var o=Ju(t,r,n),i=o.startPoint,a=o.endPoint,u=o.apexPoint,s=o.control1Point,c=o.control2Point,l=su(i,u,s,e),f=su(u,a,c,e);return Math.min(l,f)}(e,t,r,o):function(e,t,r,n,o,i,a){var u=Yu(t,r,n,o,i,a),s=1/0;if(a&&3===u.length)s=su(u[0],u[2],u[1],e);else for(var c=1;c<u.length;c++){var l=u[c-1],f=u[c],h=au(l,f,e);s=h<s?h:s}return s}(e,t,o,r,n,i,a);return u}(e,n,a,u,i,l,c!==zi);if(f<10){var h=r.findIndex((function(e){return e.distance>f}));r.splice(-1!==h?h:r.length,0,{data:n,fromTargetCoordinates:a,toTargetCoordinates:u,pointerCoordinates:e,distance:f})}}};for(f.s();!(t=f.n()).done;)h()}catch(e){f.e(e)}finally{f.f()}return r}},{key:"destroy",value:function(){this.stateDisposers.forEach((function(e){e()})),this.state.nodes.removeChannel(ec),this.state.rels.removeChannel(ec)}},{key:"isBoundingBoxOffScreen",value:function(e,t,r){var n=this.state,o=n.zoom,i=t/o,a=r/o,u=n.panX-i/2,s=n.panY-a/2,c=e.right<u,l=e.bottom<s,f=e.left>u+i,h=e.top>s+a;return c||f||l||h}},{key:"handleChannelUpdate",value:function(e,t,r){for(var n=Object.keys(e.adds),o=0;o<n.length;o++){var i=n[o];e.adds[i].activated&&this.activeNodes.add(i)}for(var a=Object.keys(e.removes),u=0;u<a.length;u++){var s=a[u];this.activeNodes.delete(s)}if(r)for(var c=Object.keys(e.updates),l=0;l<c.length;l++){var f=c[l];t.idToItem[f].activated?this.activeNodes.add(f):this.activeNodes.delete(f)}}},{key:"zoomAndPan",value:function(e,t){var r=t.width,n=t.height,o=this.state,i=o.zoom,a=o.panX,u=o.panY;e.translate(-r/2*i,-n/2*i),e.translate(-a*i,-u*i),e.scale(i,i),e.translate(r/2/i,n/2/i),e.translate(r/2,n/2)}}],r&&$s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=function(e,t){if((0,r.isNil)(e)||(0,r.isNil)(t))return{offsetX:0,offsetY:0};var n=t.getBoundingClientRect(),o=window.devicePixelRatio||1;return{offsetX:o*(e.clientX-n.left-.5*n.width),offsetY:o*(e.clientY-n.top-.5*n.height)}}(e,t);return{x:o+a.offsetX/n,y:i+a.offsetY/n}};function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sc(n.key),n)}}function ac(e,t,r){return t&&ic(e.prototype,t),r&&ic(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uc(e,t,r){return(t=sc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sc(e){var t=function(e,t){if("object"!=nc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nc(t)?t:String(t)}var cc="WebGLRenderer",lc=function(){function e(t){var r=this;if(oc(this,e),uc(this,"mainSceneRenderer",void 0),uc(this,"minimapRenderer",void 0),uc(this,"needsRun",void 0),uc(this,"minimapMouseDown",void 0),uc(this,"stateDisposers",void 0),uc(this,"state",void 0),void 0===t.state)throw new Error("Renderer missing options: state - state object");var n=t.state,o=t.mainSceneRenderer,i=t.minimapRenderer,a=n.nodes,u=n.rels;this.mainSceneRenderer=o,this.minimapRenderer=i,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(n.autorun((function(){r.updateMainViewport(n.zoom,n.panX,n.panY)}))),this.stateDisposers.push(n.autorun((function(){r.updateMinimapViewport(n.minimapZoom,n.minimapPanX,n.minimapPanY)}))),this.stateDisposers.push(n.autorun((function(){void 0!==n.nodes.version&&(r.needsRun=!0),void 0!==n.rels.version&&(r.needsRun=!0)}))),a.addChannel(cc),u.addChannel(cc),this.state=n,this.setupMinimapInteractions()}return ac(e,[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(e){var t=this.state,r=t.nodes,n=t.rels;this.checkForUpdates(r,n),this.mainSceneRenderer.render(e,r,n),this.needsRun=!1}},{key:"renderMinimap",value:function(e){var t=this.state,r=t.nodes,n=t.rels;this.checkForUpdates(r,n),this.minimapRenderer.render(e,r,n),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(e,t){var r=Object.values(e.channels[cc].adds).length>0,n=Object.values(t.channels[cc].adds).length>0,o=Object.values(e.channels[cc].removes).length>0,i=Object.values(t.channels[cc].removes).length>0,a=Object.values(e.channels[cc].updates),u=Object.values(t.channels[cc].updates);r||n||o||i?(this.mainSceneRenderer.setData({nodes:e.items,rels:t.items}),this.minimapRenderer.setData({nodes:e.items,rels:t.items})):(a.length>0&&(this.mainSceneRenderer.updateNodes(a),this.minimapRenderer.updateNodes(a)),u.length>0&&(this.mainSceneRenderer.updateRelationships(t.items),this.minimapRenderer.updateRelationships(t.items))),e.clearChannel(cc),t.clearChannel(cc)}},{key:"onResize",value:function(){var e=this.state,t=e.zoom,r=e.panX,n=e.panY,o=e.minimapZoom,i=e.minimapPanX,a=e.minimapPanY;this.updateMainViewport(t,r,n),this.updateMinimapViewport(o,i,a)}},{key:"updateMainViewport",value:function(e,t,r){this.mainSceneRenderer.updateViewport(e,t,r);var n=this.mainSceneRenderer.canvas.clientWidth,o=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(e,t,r,n,o),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(e,t,r){this.minimapRenderer.updateViewport(e,t,r),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(e){var t=this.state,r=this.minimapRenderer,n=rc(e,r.canvas,t.minimapZoom,t.minimapPanX,t.minimapPanY),o=n.x,i=n.y;t.setPan(o,i)}},{key:"handleMinimapWheel",value:function(e){var t=this.state,n=this.mainSceneRenderer;t.setZoom(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,r.isNil)(e)||isNaN(e.deltaY)?t:t-e.deltaY/500*Math.min(1,t)}(e,t.zoom),n.canvas),e.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var e=this,t=this.minimapRenderer.canvas;t.addEventListener("mousedown",(function(t){e.handleMinimapDrag(t),e.minimapMouseDown=!0})),t.addEventListener("mousemove",(function(t){e.minimapMouseDown&&e.handleMinimapDrag(t)})),t.addEventListener("mouseup",(function(){e.minimapMouseDown=!1})),t.addEventListener("mouseleave",(function(){e.minimapMouseDown=!1})),t.addEventListener("wheel",(function(t){e.handleMinimapWheel(t)}))}},{key:"destroy",value:function(){this.stateDisposers.forEach((function(e){e()})),this.state.nodes.removeChannel(cc),this.state.rels.removeChannel(cc),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}]),e}(),fc=function(){function e(){oc(this,e),uc(this,"mainSceneRenderer",void 0),uc(this,"minimapRenderer",void 0),uc(this,"needsRun",void 0),uc(this,"minimapMouseDown",void 0),uc(this,"stateDisposers",void 0),uc(this,"state",void 0)}return ac(e,[{key:"renderMainScene",value:function(e){}},{key:"renderMinimap",value:function(e){}},{key:"checkForUpdates",value:function(e,t){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(e,t,r){}},{key:"updateMinimapViewport",value:function(e,t,r){}},{key:"handleMinimapDrag",value:function(e){}},{key:"handleMinimapWheel",value:function(e){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}]),e}();function hc(e){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(e)}function dc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return pc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bc(n.key),n)}}function yc(e,t,r){return(t=bc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bc(e){var t=function(e,t){if("object"!=hc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hc(t)?t:String(t)}var mc,gc=24,_c=function(){function e(t,r,n,o){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yc(this,"nodeShader",void 0),yc(this,"nodeAnimShader",void 0),yc(this,"relShader",void 0),yc(this,"relDataBuffer",void 0),yc(this,"viewportBoxShader",void 0),yc(this,"defaultRelColor",void 0),yc(this,"defaultNodeColor",void 0),yc(this,"disableRelColor",void 0),yc(this,"disableNodeColor",void 0),yc(this,"gl",void 0),yc(this,"activeNodes",void 0),yc(this,"canvas",void 0),yc(this,"projection",void 0),yc(this,"idToIndex",void 0),yc(this,"posBuffer",void 0),yc(this,"numRels",void 0),yc(this,"numNodes",void 0),yc(this,"nodeDataByte",void 0),yc(this,"relIdToIndex",void 0),yc(this,"relData",void 0),yc(this,"viewportBoxBuffer",void 0),yc(this,"relBuffer",void 0),yc(this,"nodeBuffer",void 0),yc(this,"posTexture",void 0),void 0===(null!==(i=t.getExtension("OES_texture_float"))&&void 0!==i?i:void 0))throw new Error("Renderer needs floating point texture support");this.nodeShader=new Uo(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\nuniform lowp vec3 u_nodeBorderColor;\nuniform lowp vec3 u_selectedBorderColor;\nuniform lowp vec3 u_selectedInnerBorderColor;\nuniform lowp vec3 u_shadowColor;\nuniform lowp float u_drawDefaultBorder;\n\nattribute float a_size;\nattribute lowp vec2 a_index;\nattribute lowp vec4 a_color;\nattribute lowp float a_selected;\nattribute lowp float a_hovered;\n\nvarying lowp float window;\nvarying lowp vec4 color;\nvarying lowp float selected;\nvarying lowp float hovered;\nvarying lowp float varNodeSize;\nvarying lowp vec3 nodeBorderColor;\nvarying lowp vec3 selectedBorderColor;\nvarying lowp vec3 selectedInnerBorderColor;\nvarying lowp vec3 shadowColor;\nvarying lowp float drawDefaultBorder;\n\nlowp float MinNodeSize = 5.0;\n\nvoid main(void) {\n  vec4 data = texture2D(u_positions, a_index);\n  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);\n\n  lowp float nodeSize = a_size * u_zoom * u_glAdjust;\n  if (nodeSize < MinNodeSize) {\n   gl_PointSize = MinNodeSize;\n   varNodeSize = MinNodeSize;\n  } else {\n    gl_PointSize = nodeSize;\n    varNodeSize = nodeSize;\n  }\n\n  color = a_color;\n  selected = a_selected;\n  hovered = a_hovered;\n  nodeBorderColor = u_nodeBorderColor;\n  selectedBorderColor = u_selectedBorderColor;\n  selectedInnerBorderColor = u_selectedInnerBorderColor;\n  shadowColor = u_shadowColor;\n  drawDefaultBorder = u_drawDefaultBorder;\n}","uniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\n\nvarying lowp vec4 color;\nvarying lowp float drawDefaultBorder;\nvarying lowp vec3 nodeBorderColor;\nvarying lowp vec3 selectedBorderColor;\nvarying lowp vec3 selectedInnerBorderColor;\nvarying lowp vec3 shadowColor;\nvarying lowp float selected;\nvarying lowp float hovered;\nvarying lowp float varNodeSize;\n\nmediump float circleSize = 0.40;\nmediump float defaultBoderSize = 0.42;\nmediump float innerSelectedRingSize = 0.43;\nmediump float outerSelectedRingSize = 0.47;\nmediump float shadowSize = 0.51;\n\nlowp float getShadowAlpha(lowp float size, lowp float dist) {\n  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;\n}\n\nlowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {\n  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);\n}\n\nvoid main() {\n  lowp float dist = distance(gl_PointCoord, vec2(0.5));\n\n  if (dist > 0.51) {\n    discard;\n  }\n  else {\n    lowp float nodeSize = 1.0 / varNodeSize;\n    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);\n    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);\n    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);\n    lowp vec3 finalColor = color.xyz;\n    lowp float finalAlpha = nodeAlpha;\n\n    if (selected > 0.0) {\n      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);\n      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);\n\n      if (drawDefaultBorder > 0.0) {\n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);\n        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);\n        finalColor = mix(shadowColor, finalColor, ringAlpha2);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));\n      } else {\n        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);\n        finalColor = mix(shadowColor, finalColor, ringAlpha2);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));\n      }\n    } else if (hovered > 0.0) {\n      if (drawDefaultBorder > 0.0) {\n        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);\n  \n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalColor = mix(shadowColor, finalColor, borderAlpha);\n        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));\n      } else {\n        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);\n\n        finalColor = mix(shadowColor, finalColor, nodeAlpha);\n        finalAlpha = max(shadowAlpha, nodeAlpha);\n      }\n    } else {\n      if (drawDefaultBorder > 0.0) {\n        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);\n        finalAlpha = borderAlpha;\n      }\n    }\n    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;\n  }\n}\n"),this.nodeAnimShader=new Uo(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform lowp float u_animPos;\nuniform mediump float u_zoom;\nuniform mediump float u_glAdjust;\n\nattribute float a_size;\nattribute lowp vec2 a_index;\nattribute lowp vec4 a_color;\nattribute lowp float a_active;\n\nvarying lowp float varNodeSize;\nvarying lowp vec4 color;\n\nvoid main(void) {\n  vec4 data = texture2D(u_positions, a_index);\n\n  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);\n\n  float nodeSize = a_size * u_zoom * u_glAdjust;\n  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring\n\n  gl_PointSize = a_active > 0.5\n    ? nodeSize + 0.88 * nodeSize * u_animPos\n    : 0.0;\n\n  color = a_color;\n  varNodeSize = a_size;\n}","uniform mediump float u_zoom;\nuniform lowp float u_animPos;\nuniform mediump float u_glAdjust;\n\nvarying lowp vec4 color;\nvarying lowp float varNodeSize;\nmediump float circleSize = 0.50;\n\nvoid main(void) {\n\n  lowp float dist = distance(gl_PointCoord, vec2(0.5));\n\n  if (dist > 0.51) {\n    discard;\n  }\n  else {\n    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);\n    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;\n    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;\n  }\n}\n"),this.relShader=new Uo(t,"uniform mat4 u_projection;\nuniform sampler2D u_positions;\nuniform mediump float u_glAdjust;\n\nattribute vec2 a_from;\nattribute vec2 a_to;\nattribute lowp vec4 a_color;\nattribute lowp float a_triside;\nattribute float a_width;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n  vec4 from = texture2D(u_positions, a_from);\n  vec4 to = texture2D(u_positions, a_to);\n  vec2 direction = normalize(to.xy - from.xy);\n  direction = vec2(-direction.y, direction.x);\n\n  float width = a_width * u_glAdjust * 0.5;\n\n  if (a_triside == 0.0) {\n    from.y += (width / 2.0) * direction.y;\n    from.x += (width / 2.0) * direction.x;\n  } else {\n    from.y -= (width / 2.0) * direction.y;\n    from.x -= (width / 2.0) * direction.x;\n  }\n\n  color = a_color;\n  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);\n}\n","varying lowp vec4 color;\n\nvoid main(void) {\n  gl_FragColor = vec4(color.xyz, 1.0) * color.w;\n}\n"),this.viewportBoxShader=new Uo(t,"\nattribute vec2 coordinates;\nuniform mat4 u_projection;\nuniform lowp vec4 u_minimapViewportBoxColor;\n\nvarying lowp vec4 minimapViewportBoxColor;\n\nvoid main(void) {\n  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);\n  minimapViewportBoxColor = u_minimapViewportBoxColor;\n}\n","\nvarying lowp vec4 minimapViewportBoxColor;\n\nvoid main(void) {\n gl_FragColor = minimapViewportBoxColor;\n}\n"),this.setShaderUniforms(o),t.clearColor(0,0,0,0),t.disable(t.DEPTH_TEST),this.defaultRelColor=o.defaultRelationshipColor,this.defaultNodeColor=o.defaultNodeColor,this.disableRelColor=o.disabledItemStyles.color,this.disableNodeColor=o.disabledItemStyles.color,t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.gl=t,this.activeNodes={},this.canvas=t.canvas,this.projection=Ao(),this.setData({nodes:r.items,rels:n.items}),this.createPositionTexture(),this.setupViewportRendering(o.minimapViewportBoxColor)}var t,n;return t=e,n=[{key:"setShaderUniforms",value:function(e){var t,n,o,i,a,u=e.nodeBorderStyles,s=null;(null===(t=u.default)||void 0===t?void 0:t.rings.length)>0&&(s=null===(a=u.default.rings[0])||void 0===a?void 0:a.color);var c,l,f=null,h=null,d=null!==(n=null===(o=u.selected)||void 0===o?void 0:o.rings)&&void 0!==n?n:[],p=d.length;p>1&&(h=null===(c=d[p-2])||void 0===c?void 0:c.color,f=null===(l=d[p-1])||void 0===l?void 0:l.color);var v=null;null!==(i=u.selected)&&void 0!==i&&i.shadow&&(v=u.selected.shadow.color),this.nodeShader.use(),(0,r.isNil)(s)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",zs(s)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var y=zs(f),b=zs(h),m=zs(v);this.nodeShader.setUniform("u_selectedBorderColor",y),this.nodeShader.setUniform("u_selectedInnerBorderColor",b),this.nodeShader.setUniform("u_shadowColor",m)}},{key:"setData",value:function(e){var t=Rn(e.rels,this.disableRelColor);this.setupNodeRendering(e.nodes),this.setupRelationshipRendering(t)}},{key:"render",value:function(e,t,r){var n,o=this.gl,i=this.idToIndex,a=dc(e);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=i[u.id];this.posBuffer[4*s+0]=u.x,this.posBuffer[4*s+1]=u.y}}catch(e){a.e(e)}finally{a.f()}o.bindTexture(o.TEXTURE_2D,this.posTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,bn,bn,0,o.RGBA,o.FLOAT,this.posBuffer),o.enable(o.BLEND),o.bindFramebuffer(o.FRAMEBUFFER,null),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),this.renderAnimations(this.posTexture),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),o.drawArrays(o.TRIANGLES,0,6*this.numRels)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),o.drawArrays(o.POINTS,0,this.numNodes))}},{key:"renderViewbox",value:function(){var e=this.gl,t=this.projection,r=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",t),e.bindBuffer(e.ARRAY_BUFFER,r),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),e.drawArrays(e.LINES,0,8)}},{key:"updateNodes",value:function(e){var t,n=this.gl,o=this.idToIndex,i=this.disableNodeColor,a=this.nodeBuffer,u=this.nodeDataByte,s=!1,c=dc(e);try{for(c.s();!(t=c.n()).done;){var l=t.value,f=o[l.id];if(!(0,r.isNil)(l.color)||!0===l.disabled){var h=Fs(!0===l.disabled?i:l.color);this.nodeDataByte[3*f*4+0]=h[0],this.nodeDataByte[3*f*4+1]=h[1],this.nodeDataByte[3*f*4+2]=h[2],this.nodeDataByte[3*f*4+3]=255*h[3],s=!0}if(void 0!==l.selected){var d=l.selected;this.nodeDataByte[3*f*4+4]=d?255:0,s=!0}if(void 0!==l.activated&&(this.nodeDataByte[3*f*4+7]=l.activated?255:0,s=!0,l.activated?this.activeNodes[l.id]=!0:delete this.activeNodes[l.id]),void 0!==l.hovered){var p=!0!==l.disabled&&l.hovered;this.nodeDataByte[3*f*4+9]=p?255:0,s=!0}if(void 0!==l.size){var v=l.size;this.nodeDataByte[3*f*4+8]=v||gn,s=!0}}}catch(e){c.e(e)}finally{c.f()}s&&(n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,u,n.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(e){var t,n=Rn(e,this.disableRelColor),o=this.gl,i=!1,a=dc(n);try{for(a.s();!(t=a.n()).done;){var u=t.value,s=u.key,c=u.width,l=u.color,f=u.disabled,h=this.relIdToIndex[s],d=(0,r.isNil)(l)?this.defaultRelColor:l,p=Bs(f?this.disableRelColor:d);this.relData.positionsAndColors[h*gc+0]=p,this.relData.positionsAndColors[h*gc+4]=p,this.relData.positionsAndColors[h*gc+8]=p,this.relData.positionsAndColors[h*gc+12]=p,this.relData.positionsAndColors[h*gc+16]=p,this.relData.positionsAndColors[h*gc+20]=p,i=!0,void 0!==c&&(this.relData.widths[h*gc+3]=c,this.relData.widths[h*gc+7]=c,this.relData.widths[h*gc+11]=c,this.relData.widths[h*gc+15]=c,this.relData.widths[h*gc+19]=c,this.relData.widths[h*gc+23]=c,i=!0)}}catch(e){a.e(e)}finally{a.f()}i&&(o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),o.bufferData(o.ARRAY_BUFFER,this.relDataBuffer,o.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var e=this.gl,t=e.createTexture(),r=new Float32Array(262144);e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,bn,bn,0,e.RGBA,e.FLOAT,r),this.posTexture=t,this.posBuffer=r}},{key:"updateViewportBox",value:function(e,t,r,n,o){var i=this.gl,a=Cn(),u=n*a,s=o*a,c=(.5*u+t*e)/e,l=(.5*s+r*e)/e,f=(.5*-u+t*e)/e,h=(.5*-s+r*e)/e,d=[c,l,f,l,f,l,f,h,f,h,c,h,c,h,c,l];i.bindBuffer(i.ARRAY_BUFFER,this.viewportBoxBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(d),i.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(e,t,r){var n=this.gl,o=1/e,i=t-n.drawingBufferWidth*o*.5,a=r-n.drawingBufferHeight*o*.5,u=n.drawingBufferWidth*o,s=n.drawingBufferHeight*o,c=Ao(),l=2.6315789473684212*Cn();ko(c,i,i+u,a+s,a,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",e),this.nodeShader.setUniform("u_glAdjust",l),this.nodeShader.setUniform("u_projection",c),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",e),this.nodeAnimShader.setUniform("u_glAdjust",l),this.nodeAnimShader.setUniform("u_projection",c),this.relShader.use(),this.relShader.setUniform("u_glAdjust",l),this.relShader.setUniform("u_projection",c),this.projection=c}},{key:"setupViewportRendering",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(e=Fs(t))[0]/255,e[1]/255,e[2]/255,e[3]])}},{key:"setupNodeRendering",value:function(e){var t=this.gl,n=new ArrayBuffer(8),o=new Uint32Array(n),i=new Uint8Array(n);void 0===this.nodeBuffer&&(this.nodeBuffer=t.createBuffer()),this.numNodes=e.length;var a=new ArrayBuffer(3*e.length*8),u=new Uint32Array(a),s={};this.activeNodes={};for(var c=0;c<e.length;c++){var l=e[c],f=l.selected,h=l.hovered,d=l.color,p=l.activated,v=l.size,y=l.id,b=l.disabled,m=Bs((0,r.isNil)(d)?this.defaultNodeColor:d);u[3*c+0]=b?Bs(this.disableNodeColor):m,i[0]=f?255:0,i[1]=c%bn,i[2]=Math.floor(c/bn),i[3]=p?255:0,i[4]=!b&&h?255:0,p&&(this.activeNodes[y]=!0),u[3*c+1]=o[0],u[3*c+2]=null!=v?v:gn,u[3*c+3]=o[1],s[y]=c}t.bindBuffer(t.ARRAY_BUFFER,this.nodeBuffer),t.bufferData(t.ARRAY_BUFFER,u,t.DYNAMIC_DRAW),this.numNodes=e.length,this.nodeDataByte=new Uint8Array(a),this.idToIndex=s}},{key:"setupRelationshipRendering",value:function(e){var t=this,n=this.gl,o=new ArrayBuffer(4),i=new Uint32Array(o),a=new Uint8Array(o),u={};void 0===this.relBuffer&&(this.relBuffer=n.createBuffer());for(var s=new ArrayBuffer(e.length*gc*4),c=new Uint32Array(s),l=new Float32Array(s),f=function(n){var o=e[n],s=o.from,f=o.to,h=o.color,d=o.width,p=void 0===d?1:d,v=o.key,y=o.disabled,b=t.idToIndex[s],m=t.idToIndex[f],g=b%bn,_=Math.floor(b/bn),w=m%bn,O=Math.floor(m/bn),S=[g,_,w,O],E=[w,O,g,_],P=(0,r.isNil)(h)?t.defaultRelColor:h,T=Bs(y?t.disableRelColor:P);u[v]=n;var x=0,C=function(e,t,r,o){c[n*gc+x]=e,x+=1;for(var u=0;u<t.length;u++)a[u]=t[u];c[n*gc+x]=i[0],x+=1,a[0]=r,c[n*gc+x]=i[0],l[n*gc+(x+=1)]=o,x+=1};C(T,S,255,p),C(T,E,0,p),C(T,S,0,p),C(T,E,0,p),C(T,S,0,p),C(T,E,255,p)},h=0;h<e.length;h++)f(h);n.bindBuffer(n.ARRAY_BUFFER,this.relBuffer),n.bufferData(n.ARRAY_BUFFER,s,n.DYNAMIC_DRAW),this.numRels=e.length,this.relDataBuffer=s,this.relData={positionsAndColors:c,widths:l},this.relIdToIndex=u}},{key:"renderAnimations",value:function(e){var t=this.gl,r=this.nodeBuffer,n=this.numNodes,o=Date.now()%1e3/1e3,i=o<.7?o/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",e),this.nodeAnimShader.setUniform("u_animPos",i),t.bindBuffer(t.ARRAY_BUFFER,r),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),t.drawArrays(t.POINTS,0,n)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],n&&vc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wc=function(e,t,r){var n=Cn();e.width=t*n,e.height=r*n,e.style.width="".concat(t,"px"),e.style.height="".concat(r,"px")},Oc=function(e){Kn.warn("Error: WebGL context lost - visualization will stop working!",e),void 0!==mc&&mc(e)},Sc=function(e){var t=e.parentElement.getBoundingClientRect(),r=t.width,n=t.height;wc(e,r,n)},Ec=function(e,t){var r=document.createElement("canvas");return document.body.appendChild(r),wc(r,e,t),r},Pc=function(e,t){var r=document.createElement("canvas");return Object.assign(r.style,xn),void 0!==e&&(e.appendChild(r),Sc(r)),function(e,t){mc=t,e.addEventListener("webglcontextlost",Oc)}(r,t),r},Tc=function(e){e.width=0,e.height=0,e.remove()},xc=function(e){return e.getContext("2d")},Cc=function(e){var t={antialias:!0},r=e.getContext("webgl",t);return null===r&&(r=e.getContext("experimental-webgl",t)),function(e){return e instanceof WebGLRenderingContext}(r)?r:null},jc=function(e){e.canvas.removeEventListener("webglcontextlost",Oc);var t=e.getExtension("WEBGL_lose_context");null==t||t.loseContext()};function Ac(e){return function(e){if(Array.isArray(e))return Ic(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Rc(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Rc(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mc=gn*Cn();function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function Dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],o=function(e){var t=function(e,t){if("object"!=Nc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nc(t)?t:String(t)}(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Uc=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},n=0;n<e.length;n++)r.minX>e[n].x&&(r.minX=e[n].x),r.minY>e[n].y&&(r.minY=e[n].y),r.maxX<e[n].x&&(r.maxX=e[n].x),r.maxY<e[n].y&&(r.maxY=e[n].y);var o=(r.minX+r.maxX)/2,i=(r.minY+r.maxY)/2,a=2*t,u=Cn()*a;return{centerX:o,centerY:i,nodesWidth:r.maxX-r.minX+a+u,nodesHeight:r.maxY-r.minY+a+u}},Fc=function(e,t,r,n){var o=1/0,i=1/0;return e>1&&(o=r/e),t>1&&(i=n/t),{zoomX:o,zoomY:i}},Bc=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=Math.min(e,t);return Math.min(n,Math.max(r,o))},zc=function(e,t,r){var n=Uc(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:50),o=n.nodesWidth,i=n.nodesHeight,a=t*Cn(),u=r*Cn(),s=Fc(o,i,a,u),c=s.zoomX,l=s.zoomY;return Bc(c,l)},Vc=function(e,t,r,n){return Math.max(Math.min(t,r),Math.min(e,n))},Wc=function(e,t,r,n,o,i){var a=t;return function(e,t,r){return e<t&&e<r}(o,i,t)&&e.length>1?(a=function(e,t,r){var n=function(e){var t=new Array(4).fill(e[0]);return e.forEach((function(e){t[0]=e.x<t[0].x?t[0]:Lc({},e),t[1]=e.y<t[1].y?t[1]:Lc({},e),t[2]=e.x<t[2].x?Lc({},e):t[2],t[3]=e.y<t[3].y?Lc({},e):t[3]})),t}(e),o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,r=0,n=0;n<e.length;n++)for(var o=n+1;o<e.length;o++)t=Math.hypot(Math.abs(e[n].x-e[o].x),Math.abs(e[n].y-e[o].y)),r=Math.max(r,t);return r}(n),i=2*r,a=Cn()*i,u=t.height<=t.width?t.height-i-a:t.width-i-a;return o>u?.9*u/o:.9*o/u}(e,n,25),Vc(o,i,Math.min(t,a),r)):Vc(o,i,t,r)};function Gc(e){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(e)}function qc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hc(n.key),n)}}function Hc(e){var t=function(e,t){if("object"!=Gc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Gc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gc(t)?t:String(t)}var Yc=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=void 0,(r=Hc(r="callbacks"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.callbacks={}}var t,r;return t=e,r=[{key:"register",value:function(e,t){this.isCallbackRegistered(e)||(this.callbacks[e]=[]),this.callbacks[e].push(t)}},{key:"isCallbackRegistered",value:function(e){return void 0!==this.callbacks[e]}},{key:"callIfRegistered",value:function(){var e,t=arguments,r=Array.prototype.slice.call(arguments)[0];e=r,s.includes(e)&&this.isCallbackRegistered(r)&&this.callbacks[r].slice(0).forEach((function(e){return e.apply(null,Array.prototype.slice.call(t,1))}))}}],r&&qc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xc=o(481),Zc=o.n(Xc);function Kc(e){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(e)}function $c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jc(n.key),n)}}function Qc(e,t,r){return(t=Jc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jc(e){var t=function(e,t){if("object"!=Kc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Kc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kc(t)?t:String(t)}var el=5e-5,tl=function(){function e(t){var r,n=this,o=t.state,i=t.getNodePositions,a=t.canvas;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qc(this,"xCtrl",void 0),Qc(this,"yCtrl",void 0),Qc(this,"zoomCtrl",void 0),Qc(this,"getNodePositions",void 0),Qc(this,"firstUpdate",void 0),Qc(this,"state",void 0),Qc(this,"canvas",void 0),Qc(this,"stateDisposers",void 0),this.state=o,this.getNodePositions=i,this.canvas=a,this.xCtrl=new(Zc())(.35,el,.05,1),this.yCtrl=new(Zc())(.35,el,.05,1),this.zoomCtrl=new(Zc())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(o.autorun((function(){null===o.fitNodeIds&&(n.xCtrl.reset(),n.yCtrl.reset(),n.zoomCtrl.reset())}))),this.stateDisposers.push(o.autorun((function(){r!==o.fitNodeIds&&(r=o.fitNodeIds,n.firstUpdate=!0)}))),this.stateDisposers.push(o.autorun((function(){o.resetZoom&&(n.firstUpdate=!0)})))}var t,r;return t=e,r=[{key:"needsToRun",value:function(){var e=this.state,t=e.fitNodeIds,r=e.resetZoom;return t.length>0||r}},{key:"update",value:function(e,t){var r=this.state,n=r.fitNodeIds,o=r.resetZoom;n.length>0?this.fitNodes(n,e,t):o&&this.reset(e,t)}},{key:"destroy",value:function(){this.stateDisposers.forEach((function(e){return e()}))}},{key:"recalculateTarget",value:function(e,t,r,n){for(var o=this.xCtrl,i=this.yCtrl,a=this.zoomCtrl,u=this.state,s=[],c=0;c<e.length;c++)s.push({id:e[c]});var l=u.zoom,f=u.panX,h=u.panY,d=u.maxNodeRadius,p=u.nodes,v=u.defaultZoomLevel,y=this.getNodePositions(s);p.updatePositions(y);var b=Uc(y,d),m=b.centerX,g=b.centerY,_=b.nodesWidth,w=b.nodesHeight;if(isNaN(m)||isNaN(g))return Kn.info("fit() function couldn't calculate center point, not updating viewport"),!1;var O=t.noPan,S=t.outOnly,E=t.minZoom,P=t.maxZoom;o.setTarget(O?f:m),i.setTarget(O?h:g);var T=Fc(_,w,r,n),x=T.zoomX,C=T.zoomY;if(x===1/0&&C===1/0)a.setTarget(v);else{var j=Bc(x,C,E,P);S&&l<j?a.setTarget(l):a.setTarget(j)}return!0}},{key:"allNodesAreVisible",value:function(e,t,r){var n=Fc(t,r,this.canvas.width,this.canvas.height),o=n.zoomX,i=n.zoomY;return e<o&&e<i}},{key:"reset",value:function(e,t){var r=this.xCtrl,n=this.yCtrl,o=this.zoomCtrl,i=this.state,a=this.firstUpdate,u=this.canvas,s=i.zoom,c=i.panX,l=i.panY,f=i.nodes,h=i.maxNodeRadius,d=i.defaultZoomLevel;if(a||e){o.setTarget(d);var p=Uc(Object.values(f.idToPosition),h),v=p.centerX,y=p.centerY,b=p.nodesWidth,m=p.nodesHeight;this.allNodesAreVisible(s,b,m)?(r.setTarget(v),n.setTarget(y)):(r.setTarget(c),n.setTarget(l)),this.firstUpdate=!1}var g=s+o.update(s),_=c+r.update(c),w=l+n.update(l);i.updateZoomToFit(g,_,w,u),Math.abs(o.target-g)<.01&&(i.updateZoomToFit(d,_,w,u),i.clearReset(),void 0!==t&&t())}},{key:"fitNodes",value:function(e,t,r){var n=this.state,o=this.firstUpdate,i=this.canvas,a=this.xCtrl,u=this.yCtrl,s=this.zoomCtrl,c=n.zoomOptions,l=void 0===c?{}:c,f=n.zoom,h=n.panX,d=n.panY,p=!0;if(o||t){var v=i.width,y=i.height;p=this.recalculateTarget(e,l,v,y),this.firstUpdate=!1}if(p){if(!l.animated)return n.setZoomPan(s.target,a.target,u.target,i),void n.clearFit();var b=h+a.update(h),m=d+u.update(d),g=f+s.update(f);n.updateZoomToFit(g,b,m,i);var _=Math.max(5,10/s.target),w=Math.min(.01,.01*s.target);!t&&Math.abs(s.target-g)<w&&Math.abs(a.target-b)<_&&Math.abs(u.target-m)<_&&(n.setZoom(s.target,i),n.clearFit(),void 0!==r&&r())}}}],r&&$c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function nl(){nl=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),u=new A(n||[]);return o(a,"_invoke",{value:T(e,r,u)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function b(){}function m(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(k([])));O&&O!==r&&n.call(O,a)&&(_=O);var S=g.prototype=b.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,i,a,u){var s=f(e[o],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==rl(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=h;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=x(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=f(t,r,n);if("normal"===c.type){if(o=n.done?v:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function x(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(rl(t)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(P.prototype),c(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ol(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function al(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?al(Object(r),!0).forEach((function(t){cl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):al(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ll(n.key),n)}}function cl(e,t,r){return(t=ll(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ll(e){var t=function(e,t){if("object"!=rl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=rl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rl(t)?t:String(t)}var fl="NvlController",hl={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},dl="onError",pl="onLayoutDone",vl="onLayoutStep",yl={},bl=function(){var e;return null!==(e=yl[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"])&&void 0!==e?e:Object.values(yl).pop()},ml=function(){function e(t,r){var n,o,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cl(this,"destroyed",void 0),cl(this,"state",void 0),cl(this,"callbacks",void 0),cl(this,"instanceId",void 0),cl(this,"glController",void 0),cl(this,"webGLContext",void 0),cl(this,"webGLMinimapContext",void 0),cl(this,"htmlOverlay",void 0),cl(this,"hasResized",void 0),cl(this,"hierarchicalLayout",void 0),cl(this,"gridLayout",void 0),cl(this,"freeLayout",void 0),cl(this,"d3ForceLayout",void 0),cl(this,"forceLayout",void 0),cl(this,"canvasRenderer",void 0),cl(this,"glCanvas",void 0),cl(this,"canvasRect",void 0),cl(this,"glMinimapCanvas",void 0),cl(this,"c2dCanvas",void 0),cl(this,"isInRenderSwitchAnimation",void 0),cl(this,"justSwitchedRenderer",void 0),cl(this,"justSwitchedLayout",void 0),cl(this,"layoutUpdating",void 0),cl(this,"layoutComputing",void 0),cl(this,"isRenderingDisabled",void 0),cl(this,"setRenderSwitchAnimation",void 0),cl(this,"stateDisposers",void 0),cl(this,"zoomTransitionHandler",void 0),cl(this,"currentLayout",void 0),cl(this,"layoutTimeLimit",void 0),cl(this,"pixelRatio",void 0),cl(this,"removeResizeListener",void 0),cl(this,"removeMinimapResizeListener",void 0),cl(this,"pendingZoomOperation",void 0),cl(this,"layoutRunner",void 0),cl(this,"animationRequestId",void 0),cl(this,"layoutDoneCallback",void 0),cl(this,"layoutComputingCallback",void 0),cl(this,"currentLayoutType",void 0),cl(this,"descriptionElement",void 0),this.destroyed=!1;var u=r.frame,s=r.minimapContainer,c=void 0===s?document.createElement("span"):s,l=r.layoutOptions,f=r.layout,h=r.instanceId,d=void 0===h?"default":h,p=r.disableAria,v=void 0!==p&&p,y=t.nodes,b=t.rels,m=t.webGLVisible,g=t.disableWebGL;this.state=t,this.callbacks=new Yc,this.instanceId=d;var _=u;_.setAttribute("instanceId",d),_.setAttribute("data-testid","nvl-parent"),null!==(n=_.style.height)&&void 0!==n&&n.length||Object.assign(_.style,{height:"100%"}),null!==(o=_.style.outline)&&void 0!==o&&o.length||Object.assign(_.style,{outline:"none"}),this.descriptionElement=v?document.createElement("div"):function(e,t){var r;e.setAttribute("role","img"),e.setAttribute("aria-label","Graph visualization");var n="nvl-".concat(t,"-description"),o=null!==(r=document.getElementById(n))&&void 0!==r?r:document.createElement("div");return o.innerHTML="",o.id="nvl-".concat(t,"-description"),o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","false"),o.style.display="none",e.appendChild(o),e.setAttribute("aria-describedby",o.id),o}(_,d);var w=Pc(_,this.onWebGLContextLost.bind(this)),O=Pc(c,this.onWebGLContextLost.bind(this));if(w.setAttribute("data-testid","nvl-gl-canvas"),g)this.glController=new fc;else{var S=Cc(w),E=Cc(O);this.glController=new lc({mainSceneRenderer:new _c(S,y,b,this.state),minimapRenderer:new _c(E,y,b,this.state),state:t}),this.webGLContext=S,this.webGLMinimapContext=E}var P=Pc(_,this.onWebGLContextLost.bind(this));P.setAttribute("data-testid","nvl-c2d-canvas");var T=P.getContext("2d"),x=document.createElement("div");Object.assign(x.style,ul(ul({},xn),{},{overflow:"hidden"})),_.appendChild(x),this.htmlOverlay=x,this.hasResized=!0,this.hierarchicalLayout=new va(ul(ul({},l),{},{state:this.state})),this.gridLayout=new Ui({state:this.state}),this.freeLayout=new ji({state:this.state}),this.d3ForceLayout=new Yn({state:this.state}),this.forceLayout=g?this.d3ForceLayout:new gi(ul(ul({},l),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(f),this.state.setLayoutOptions(l);var C=new tc(P,T,t,r);this.canvasRenderer=C,this.glCanvas=w,this.canvasRect=w.getBoundingClientRect(),this.glMinimapCanvas=O,this.c2dCanvas=P,this.glCanvas.style.opacity=m?"1":"0",this.c2dCanvas.style.opacity=m?"0":"1",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,y.addChannel(fl),b.addChannel(fl),this.setRenderSwitchAnimation=function(){a.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(t.autorun((function(){a.callIfRegistered("zoom",t.zoom)}))),this.stateDisposers.push(t.autorun((function(){a.callIfRegistered("pan",{panX:t.panX,panY:t.panY})}))),this.stateDisposers.push(t.autorun((function(){a.setLayout(t.layout)}))),this.stateDisposers.push(t.autorun((function(){a.setLayoutOptions(t.layoutOptions)}))),v||this.stateDisposers.push(t.autorun((function(){!function(e,t){var r=e.nodes,n=e.rels,o=e.layout,i=r.items.length,a=n.items.length;if(0!==i||0!==a){var u="".concat(i," node").concat(1!==i?"s":""),s="".concat(a," relationship").concat(1!==a?"s":""),c="displayed using a ".concat(null!=o?o:"forceDirected"," layout");t.innerHTML="A graph visualization with ".concat(u," and ").concat(s,", ").concat(c,".")}else t.innerHTML="An empty graph visualization."}(t,a.descriptionElement)}))),this.stateDisposers.push(t.autorun((function(){var e=t.webGLVisible?"1":"0";e!==a.glCanvas.style.opacity&&(a.justSwitchedRenderer=!0,a.glCanvas.style.opacity=e,a.c2dCanvas.style.opacity=t.webGLVisible?"0":"1")}))),this.startMainLoop(),this.zoomTransitionHandler=new tl({state:t,getNodePositions:function(e){return a.currentLayout.getNodePositions(e)},canvas:w}),this.layoutTimeLimit=null!==(i=r.layoutTimeLimit)&&void 0!==i?i:16,this.pixelRatio=Cn(),this.removeResizeListener=Tr()(_,(function(){Sc(w),Sc(P),a.canvasRect=w.getBoundingClientRect(),a.hasResized=!0})),this.removeMinimapResizeListener=Tr()(c,(function(){Sc(O)})),yl[d]=this,window.__Nvl_dumpNodes=function(e){var t;return null===(t=bl(e))||void 0===t?void 0:t.dumpNodes()},window.__Nvl_dumpRelationships=function(e){var t;return null===(t=bl(e))||void 0===t?void 0:t.dumpRelationships()},window.__Nvl_registerDoneCallback=function(e,t){var r;return null===(r=bl(t))||void 0===r?void 0:r.on(pl,e)},window.__Nvl_getNodesOnScreen=function(e){var t;return null===(t=bl(e))||void 0===t?void 0:t.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(e){var t;return null===(t=bl(e))||void 0===t?void 0:t.getScale()},this.pendingZoomOperation=null}var t,r,n,o;return t=e,r=[{key:"onWebGLContextLost",value:function(e){this.callIfRegistered("onWebGLContextLost",e)}},{key:"updateMinimapZoom",value:function(){var e=this.state,t=e.nodes,r=e.maxNodeRadius,n=e.maxMinimapZoom,o=e.minMinimapZoom,i=Uc(Object.values(t.idToPosition),r),a=i.centerX,u=i.centerY,s=i.nodesWidth,c=i.nodesHeight,l=Fc(s,c,this.glMinimapCanvas.width,this.glMinimapCanvas.height),f=l.zoomX,h=l.zoomY,d=Bc(f,h,o,n);this.state.updateMinimapZoomToFit(d,a,u)}},{key:"startMainLoop",value:function(){var e=this,t=this.state,r=t.nodes,n=t.rels;this.currentLayout.update();var o=this.currentLayout.getNodePositions(r.items);r.updatePositions(o),this.isRenderingDisabled||(this.glController.renderMainScene(o),this.glController.renderMinimap(o),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(o)),this.layoutRunner=setInterval((function(){try{!function(){var t=e.currentLayout.getShouldUpdate(),r=t||e.justSwitchedLayout,n=r&&!e.layoutUpdating&&!e.justSwitchedLayout;if(r)for(var o=window.performance.now(),i=n?0:50,a=0;a<i;a++){e.currentLayout.update(e.justSwitchedLayout),e.justSwitchedLayout=!1;var u=window.performance.now();if(!t||u-o>e.layoutTimeLimit)break}}()}catch(t){if(!e.callbacks.isCallbackRegistered(dl))throw t;e.callIfRegistered(dl,t)}}),13),this.animationRequestId=window.requestAnimationFrame((function t(){try{!function(t){if(e.destroyed)Kn.info("STEP IN A DESTROYED STRIP");else{var o=Cn();if(o!==e.pixelRatio)return e.pixelRatio=o,void e.callIfRegistered("restart");var i=e.currentLayout.getShouldUpdate(),a=i||e.justSwitchedLayout,u=e.currentLayout.getComputing(),s=e.zoomTransitionHandler.needsToRun(),c=a&&!e.layoutUpdating&&!e.justSwitchedLayout,l=e.layoutComputing&&!u,f=e.state.webGLVisible&&e.glController.needsToRun(),h=!e.state.webGLVisible&&e.canvasRenderer.needsToRun(),d=e.isInRenderSwitchAnimation||e.justSwitchedRenderer,p=e.hasResized,v=null!==e.pendingZoomOperation,y=e.glController.minimapMouseDown;if(r.clearChannel(fl),n.clearChannel(fl),s||a||l||d||f||h||y||p||v){!v||c||e.currentLayout.getComputing()||(e.pendingZoomOperation(),e.pendingZoomOperation=null);var b=i||u||l;e.zoomTransitionHandler.update(b,(function(){return e.callIfRegistered("onZoomTransitionDone")})),p&&e.glController.onResize();var m=e.currentLayout.getNodePositions(r.items);if(r.updatePositions(m),e.callbacks.isCallbackRegistered(vl)&&e.callIfRegistered(vl,e.dumpNodes()),e.updateMinimapZoom(),e.glController.renderMinimap(m),!e.isRenderingDisabled){if((e.state.webGLVisible||d)&&e.glController.renderMainScene(m),!e.state.webGLVisible||d){e.canvasRenderer.processUpdates(),e.canvasRenderer.render(m);for(var g=0;g<n.items.length;g++){var _=n.items[g].id,w=e.canvasRenderer.arrowBundler.getBundle(n.items[g]),O=n.idToHtmlOverlay[_],S=w.labelInfo[_];if(O&&S){var E=S.rotation,P=S.position,T=S.width,x=S.height,C=e.mapCanvasSpaceToRelativePosition(P.x,P.y),j=C.x,A=C.y,k=T>5&&!e.state.webGLVisible;Object.assign(O.style,{top:"".concat(A,"px"),left:"".concat(j,"px"),width:"".concat(T,"px"),height:"".concat(x,"px"),display:k?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(e.state.zoom),") rotate(").concat(E,"rad")})}}}for(var R=0;R<r.items.length;R++){var I=r.items[R],M=I.id,N=I.size,D=r.idToHtmlOverlay[M];if(D){var L=e.state.nodes.idToPosition[M],U=e.mapCanvasSpaceToRelativePosition(L.x,L.y),F=U.x,B=U.y,z="".concat(2*(null!=N?N:gn),"px");Object.assign(D.style,{top:"".concat(B,"px"),left:"".concat(F,"px"),width:z,height:z,transform:"translate(-50%, -50%) scale(".concat(Number(e.state.zoom),")")})}}}}var V=!a&&e.layoutUpdating,W=u!==e.layoutComputing;e.layoutComputing=u,e.layoutUpdating=a,V&&e.callIfRegistered(pl),W&&e.callIfRegistered("onLayoutComputing",u),e.justSwitchedRenderer=!1,e.hasResized=!1,void 0!==t&&t()}}((function(){e.animationRequestId=window.requestAnimationFrame(t)}))}catch(t){if(!e.callbacks.isCallbackRegistered(dl))throw t;e.callIfRegistered(dl,t)}}))}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var e,t=this.state.nodes.items,r=this.state.nodes.idToPosition,n=[],o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return il(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?il(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(t);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=r[i.id],u=this.mapCanvasSpaceToRelativePosition(a.x,a.y);n.push(ul(ul({},i),{},{x:u.x,y:u.y}))}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"dumpRelationships",value:function(){return gr(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(e,t){var r=this.canvasRect,n=window.devicePixelRatio||1,o=(e-this.state.panX)*this.state.zoom/n,i=(t-this.state.panY)*this.state.zoom/n;return{x:o+.5*r.width,y:i+.5*r.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(e,t){var r=this.glCanvas.getBoundingClientRect(),n=window.devicePixelRatio||1,o=n*(e-.5*r.width),i=n*(t-.5*r.height);return{x:this.state.panX+o/this.state.zoom,y:this.state.panY+i/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values(gr(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state.nodes.updatePositions(e),this.currentLayout.updateNodes(e),t||this.currentLayout.terminateUpdate(),this.hasResized=!0,0===this.getNodesOnScreen().nodes.length&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var e=this.glCanvas.getBoundingClientRect(),t=this.mapRelativePositionToCanvasSpace(0,0),r=t.x,n=t.y,o=this.mapRelativePositionToCanvasSpace(e.width,e.height);return function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["node"],a=o.nodes,u=o.rels,s=Math.min(e,r),c=Math.max(e,r),l=Math.min(t,n),f=Math.max(t,n),h=[],d=[];if(i.includes("node"))for(var p=0,v=Object.values(a.idToPosition);p<v.length;p++){var y=v[p],b=y.x,m=y.y;void 0!==b&&void 0!==m&&b>s&&b<c&&m>l&&m<f&&h.push(y)}if(i.includes("relationship")){var g,_=kc(u.items);try{for(_.s();!(g=_.n()).done;){var w=g.value,O=w.from,S=w.to,E=a.idToPosition[O],P=a.idToPosition[S];if(void 0!==E.x&&void 0!==E.y&&void 0!==P.x&&void 0!==P.y){var T=E.x>s&&E.x<c&&E.y>l&&E.y<f,x=P.x>s&&P.x<c&&P.y>l&&P.y<f;T&&x&&d.push(w)}}}catch(e){_.e(e)}finally{_.f()}}return{nodes:h,rels:d}}(r,n,o.x,o.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(e){this.layoutDoneCallback=e}},{key:"registerComputingCallback",value:function(e){this.layoutComputingCallback=e}},{key:"getPosition",value:function(e){return this.currentLayout.getNodePositions([{id:e}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(e){var t=this;this.pendingZoomOperation=function(){return t.state.setZoom(e,t.glCanvas)}}},{key:"setPanCoordinates",value:function(e,t){this.state.setPan(e,t)}},{key:"setZoomAndPan",value:function(e,t,r){var n=this;this.pendingZoomOperation=function(){return n.state.setZoomPan(e,t,r,n.glCanvas)}}},{key:"fit",value:function(e,t){var r=this;this.pendingZoomOperation=function(){return r.state.fitNodes(e,t)}}},{key:"resetZoom",value:function(){var e=this;this.pendingZoomOperation=function(){return e.state.setZoomReset()}}},{key:"setRenderer",value:function(e){this.state.setRenderer(e)}},{key:"on",value:function(e,t){this.callbacks.register(e,t)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var e;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),void 0!==this.layoutRunner&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),void 0!==this.webGLContext&&jc(this.webGLContext),void 0!==this.webGLMinimapContext&&jc(this.webGLMinimapContext),Tc(this.glCanvas),Tc(this.glMinimapCanvas),this.canvasRenderer.destroy(),Tc(this.c2dCanvas),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach((function(e){e()})),e=this.instanceId,delete yl[e],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(e){return this.canvasRenderer.getRelsAt(e)}},{key:"getCanvasNodesAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.canvasRenderer.getNodesAt(e,t)}},{key:"getLayout",value:function(e){return e===zi?this.hierarchicalLayout:e===Bi?this.forceLayout:e===Vi?this.gridLayout:e===Wi?this.freeLayout:e===Gi?this.d3ForceLayout:this.forceLayout}},{key:"setLayout",value:function(e){Kn.info("Switching to layout: ".concat(e));var t=this.currentLayoutType,r=this.getLayout(e);"free"===e&&r.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=r,this.currentLayoutType=e,t&&t!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(e){this.getLayout(this.state.layout).setOptions(e)}},{key:"createDownloadLink",value:function(e,t){var r=document.createElement("a");r.style.display="none",r.setAttribute("download",e);var n=t.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream");return r.setAttribute("href",n),r}},{key:"saveToFile",value:function(e){var t=ul(ul({},hl),e),r=t.filename,n=t.backgroundColor,o=this.state.nodes.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var i=this.currentLayout.getNodePositions(o);this.state.nodes.updatePositions(i);var a=Ec(this.c2dCanvas.width,this.c2dCanvas.height),u=xc(a);this.canvasRenderer.processUpdates(),this.canvasRenderer.render(i,{canvas:a,context:u,backgroundColor:n,ignoreAnimations:!0}),this.createDownloadLink(r,a).click(),Tc(a),a=null,u=null}},{key:"prepareLargeFileForDownload",value:function(e){var t=this,r=ul(ul({},hl),e),n=this.state.nodes.items,o=r.filename,i=r.backgroundColor,a=this.currentLayout.getNodePositions(n),u=Uc(a,100),s=u.nodesWidth,c=u.nodesHeight,l=u.centerX,f=u.centerY,h=Math.max(Math.min(s+100,15e3),5e3),d=Math.max(Math.min(c+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise((function(e,r){try{t.setPanCoordinates(l,f);var n=Math.max(h/s-.02,t.state.minZoom),u=Math.max(d/c-.02,t.state.minZoom);t.setZoomLevel(Math.min(n,u))}catch(e){return Kn.error("An error occurred while downloading the file"),void r(e)}setTimeout((function(){try{t.currentLayout.update(t.justSwitchedLayout),t.justSwitchedLayout=!1,t.state.nodes.updatePositions(a);var n=Ec(h,d),u=xc(n);t.canvasRenderer.processUpdates(),t.canvasRenderer.render(a,{canvas:n,context:u,backgroundColor:i,ignoreAnimations:!0,showCaptions:!0}),t.createDownloadLink(o,n).click(),Tc(n),n=null,u=null,e(!0)}catch(e){r(e)}}),500)}))}},{key:"saveFullGraphToLargeFile",value:(n=nl().mark((function e(t){var r,n,o,i;return nl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ul(ul({},hl),t),n=this.state.zoom,o=this.state.panX,i=this.state.panY,e.prev=4,e.next=7,this.prepareLargeFileForDownload(r);case 7:e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(4),Kn.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(dl)){e.next=16;break}this.callIfRegistered(dl,e.t0),e.next=17;break;case 16:throw e.t0;case 17:return e.prev=17,this.isRenderingDisabled=!1,this.setZoomLevel(n),this.setPanCoordinates(o,i),e.finish(17);case 22:case"end":return e.stop()}}),e,this,[[4,9,17,22]])})),o=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){ol(i,r,o,a,u,"next",e)}function u(e){ol(i,r,o,a,u,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})}],r&&sl(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sl(n.key),n)}}function Ol(e,t,r){return t&&wl(e.prototype,t),r&&wl(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sl(e){var t=function(e,t){if("object"!=gl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gl(t)?t:String(t)}var El=function(){function e(t,r){if(_l(this,e),!t)throw new Error("Tried to create a node with no data");this.data=t,this.parent=r,this.children=[]}return Ol(e,[{key:"addChild",value:function(e){this.children.push(e)}},{key:"isRoot",value:function(){return null===this.parent}},{key:"print",value:function(){var e=this.data.name;this.isRoot()||(e="".concat(e,"\t\t").concat(function(e){for(var t=(Math.round(1e3*e)/1e3).toFixed(3);t.length<6;)t=" ".concat(t);return t}(this.data._timeSpent())," ms"),this.parent.isRoot()||(e="".concat(e,"\t").concat(this._percentageOfParentSpent(),"%")));var t=this.noOfChildren()>0;for(var r in t?(e="".concat(e,"\t Children: ").concat(this.noOfChildren()),console.groupCollapsed(e)):console.log(e),this.children)this.children[r].print();t&&console.groupEnd()}},{key:"noOfChildren",value:function(){return this.children.length}},{key:"_percentageOfParentSpent",value:function(){return Math.round(this.data._timeSpent()/this.parent.data._timeSpent()*100)}}]),e}(),Pl=function(){function e(t){_l(this,e),this.name=t,this.startTime=performance.now(),this.endTime=null}return Ol(e,[{key:"close",value:function(){this.endTime=performance.now()}},{key:"_timeSpent",value:function(){if(null===this.startTime||null===this.endTime)throw new Error("You have an error in your performance measurements that makes the whole tree unreliable. You probably forgot to call performanceTestEnd on ".concat(this.name));return this.endTime-this.startTime}}]),e}(),Tl=function(){function e(){_l(this,e),this.root=new El(new Pl("Performance Tree"),null),this.current=this.root}return Ol(e,[{key:"clear",value:function(){this.root.children=[],this.current=this.root}},{key:"add",value:function(e){if(this.current){var t=new El(e,this.current);this.current.addChild(t),this.current=t}else{if(this.root)throw new Error("Performance tree is screwed up");this.root=new El(e,null),this.current=this.root}}},{key:"close",value:function(){if(this.current.isRoot())throw new Error("Tried to close performance tree root. You probably have one too many Performance.endTest() in your code.");this.current.data.close(),this.current=this.current.parent}},{key:"getCurrentData",value:function(){return this.current.data}},{key:"print",value:function(){this.root.noOfChildren()>0&&this.root.print()}}]),e}(),xl=function(){function e(){_l(this,e),window.performance?(this.disabled=!1,this.tree=new Tl):(this.disabled=!0,this.tree=null)}return Ol(e,[{key:"startTest",value:function(e){if(!this.disabled){var t,r=e||(1,t="at"===(t=(new Error).stack.split("\n")[3].trim()).split(" ")[0]?t.split(" ")[1]:t.split("@")[0]),n=new Pl(r);this.tree.add(n)}}},{key:"endTest",value:function(){this.disabled||this.tree.close()}},{key:"reset",value:function(){this.disabled||this.tree.clear()}},{key:"print",value:function(){this.disabled||this.tree.print()}}]),e}();function Cl(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return jl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Al(e){this.channels[e]={adds:{},updates:{},removes:{}}}function kl(e){delete this.channels[e]}function Rl(e){this.channels[e].adds={},this.channels[e].updates={},this.channels[e].removes={}}var Il=function(e){return"html"in e?e.html:"captionHtml"in e?e.captionHtml:void 0};function Ml(e,t){var n,o=!1,i=Cl(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=a.id;if(void 0===this.idToItem[u]){if(a=(0,r.cloneDeep)(a),this.items.push(a),this.idToItem[u]=a,this.idToPosition[u]={id:u,x:0,y:0},"x"in a&&"y"in a){var s=a,c=s.x,l=s.y;isNaN(c)||isNaN(l)||(this.idToPosition[u].x=c,this.idToPosition[u].y=l)}var f=Il(a);if(f instanceof HTMLElement){var h=document.createElement("div");Object.assign(h.style,{position:"absolute"}),h.appendChild(f),this.idToHtmlOverlay[u]=h}for(var d=Object.values(this.channels),p=0,v=d;p<v.length;p++){var y=v[p];void 0===y.removes[u]?y.adds[u]=a:(delete y.removes[u],y.updates[u]=a)}o=!0}}}catch(e){i.e(e)}finally{i.f()}o&&(this.version+=1,void 0!==t&&(t.added=!0))}function Nl(e,t){var r,n=!1,o=Cl(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.id,u=this.idToItem[a];if(void 0!==u){Object.assign(u,i);var s=Il(i);if(s instanceof HTMLElement){var c;null===(c=this.idToHtmlOverlay[a])||void 0===c||c.remove(),delete this.idToHtmlOverlay[a];var l=document.createElement("div");Object.assign(l.style,{position:"absolute"}),l.appendChild(s),this.idToHtmlOverlay[a]=l}for(var f=Object.values(this.channels),h=0,d=f;h<d.length;h++){var p=d[h];if(void 0===p.adds[a]){var v=p.updates[a];void 0===v&&(v={id:a},p.updates[a]=v),Object.assign(v,i)}}void 0!==t&&(t.updated=!0)}n=!0}}catch(e){o.e(e)}finally{o.f()}n&&(this.version+=1)}function Dl(e,t){var r,n=!1,o=Cl(e);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=this.idToItem[i];if(void 0!==a){var u;n=!0,delete this.idToItem[a.id],delete this.idToPosition[a.id],null===(u=this.idToHtmlOverlay[a.id])||void 0===u||u.remove(),delete this.idToHtmlOverlay[a.id],this.items.splice(this.items.indexOf(a),1);for(var s=Object.values(this.channels),c=0,l=s;c<l.length;c++){var f=l[c];void 0!==f.adds[i]?delete f.adds[i]:(delete f.updates[i],f.removes[i]=a)}}}}catch(e){o.e(e)}finally{o.f()}n&&(void 0!==t&&(t.removed=!0),this.version+=1)}function Ll(e){var t,r=Cl(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(void 0!==this.idToPosition[n.id]){var o=this.idToPosition[n.id];Object.assign(o,n)}else this.idToPosition[n.id]={id:n.id,x:n.x,y:n.y,pinned:n.pinned}}}catch(e){r.e(e)}finally{r.f()}}function Ul(e){for(var t in this.idToHtmlOverlay){var r=this.idToHtmlOverlay[t];e.appendChild(r)}}var Fl=function(){return{idToItem:Ve.shallow({}),items:Ve.shallow([]),channels:Ve.shallow({}),idToPosition:Ve.shallow({}),idToHtmlOverlay:Ve.shallow({}),version:0,addChannel:ie(Al),removeChannel:ie(kl),clearChannel:ie(Rl),add:ie(Ml),update:ie(Nl),remove:ie(Dl),updatePositions:ie(Ll),updateHtmlOverlay:ie(Ul)}},Bl={selected:{rings:[{widthFactor:.05,color:En},{widthFactor:.1,color:Pn}],shadow:{width:10,opacity:1,color:Sn}},default:{rings:[]}},zl={selected:{rings:[{color:En,width:2},{color:Pn,width:4}],shadow:{width:18,opacity:1,color:Sn}},default:{rings:[]}},Vl=.75,Wl={noPan:!1,outOnly:!1,animated:!0};function Gl(e){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(e)}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],o=function(e){var t=function(e,t){if("object"!=Gl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gl(t)?t:String(t)}(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xl=function(e,t,n){(0,r.isNil)(e)||(function(e){return"string"==typeof e&&null!==Fs(e)}(e)?t(e):Zn().warn("Invalid color string for ".concat(n,":"),e))};function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}function Kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],o=function(e){var t=function(e,t){if("object"!=Zl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Zl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zl(t)?t:String(t)}(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ql=function(e){var t=e.minZoom,n=e.maxZoom,o=e.allowDynamicMinZoom,i=void 0===o||o,a=e.layout,u=e.layoutOptions,s=e.styling,c=void 0===s?{}:s,l=e.panX,f=void 0===l?0:l,h=e.panY,d=void 0===h?0:h,p=e.initialZoom,v=e.renderer,y=void 0===v?!0===e.useWebGL?qi:Hi:v,b=e.disableWebGL,m=void 0!==b&&b,g=e.disableWebWorkers,_=void 0!==g&&g,w=e.disableTelemetry,O=void 0!==w&&w;K(!0),_r.isolateGlobalState();var S=(0,r.isNil)(t)?.075:t,E=(0,r.isNil)(n)?10:n,P=function(e,t){var r=t.legacyNodeDefaultBorderColor,n=t.legacySelectedBorderColor,o=t.legacyDisabledItemColor,i=t.legacyDisabledItemFontColor,a=e.nodeDefaultBorderColor,u=void 0===a?r:a,s=e.selectedBorderColor,c=void 0===s?n:s,l=e.disabledItemColor,f=void 0===l?o:l,h=e.disabledItemFontColor,d=void 0===h?i:h,p=e.selectedInnerBorderColor,v=e.dropShadowColor,y=e.defaultNodeColor,b=e.defaultRelationshipColor,m=e.minimapViewportBoxColor,g=Yl({},Bl.default),_=Yl({},Bl.selected),w=Yl({},zl.selected),O={color:On,fontColor:"#DDDDDD"},S=wn,E=_n;return Xl(p,(function(e){_.rings[0].color=e,w.rings[0].color=e}),"selectedInnerBorderColor"),Xl(c,(function(e){_.rings[1].color=e,w.rings[1].color=e}),"selectedBorderColor"),Xl(u,(function(e){var t;g.rings=[{color:e,widthFactor:.05}],_.rings=[{color:e,widthFactor:.05}].concat(function(e){if(Array.isArray(e))return ql(e)}(t=_.rings)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ql(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),"nodeDefaultBorderColor"),Xl(v,(function(e){_.shadow.color=e,w.shadow.color=e}),"dropShadowColor"),Xl(f,(function(e){O.color=e}),"disabledItemColor"),Xl(d,(function(e){O.fontColor=e}),"disabledItemFontColor"),Xl(y,(function(e){E=e}),"defaultNodeColor"),Xl(b,(function(e){S=e}),"defaultRelationshipColor"),{nodeBorderStyles:{default:g,selected:_},relationshipBorderStyles:{default:zl.default,selected:w},disabledItemStyles:O,defaultNodeColor:E,defaultRelationshipColor:S,minimapViewportBoxColor:m||Tn}}(c,{legacyNodeDefaultBorderColor:e.nodeDefaultBorderColor,legacySelectedBorderColor:e.selectedBorderColor,legacyDisabledItemColor:e.disabledItemColor,legacyDisabledItemFontColor:e.disabledItemFontColor}),T=P.nodeBorderStyles,x=P.relationshipBorderStyles,C=P.disabledItemStyles,j=P.defaultNodeColor,A=P.defaultRelationshipColor,k=P.minimapViewportBoxColor,R=Ve({zoom:p||Vl,minimapZoom:Vl,defaultZoomLevel:Vl,panX:f,panY:d,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:Wl,forceWebGL:!1,renderer:y,disableWebGL:m,disableWebWorkers:_,disableTelemetry:O,fitMovement:0,layout:a,layoutOptions:u,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:T,relationshipBorderStyles:x,disabledItemStyles:C,defaultNodeColor:j,defaultRelationshipColor:A,minimapViewportBoxColor:k,get minZoom(){return S},get maxZoom(){return E},get minMinimapZoom(){return 0},get maxMinimapZoom(){return.2},get webGLVisible(){var e=this.fitMovement>50;return this.renderer===qi||e},nodes:Fl(),rels:Fl(),graphUpdates:0,waypoints:{data:Ve.shallow({}),counter:0},setGraphUpdated:ie((function(){this.graphUpdates+=1})),setRenderer:ie((function(e){ie((function(){this.graphUpdates+=1})),this.renderer=e})),setWaypoints:ie((function(e){this.waypoints.data=e,this.waypoints.counter+=1})),setZoomPan:ie((function(e,t,r,n){if(i){var o=Object.values(this.nodes.idToPosition),a=Wc(o,S,E,n,e,this.zoom);a!==this.zoom&&(this.zoom=a,e===a&&(this.panX=t,this.panY=r))}else{var u=Vc(e,this.zoom,S,E);u!==this.zoom&&(this.zoom=u,this.panX=t,this.panY=r)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1})),setZoom:ie((function(e,t){if(i){var r=Object.values(this.nodes.idToPosition);this.zoom=Wc(r,S,E,t,e,this.zoom)}else this.zoom=Vc(e,this.zoom,S,E);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1})),setPan:ie((function(e,t){this.panX=e,this.panY=t,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1})),setLayout:ie((function(e){this.layout=e})),setLayoutOptions:ie((function(e){this.layoutOptions=e})),fitNodes:ie((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fitNodeIds=(0,r.intersection)(e,(0,r.map)(this.nodes.items,"id")),this.zoomOptions=$l($l({},Wl),t)})),setZoomReset:ie((function(){this.resetZoom=!0})),clearFit:ie((function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=Wl})),clearReset:ie((function(){this.resetZoom=!1,this.fitMovement=0})),updateZoomToFit:ie((function(e,t,r,n){var o;if(this.fitMovement=Math.abs(e-this.zoom)+Math.abs(t-this.panX)+Math.abs(r-this.panY),i){var a=Object.values(this.nodes.idToPosition);o=Wc(a,S,E,n,e,this.zoom)}else o=Vc(e,this.zoom,S,E);this.zoom=o,this.panX=t,this.panY=r})),updateMinimapZoomToFit:ie((function(e,t,r){this.minimapZoom=e,this.minimapPanX=t,this.minimapPanY=r})),autorun:ye,reaction:be});return R},Jl=function(e){return Boolean(e)&&"string"==typeof e.id&&e.id.length>0},ef=o(1187);function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function rf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],o=function(e){var t=function(e,t){if("object"!=tf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=tf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tf(t)?t:String(t)}(o),o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function of(e){return function(e){if(Array.isArray(e))return af(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return af(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?af(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uf=function(e){return{id:e.elementId}},sf=function(e){return{id:e.elementId,from:e.startNodeElementId,to:e.endNodeElementId}},cf=ef.resultTransformers.mappedResultTransformer({map:function(e){return Object.values(e.toObject())},collect:function(e){var t={nodes:[],relationships:[]},r=new Map;return function(e){for(var t=of(e),r=[];t.length;){var n=t.pop();Array.isArray(n)?t.push.apply(t,of(n)):r.push(n)}return r}(e).forEach((function(e){(0,ef.isNode)(e)?(t.nodes.push(uf(e)),r.set(e.elementId,e)):(0,ef.isPath)(e)?e.segments.forEach((function(e){t.nodes.push(uf(e.start)),t.nodes.push(uf(e.end)),t.relationships.push(sf(e.relationship)),r.set(e.start.elementId,e.start),r.set(e.end.elementId,e.end),r.set(e.relationship.elementId,e.relationship)})):(0,ef.isRelationship)(e)&&(t.relationships.push(sf(e)),r.set(e.elementId,e))})),nf(nf({},t),{},{recordObjectMap:r})}});const lf=(e=>{var t={};return o.d(t,e),t})({AnalyticsBrowser:()=>t.AnalyticsBrowser});var ff,hf=new Uint8Array(16);function df(){if(!ff&&!(ff="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ff(hf)}const pf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var vf=[],yf=0;yf<256;++yf)vf.push((yf+256).toString(16).substr(1));const bf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(vf[e[t+0]]+vf[e[t+1]]+vf[e[t+2]]+vf[e[t+3]]+"-"+vf[e[t+4]]+vf[e[t+5]]+"-"+vf[e[t+6]]+vf[e[t+7]]+"-"+vf[e[t+8]]+vf[e[t+9]]+"-"+vf[e[t+10]]+vf[e[t+11]]+vf[e[t+12]]+vf[e[t+13]]+vf[e[t+14]]+vf[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&pf.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r};var mf,gf,_f=0,wf=0;const Of=function(e,t,r){var n=t&&r||0,o=t||new Array(16),i=(e=e||{}).node||mf,a=void 0!==e.clockseq?e.clockseq:gf;if(null==i||null==a){var u=e.random||(e.rng||df)();null==i&&(i=mf=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=gf=16383&(u[6]<<8|u[7]))}var s=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:wf+1,l=s-_f+(c-wf)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||s>_f)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_f=s,wf=c,gf=a;var f=(1e4*(268435455&(s+=122192928e5))+c)%4294967296;o[n++]=f>>>24&255,o[n++]=f>>>16&255,o[n++]=f>>>8&255,o[n++]=255&f;var h=s/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=255&h,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var d=0;d<6;++d)o[n+d]=i[d];return t||bf(o)};function Sf(e){return Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(e)}function Ef(){Ef=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),u=new A(n||[]);return o(a,"_invoke",{value:T(e,r,u)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function b(){}function m(){}function g(){}var _={};c(_,a,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(k([])));O&&O!==r&&n.call(O,a)&&(_=O);var S=g.prototype=b.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(o,i,a,u){var s=f(e[o],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==Sf(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var o=h;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=x(u,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=f(t,r,n);if("normal"===c.type){if(o=n.done?v:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function x(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Sf(t)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(P.prototype),c(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Pf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Tf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xf(n.key),n)}}function xf(e){var t=function(e,t){if("object"!=Sf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Sf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sf(t)?t:String(t)}var Cf=window.localStorage,jf="neo4j.nvl.sTid",Af=!1,kf=function(){function e(){var t,r,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t=this,n=void 0,(r=xf(r="analytics"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n;var o=new lf.AnalyticsBrowser;this.analytics=o}var t,r,n,o,i;return n=e,o=[{key:"init",value:function(e){this.analytics.load({writeKey:e}),this.analytics.addSourceMiddleware((function(e){var t=e.payload,r=e.next,n=t.obj.context.page;void 0!==n&&(n.url="",n.title="",n.search="",n.referrer="",n.path=""),r(t)}))}},{key:"trackEvent",value:(t=Ef().mark((function e(t){var r;return Ef().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:r="".concat(t.eventPrefix?t.eventPrefix:"NVL_core","-").concat(t.event),this.analytics.track(r,t.properties).catch((function(e){Kn.warn("TRACKING: Event tracking is failed. err: ".concat(e))}));case 4:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){Pf(i,n,o,a,u,"next",e)}function u(e){Pf(i,n,o,a,u,"throw",e)}a(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"identify",value:function(){if(!Af){var e=this.getSegmentTrackingId();this.analytics.identify(e).catch((function(e){Kn.debug("TRACKING: Identifying user for Segment tracking failed. err: ".concat(e))})),Af=!0}}},{key:"loadSavedSegmentId",value:function(){try{var e=Cf.getItem(jf);return"string"==typeof e?e:null}catch(e){return Kn.debug("TRACKING: Retrieving tracking Id failed. err: ".concat(e)),null}}},{key:"getSegmentTrackingId",value:function(){var e=this.loadSavedSegmentId(),t=null!=e?e:Of();return this.saveTrackingId(t),t}},{key:"saveTrackingId",value:function(e){Cf.setItem(jf,e)}},{key:"ready",value:function(){return this.analytics.ready().catch((function(e){Kn.debug("TRACKING: segment track instance not ready. err: ".concat(e))}))}}],o&&Tf(n.prototype,o),i&&Tf(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Rf(e){return Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(e)}function If(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||Nf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Nf(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Nf(e,t){if(e){if("string"==typeof e)return Df(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Df(e,t):void 0}}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lf(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Bf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ff(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bf(n.key),n)}}function Bf(e){var t=function(e,t){if("object"!=Rf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rf(t)?t:String(t)}function zf(e,t,r){Vf(e,t),t.set(e,r)}function Vf(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wf(e,t){return e.get(qf(e,t))}function Gf(e,t,r){return e.set(qf(e,t),r),r}function qf(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Hf=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,Zf=new WeakMap,Kf=new WeakMap,$f=new WeakMap,Qf=new WeakSet,Jf=function(){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vf(this,r=Qf),r.add(this),zf(this,Hf,void 0),zf(this,Yf,void 0),zf(this,Xf,void 0),zf(this,Zf,void 0),zf(this,Kf,void 0),zf(this,$f,void 0),!0!==i.disableTelemetry&&(Gf($f,this,new kf),Wf($f,this).init("4SGwdwzuDm5WkFvQtz7D6ATQlo14yjmW"),Wf($f,this).identify()),qf(Qf,this,th).call(this,i),Gf(Hf,this,new c(a)),Gf(Yf,this,new xl),Gf(Kf,this,i),Wf(Kf,this).frame=t,this.checkWebGLCompatibility(),qf(Qf,this,eh).call(this,n,o,i)}var t,n;return t=e,n=[{key:"restart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getNodePositions(),n=Wf(Xf,this),o=n.zoom,i=n.layout,a=n.layoutOptions,u=n.nodes,s=n.rels;Wf(Zf,this).destroy(),Object.assign(Wf(Kf,this),e),qf(Qf,this,eh).call(this,u.items,s.items,Wf(Kf,this)),this.setZoom(o),this.setLayout(i),this.setLayoutOptions(a),this.addAndUpdateElementsInGraph(u.items,s.items),t&&this.setNodePositions(r)}},{key:"addAndUpdateElementsInGraph",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];qf(Qf,this,oh).call(this,e),qf(Qf,this,ih).call(this,t,e);var r={added:!1,updated:!1};Wf(Xf,this).nodes.update(e,Uf({},r)),Wf(Xf,this).rels.update(t,Uf({},r)),Wf(Xf,this).nodes.add(e,Uf({},r)),Wf(Xf,this).rels.add(t,Uf({},r)),Wf(Xf,this).setGraphUpdated(),Wf(Zf,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var e=this;return Wf(Xf,this).nodes.items.filter((function(e){return e.selected})).map((function(t){return Uf(Uf({},t),Wf(Xf,e).nodes.idToPosition[t.id])}))}},{key:"getSelectedRelationships",value:function(){return Wf(Xf,this).rels.items.filter((function(e){return e.selected}))}},{key:"updateElementsInGraph",value:function(e,t){var r={added:!1,updated:!1};qf(Qf,this,oh).call(this,e),qf(Qf,this,ih).call(this,t,e),Wf(Xf,this).nodes.update(e,Uf({},r)),Wf(Xf,this).rels.update(t,Uf({},r)),Wf(Zf,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(e,t){qf(Qf,this,oh).call(this,e),qf(Qf,this,ih).call(this,t,e);var r={added:!1,updated:!1};Wf(Xf,this).nodes.add(e,Uf({},r)),Wf(Xf,this).rels.add(t,Uf({},r)),Wf(Zf,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(e){if(Array.isArray(e)&&!(0,r.isEmpty)(e)){var t,n={},o=Mf(e);try{for(o.s();!(t=o.n()).done;)n[t.value]=!0}catch(e){o.e(e)}finally{o.f()}var i,a=[],u=Mf(Wf(Xf,this).rels.items);try{for(u.s();!(i=u.n()).done;){var s=i.value;!0!==n[s.from]&&!0!==n[s.to]||a.push(s.id)}}catch(e){u.e(e)}finally{u.f()}a.length>0&&qf(Qf,this,nh).call(this,a),qf(Qf,this,rh).call(this,e),Wf(Xf,this).setGraphUpdated(),Wf(Zf,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(e){Array.isArray(e)&&!(0,r.isEmpty)(e)&&(qf(Qf,this,nh).call(this,e),Wf(Xf,this).setGraphUpdated(),Wf(Zf,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return Wf(Zf,this).dumpNodes()}},{key:"getRelationships",value:function(){return Wf(Zf,this).dumpRelationships()}},{key:"getNodeById",value:function(e){return Wf(Xf,this).nodes.idToItem[e]}},{key:"getRelationshipById",value:function(e){return Wf(Xf,this).rels.idToItem[e]}},{key:"getPositionById",value:function(e){return Wf(Xf,this).nodes.idToPosition[e]}},{key:"getCurrentOptions",value:function(){return Wf(Kf,this)}},{key:"destroy",value:function(){Wf(Zf,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(Wf(Xf,this).nodes.items.map((function(e){return Uf(Uf({},e),{},{selected:!1})})),Wf(Xf,this).rels.items.map((function(e){return Uf(Uf({},e),{},{selected:!1})})))}},{key:"fit",value:function(e,t){Wf(Zf,this).fit(e,t)}},{key:"resetZoom",value:function(){Wf(Zf,this).resetZoom()}},{key:"setUseWebGLRenderer",value:function(e){Wf(Zf,this).setRenderer(e?qi:Hi)}},{key:"setRenderer",value:function(e){Wf(Zf,this).setRenderer(e)}},{key:"setDisableWebGL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Wf(Kf,this).disableWebGL!==e&&(Wf(Kf,this).disableWebGL=e,this.restart())}},{key:"pinNode",value:function(e){Wf(Xf,this).nodes.update([{id:e,pinned:!0}],{})}},{key:"unPinNode",value:function(e){Wf(Xf,this).nodes.update(e.map((function(e){return{id:e,pinned:!1}})),{})}},{key:"setLayout",value:function(e){Wf(Xf,this).setLayout(e)}},{key:"setLayoutOptions",value:function(e){Wf(Xf,this).setLayoutOptions(e)}},{key:"getNodesOnScreen",value:function(){return Wf(Zf,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return Wf(Zf,this).getNodePositions()}},{key:"setNodePositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Wf(Zf,this).setNodePositions(e,t)}},{key:"isLayoutMoving",value:function(){return Wf(Zf,this).isLayoutMoving()}},{key:"saveToFile",value:function(e){Wf(Zf,this).saveToFile(e)}},{key:"saveFullGraphToLargeFile",value:function(e){Wf(Zf,this).saveFullGraphToLargeFile(e)}},{key:"setZoom",value:function(e){Wf(Zf,this).setZoomLevel(e)}},{key:"setPan",value:function(e,t){Wf(Zf,this).setPanCoordinates(e,t)}},{key:"setZoomAndPan",value:function(e,t,r){Wf(Zf,this).setZoomAndPan(e,t,r)}},{key:"getScale",value:function(){return Wf(Zf,this).getScale()}},{key:"getPan",value:function(){return Wf(Zf,this).getPan()}},{key:"getHits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["node","relationship"],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{hitNodeMarginWidth:0},n=Wf(Xf,this),o=n.zoom,i=n.panX,a=n.panY,u=n.webGLVisible,s=rc(e,Wf(Kf,this).frame,o,i,a),c=s.x,l=s.y,f=u?function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["node","relationship"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=[],a=[],u=r.nodes,s=r.rels;return n.includes("node")&&i.push.apply(i,Ac(function(e,t){var r,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[],a=kc(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);try{var u=function(){var a,u=r.value,s=n[u.id];if(void 0===(null==s?void 0:s.x)||void 0===s.y)return 1;var c=(null!==(a=u.size)&&void 0!==a?a:gn)*Cn(),l={x:s.x-e,y:s.y-t},f=Math.pow(c,2),h=Math.pow(c+o,2),d=Math.pow(l.x,2)+Math.pow(l.y,2),p=Math.sqrt(d);if(d<h){var v=i.findIndex((function(e){return e.distance>p}));i.splice(-1!==v?v:i.length,0,{data:u,targetCoordinates:{x:s.x,y:s.y},pointerCoordinates:{x:e,y:t},distanceVector:l,distance:p,insideNode:d<f})}};for(a.s();!(r=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}return i}(e,t,u.items,u.idToPosition,o.hitNodeMarginWidth))),n.includes("relationship")&&a.push.apply(a,Ac(function(e,t){var r,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],i={},a=kc(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);try{var u=function(){var a=r.value,u=a.from,s=a.to;if(void 0===i["".concat(u,".").concat(s)]){var c=n[u],l=n[s];if(void 0===(null==c?void 0:c.x)||void 0===c.y)return 0;if(void 0===(null==l?void 0:l.x)||void 0===l.y)return 0;var f=au({x:c.x,y:c.y},{x:l.x,y:l.y},{x:e,y:t});if(f<=Mc){var h=o.findIndex((function(e){return e.distance>f}));o.splice(-1!==h?h:o.length,0,{data:a,fromTargetCoordinates:{x:c.x,y:c.y},toTargetCoordinates:{x:l.x,y:l.y},pointerCoordinates:{x:e,y:t},distance:f})}i["".concat(u,".").concat(s)]=1,i["".concat(s,".").concat(u)]=1}};for(a.s();!(r=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}return o}(e,t,s.items,u.idToPosition))),{nodes:i,relationships:a}}(c,l,Wf(Xf,this),t,r):function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["node","relationship"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=[],a=[];return n.includes("node")&&i.push.apply(i,Ac(r.getCanvasNodesAt({x:e,y:t},o.hitNodeMarginWidth))),n.includes("relationship")&&a.push.apply(a,Ac(r.getCanvasRelsAt({x:e,y:t}))),{nodes:i,relationships:a}}(c,l,Wf(Zf,this),t,r);return Uf(Uf({},e),{},{nvlTargets:f})}},{key:"getContainer",value:function(){return Wf(Kf,this).frame}},{key:"checkWebGLCompatibility",value:function(){var e=Wf(Kf,this).disableWebGL;if(void 0===e||!e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("canvas");try{return Boolean(void 0!==window.WebGLRenderingContext&&(null!==e.getContext("webgl")||null!==e.getContext("experimental-webgl")))}catch(e){return!1}}();if(!t){if(void 0!==e)throw new Ho("Could not initialize WebGL");Wf(Kf,this).renderer=Hi,console.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}void 0===e&&(Wf(Kf,this).disableWebGL=!t)}}}],n&&Ff(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function eh(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gf(Xf,this,Ql(o)),o.minimapContainer instanceof HTMLElement||delete o.minimapContainer,Gf(Zf,this,new ml(Wf(Xf,this),o)),this.addAndUpdateElementsInGraph(r,n),Wf(Zf,this).on("restart",this.restart.bind(this));var i,a,u=Mf((i=Wf(Hf,this).callbacks,Object.entries(i)));try{for(u.s();!(a=u.n()).done;){var s=If(a.value,2),c=s[0];void 0!==s[1]&&Wf(Zf,this).on(c,Wf(Hf,this)[c].bind(Wf(Hf,this)))}}catch(e){u.e(e)}finally{u.f()}var l=null===(e=Wf(Kf,this).frame)||void 0===e?void 0:e.getAttribute("id");!0!==Wf(Kf,this).disableTelemetry&&setTimeout((function(){Wf(Zf,t).isDestroyed()||Wf($f,t).trackEvent({eventPrefix:jn.includes(l)?l:null,event:"instantiated",properties:{}})}),200)}function th(e){var t,r=e.logging;void 0!==(null==r?void 0:r.level)&&(t=r.level,Kn.setLevel(t),function(e,t){var r=e.methodFactory;e.methodFactory=function(e,n,o){var i=r(e,n,o);return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];"function"==typeof t.logger?t.logger.apply(t,[e].concat(n)):i.apply(void 0,n)}},e.setLevel(e.getLevel())}(Kn,r))}function rh(e){var t=Array.isArray(e)?e:[e],r=Wf(Xf,this),n=r.nodes,o=r.fitNodeIds;n.remove(t,{removed:!1}),o.length&&void 0!==t.find((function(e){return o.includes(e)}))&&Wf(Xf,this).fitNodes(o.filter((function(e){return!t.includes(e)})))}function nh(e){var t=Array.isArray(e)?e:[e];Wf(Xf,this).rels.remove(t,{removed:!1})}function oh(e){var t=e.find((function(e){return!function(e){return Boolean(e)&&"string"==typeof e.id&&e.id.length>0}(e)}));if(t){var r="";throw/^\d+$/.test(t.id)||(r=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(t),".").concat(r))}}function ih(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r="",n=null,o=Wf(Xf,this),i=o.nodes,a=o.rels,u={},s=0;s<t.length;s++){var c=t[s];u[c.id]=c}for(var l=Uf(Uf({},i.idToItem),u),f=a.idToItem,h=0;h<e.length;h++){var d=e[h];if(!Jl(d)){n=d,/^\d+$/.test(d.id)&&(r=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(void 0===f[d.id]){var p=l[d.from],v=l[d.to];if(void 0===p){r=' Node with id "'.concat(d.from,'" does not exist.'),n=d;break}if(void 0===v){r=' Node with id "'.concat(d.to,'" does not exist.'),n=d;break}}}if(null!==n)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(n),".").concat(r))}var ah={textColorForBackground:Us};const uh=Jf})();var a=i.RL,u=i.wK,s=i.x_,c=i.lv,l=i.YQ,f=i.BP,h=i.GZ,d=i.Vw,p=i.Ay,v=i._G,y=i.Wy,b=i.h4;export{a as CompatibilityError,u as ForceDirectedLayoutType,s as FreeLayoutType,c as GridLayoutType,l as HierarchicalLayoutType,f as NVL,h as colorMapperFunctions,d as d3ForceLayoutType,p as default,v as drawCircleBand,y as getZoomTargetForNodePositions,b as nvlResultTransformer};