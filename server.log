INFO:__main__:✅ Approval system imported successfully
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
 * Serving Flask app 'app'
 * Debug mode: on
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.71:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:58:00] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
ERROR:approval.pre_approval_db:❌ Failed to initialize pre-approval database: tuple concurrently updated
WARNING:approval.pre_approval_db:⚠️ Error during pool cleanup: Task <Task pending name='Task-16' coro=<PoolConnectionHolder.wait_until_released() running at /opt/homebrew/lib/python3.13/site-packages/asyncpg/pool.py:241> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]> got Future <Future pending> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_entities: tuple concurrently updated
ERROR:approval.pre_approval_db:❌ Failed to initialize pre-approval database: PoolConnectionHolder.release() called on a free connection holder
ERROR:__main__:❌ Error in async DB method get_statistics: PoolConnectionHolder.release() called on a free connection holder
ERROR:__main__:❌ Failed to get pre-approval entities: tuple concurrently updated
ERROR:__main__:❌ Failed to get pre-approval statistics: PoolConnectionHolder.release() called on a free connection holder
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:58:02] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:58:02] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Error in async DB method get_statistics: Database connection pool is not available
ERROR:__main__:❌ Failed to get pre-approval statistics: Database connection pool is not available
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:58:11] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/approval/pre_approval_db.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/approval/pre_approval_db.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
ERROR:approval.pre_approval_db:❌ Error getting entities: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_entities: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval entities: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:01] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:approval.pre_approval_db:❌ Error getting entities: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_entities: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval entities: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:01] "[35m[1mGET /api/pre-approval/entities?limit=5&status=pending HTTP/1.1[0m" 500 -
ERROR:approval.pre_approval_db:❌ Error getting entities: Task <Task pending name='Task-5' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_entities: Task <Task pending name='Task-5' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval entities: Task <Task pending name='Task-5' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:88> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:02] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
ERROR:approval.pre_approval_db:❌ Error getting statistics: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Error in async DB method get_statistics: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Failed to get pre-approval statistics: cannot perform operation: another operation is in progress
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:03] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=ConnectionDoesNotExistError('connection was closed in the middle of operation')>
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
ERROR:approval.pre_approval_db:❌ Error getting entities: Event loop is closed
ERROR:__main__:❌ Error in async DB method get_entities: Event loop is closed
ERROR:approval.pre_approval_db:❌ Error getting statistics: Event loop is closed
ERROR:__main__:❌ Error in async DB method get_statistics: Event loop is closed
ERROR:__main__:❌ Failed to get pre-approval entities: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:12] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval statistics: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:12] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
ERROR:approval.pre_approval_db:❌ Error getting statistics: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_statistics: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval statistics: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_run_until_complete_cb() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:26] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:27] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
ERROR:approval.pre_approval_db:❌ Error getting entities: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Error in async DB method get_entities: cannot perform operation: another operation is in progress
ERROR:approval.pre_approval_db:❌ Error getting statistics: Event loop is closed
ERROR:__main__:❌ Failed to get pre-approval entities: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Error in async DB method get_statistics: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:32] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval statistics: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:32] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=ConnectionDoesNotExistError('connection was closed in the middle of operation')>
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
ERROR:approval.pre_approval_db:❌ Error getting entities: Event loop is closed
ERROR:__main__:❌ Error in async DB method get_entities: Event loop is closed
ERROR:approval.pre_approval_db:❌ Error getting statistics: Event loop is closed
ERROR:__main__:❌ Error in async DB method get_statistics: Event loop is closed
ERROR:__main__:❌ Failed to get pre-approval entities: Event loop is closed
ERROR:__main__:❌ Failed to get pre-approval statistics: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:42] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:42] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:approval.pre_approval_db:❌ Error getting entities: Event loop is closed
ERROR:__main__:❌ Error in async DB method get_entities: Event loop is closed
ERROR:__main__:❌ Failed to get pre-approval entities: Event loop is closed
ERROR:approval.pre_approval_db:❌ Error getting statistics: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:52] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Error in async DB method get_statistics: Event loop is closed
ERROR:__main__:❌ Failed to get pre-approval statistics: Event loop is closed
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 21:59:52] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
ERROR:approval.pre_approval_db:❌ Error getting statistics: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_statistics: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async operation: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval statistics: Task <Task pending name='Task-2' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:07] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:approval.pre_approval_db:❌ Error getting entities: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_entities: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async operation: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval entities: Task <Task pending name='Task-3' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:07] "[35m[1mGET /api/pre-approval/entities?limit=3&status=pending HTTP/1.1[0m" 500 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
ERROR:approval.pre_approval_db:❌ Error getting statistics: Task <Task pending name='Task-7' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_statistics: Task <Task pending name='Task-7' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async operation: Task <Task pending name='Task-7' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval statistics: Task <Task pending name='Task-7' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:12] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:approval.pre_approval_db:❌ Error getting entities: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Error in async DB method get_entities: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Error in async operation: cannot perform operation: another operation is in progress
ERROR:__main__:❌ Failed to get pre-approval entities: cannot perform operation: another operation is in progress
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:12] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=ConnectionDoesNotExistError('connection was closed in the middle of operation')>
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
ERROR:approval.pre_approval_db:❌ Error getting entities: Task <Task pending name='Task-9' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_entities: Task <Task pending name='Task-9' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:approval.pre_approval_db:❌ Error getting statistics: Task <Task pending name='Task-10' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async operation: Task <Task pending name='Task-9' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async DB method get_statistics: Task <Task pending name='Task-10' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Failed to get pre-approval entities: Task <Task pending name='Task-9' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
ERROR:__main__:❌ Error in async operation: Task <Task pending name='Task-10' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:22] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval statistics: Task <Task pending name='Task-10' coro=<run_async_db_method() running at /Users/he/git/llm-entity-graph/web_ui/app.py:92> cb=[_chain_future.<locals>._call_set_state() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:391]> got Future <Future pending cb=[_chain_future.<locals>._call_check_cancel() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/futures.py:384]> attached to a different loop
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:22] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
ERROR:__main__:❌ Failed to get pre-approval entities: name 'run_async_db_method' is not defined
ERROR:__main__:❌ Failed to get pre-approval statistics: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:32] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:32] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval entities: name 'run_async_db_method' is not defined
ERROR:__main__:❌ Failed to get pre-approval statistics: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:42] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:42] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval entities: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:52] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval statistics: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:00:52] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval entities: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:02] "[35m[1mGET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1[0m" 500 -
ERROR:__main__:❌ Failed to get pre-approval statistics: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:02] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
ERROR:__main__:❌ Failed to get pre-approval statistics: name 'run_async_db_method' is not defined
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:12] "[35m[1mGET /api/pre-approval/statistics HTTP/1.1[0m" 500 -
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:16] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:26] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:29] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:01:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:24] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:02:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:34] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:03:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:04:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:05:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:14] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:17] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:17] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:17] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:17] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:18] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:18] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:18] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
WARNING:approval.pre_approval_db:⚠️ Error closing database pool: Task <Task pending name='Task-147' coro=<PoolConnectionHolder.close() running at /opt/homebrew/lib/python3.13/site-packages/asyncpg/pool.py:247> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
ERROR:__main__:❌ Failed to approve pre-approval entity: cannot perform operation: another operation is in progress
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:26] "[35m[1mPOST /api/pre-approval/entities/7da89ee8-d551-4cea-ae99-1573e58f0a1d/approve HTTP/1.1[0m" 500 -
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=ConnectionDoesNotExistError('connection was closed in the middle of operation')>
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:32] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:✅ Pre-approval database connections closed
ERROR:__main__:❌ Failed to reject pre-approval entity: cannot perform operation: another operation is in progress
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:33] "[35m[1mPOST /api/pre-approval/entities/6f376934-c6dc-48bd-bf80-e5e4b193a886/reject HTTP/1.1[0m" 500 -
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=ConnectionDoesNotExistError('connection was closed in the middle of operation')>
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
ERROR:approval.pre_approval_db:❌ Error getting statistics: pool is closed
INFO:approval.pre_approval_db:🔄 Attempting to reinitialize database connection...
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:40] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:41] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:42] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:50] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:58] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:06:58] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:18] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:18] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:29] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:29] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:38] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:39] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
WARNING:approval.pre_approval_db:⚠️ Error closing database pool: Task <Task pending name='Task-228' coro=<PoolConnectionHolder.close() running at /opt/homebrew/lib/python3.13/site-packages/asyncpg/pool.py:247> cb=[gather.<locals>._done_callback() at /opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:820]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
ERROR:__main__:❌ Failed to approve pre-approval entity: cannot perform operation: another operation is in progress
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:42] "[35m[1mPOST /api/pre-approval/entities/a61f5f56-04df-4e73-a6d7-5741bb8c98a0/approve HTTP/1.1[0m" 500 -
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=ConnectionDoesNotExistError('connection was closed in the middle of operation')>
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:55] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:58] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:07:59] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:__main__:🧹 Starting complete database cleanup (Neo4j + Vector)...
INFO:__main__:✅ Neo4j cleanup completed: 0 nodes, 0 relationships deleted
INFO:__main__:✅ Neo4j session closed
ERROR:__main__:❌ Vector cleanup failed: No module named 'agent.vector_store'
WARNING:__main__:⚠️ Partial cleanup completed with some failures
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:13] "[35m[1mPOST /api/cleanup/all HTTP/1.1[0m" 207 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:18] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:19] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:28] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:29] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:38] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:38] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:48] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:58] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:08:59] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:18] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:19] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:28] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:29] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:38] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:38] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:48] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:58] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:09:59] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:18] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:19] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:29] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:30] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:38] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:38] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:48] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:58] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:10:59] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:24] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:28] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:28] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:38] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:39] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:48] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:58] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:11:59] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:18] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:18] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:32] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:34] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:38] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:38] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:49] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:58] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:12:58] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:09] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:18] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:18] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:37] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:38] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:39] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:48] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:13:48] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/he/git/llm-entity-graph/web_ui/app.py', reloading
🌐 Starting Web UI for Agentic RAG
📡 API URL: http://localhost:8058
🚀 Web UI URL: http://0.0.0.0:5001
INFO:werkzeug: * Restarting with stat
INFO:__main__:✅ Approval system imported successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 105-361-135
INFO:__main__:✅ Pre-approval database singleton created (will initialize on first use)
INFO:approval.pre_approval_db:✅ Pre-approval database tables created
INFO:approval.pre_approval_db:✅ Pre-approval database initialized
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:04] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:05] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:08] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:08] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:19] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:19] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:28] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:29] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:38] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:39] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:48] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:49] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:54] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:54] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:54] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:54] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:54] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:55] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:56] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:56] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:57] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:14:58] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:06] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:07] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:16] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:16] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:22] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:24] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:24] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:24] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:26] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:✅ Approved entity a61f5f56-04df-4e73-a6d7-5741bb8c98a0
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:33] "POST /api/pre-approval/entities/a61f5f56-04df-4e73-a6d7-5741bb8c98a0/approve HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:34] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:34] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:44] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:44] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:❌ Rejected entity 6f376934-c6dc-48bd-bf80-e5e4b193a886
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:53] "POST /api/pre-approval/entities/6f376934-c6dc-48bd-bf80-e5e4b193a886/reject HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:54] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:15:54] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:04] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:04] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:14] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:14] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:24] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:24] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:34] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:34] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:35] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:35] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:35] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:35] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:35] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:36] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:36] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "[36mGET /static/js/neo4j-graph-visualization.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "[36mGET /static/js/dist/nvl.bundle.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "[36mGET /static/js/chat-graph-visualization.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:38] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:42] "GET /unified HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:42] "[36mGET /static/css/approval.css HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:42] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:42] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:42] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:42] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:__main__:🧹 Starting complete database cleanup (Neo4j + Vector)...
INFO:__main__:✅ Neo4j cleanup completed: 0 nodes, 0 relationships deleted
INFO:__main__:✅ Neo4j session closed
ERROR:__main__:❌ Vector cleanup failed: No module named 'agent.vector_store'
WARNING:__main__:⚠️ Partial cleanup completed with some failures
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:52] "[35m[1mPOST /api/cleanup/all HTTP/1.1[0m" 207 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:__main__:✅ Neo4j session closed
WARNING:__main__:⚠️ Failed to get vector status: No module named 'agent.vector_store'
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:16:58] "GET /api/cleanup/status HTTP/1.1" 200 -
INFO:__main__:✅ Neo4j session closed
WARNING:__main__:⚠️ Failed to get vector status: No module named 'agent.vector_store'
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:01] "GET /api/cleanup/status HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:02] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:12] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:22] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:22] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:32] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:17:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:12] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:34] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:18:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:02] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:02] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:22] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:32] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:32] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:52] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:19:52] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:12] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:22] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:22] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:44] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:52] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:20:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:04] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:13] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:23] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:42] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:21:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:03] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:03] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:13] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:14] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:23] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:24] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:33] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:33] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:43] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:43] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:53] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:22:53] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
INFO:approval.pre_approval_db:📋 Retrieved 10 entities from pre-approval DB
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:23:54] "GET /api/pre-approval/entities?limit=10&status=pending HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jul/2025 22:23:54] "GET /api/pre-approval/statistics HTTP/1.1" 200 -
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-cfe48mo8'}
  warnings.warn(
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-vpov7nrp'}
  warnings.warn(
